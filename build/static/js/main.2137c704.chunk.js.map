{"version":3,"sources":["utils/AuthProvider.js","utils/AuthGuard.js","utils/NotificationsProvider.js","utils/FirebaseReminders.js","components/NavBar.js","components/Button.js","screens/Calendar/Calendar.js","history.js","screens/Login/SignIn/SignIn.js","screens/Login/SignUp/SignUp.js","screens/Login/Recover/Recover.js","screens/Login/login.js","screens/Home/NotificationsList/NotificationCard.js","screens/Home/NotificationsList/NotificationsList.js","screens/Home/InvitationList/InvitationCard.js","screens/Home/InvitationList/InvitationList.js","screens/Home/List/ListCard.js","screens/Home/List/ListCreator.js","screens/Home/List/List.js","screens/Home/StickyNotes/StickyNote.js","screens/Home/StickyNotes/StickyNoteCreator.js","screens/Home/StickyNotes/StickyNotes.js","screens/Home/NewNotificationForm/RadioForm.js","screens/Home/NewNotificationForm/CheckBoxButton.js","screens/Home/NewNotificationForm/CollapseButton.js","screens/Home/NewNotificationForm/NewNotificationForm.js","screens/Home/Home.js","screens/Settings/Settings.js","screens/Groups/Firebase.js","screens/Groups/Groups.js","App.js","reportWebVitals.js","index.js","screens/Settings/Settings.module.css"],"names":["AuthContext","React","createContext","loading","isLoggedIn","user","useUser","useContext","AuthProvider","props","useState","setIsLoggedIn","setLoading","setUser","useEffect","unsubscribe","firebase","auth","onAuthStateChanged","a","console","log","getUserDataFromFirestore","uid","userData","error","contextValue","Provider","value","children","userId","Promise","resolve","reject","firestore","collection","doc","get","then","snap","exists","data","catch","e","AuthGuard","location","useLocation","history","useHistory","pathname","toLowerCase","includes","replace","Fragment","NotificationsProvider","messaging","getToken","vapidKey","currentToken","sendTokenToUser","err","token","set","merge","Reminder","this","textContent","currentUser","add","text","date","frequency","weekDays","type","groupID","admin","usersGroup","reminderId","id","membersId","members","adminsId","usersIdArray","i","length","group","reminderTypes","default","cyclical","special","textContentState","atom","key","dateState","Date","weekDaysState","timeState","frequencyState","typeState","Map","docRefAdmin","docRefMember","docGroupsAdmin","docGroupsMember","adminGroupsId","memberGroupsId","groupsIdArray","groupId","trim","selected","name","usersId","docGroupData","tmp","logOut","signOut","NavBar","window","URL","OnClick","newURL","push","Container","MyLink","to","active","onClick","style","paddingRight","styled","Link","div","Btn","s","borderColor","color","backgroundColor","classes","makeStyles","class","borderRadius","height","useStyles","Button","startIcon","variant","className","endIcon","disabled","dayNames","monthNames","now","startingDate","setDate","calendarStartingDate","getDate","getDay","remindersList","Array","currentMonth","callback","db","remindersCollection","snapshot","empty","forEach","seconds","day","month","getMonth","year","getFullYear","time","getHours","getMinutes","Calendar","calendarDivRef","useRef","setMonth","setMonthListener","deltaY","LoadReminders","document","addEventListener","removeEventListener","CalendarDiv","ref","fontSize","fontWeight","Wrapper","GridContainer","PrepareCalendarDays","days","monthDays","reminders","j","cyclicalReminderManager","specialReminderManager","CalendarDay","dayNumber","reminds","Component","reminder","remind","ReminderLabel","ReminderTime","ReminderText","GridItem","textAlign","marginTop","marginBottom","DayNumber","p","createBrowserHistory","LoginForm","state","setState","mail","setMail","password","setPassword","buttonDisabled","setButtonDisabled","useSnackbar","enqueueSnackbar","provider","closeSnackbar","GoogleAuthProvider","LoginContainer","MyInput","placeholder","onChange","target","MyLink2","EmptyBox","FormControlLabel","control","Checkbox","checked","checkedB","event","label","Buttonscontainer","width","display","justifyContent","alignItems","src","setCustomParameters","login_hint","signInWithPopup","result","credential","accessToken","email","userName","displayName","emailNotification","pushNotification","loggedByGoogle","code","message","validator","isEmail","isLength","min","max","setPersistence","Auth","Persistence","LOCAL","signInWithEmailAndPassword","errorMessage","SESSION","input","img","Register","password2","setPassword2","setName","Nag","MyText","n","p2","createUserWithEmailAndPassword","Recover","state2","setState2","sendMail","emailAddress","sendPasswordResetEmail","WrongMail","Login","FlexboxContainerContainer","Tytul","FlexboxContainer","FlexboxItem","FlexboxItem1","Img","FlexboxItem2","exact","path","NotificationCard","anchorEl","setAnchorEl","timeString","toLocaleString","weekday","hour","minute","second","handleClose","Time","marginLeft","MoreIconContainer","currentTarget","Menu","keepMounted","open","Boolean","onClose","MenuItem","delete","withStyles","theme","root","position","top","right","IconButton","NotificationsList","list","setList","query","limit","orderBy","remindersSubscription","onSnapshot","renderList","array","Header","HeaderText","List","InvitationCard","invitation","removeInvitation","update","invitations","FieldValue","arrayRemove","arrayUnion","Info","msg","ButtonsDiv","InvitationList","invitationList","invitationsSubscription","docs","map","ListCard","myArray","setMyArray","updateFirestoreExpand","myID","myBool","expanded","ChangeCheckbox","index","myMap","parentID","values","boxstate","from","setMyMap","myList","updateFirestore","title","DeleteIconContainer","listRef","myExpanded","ExpandLessIconContainer","ExpandMoreIconContainer","Collapse","in","timeout","minWidth","margin","padding","MoreContent","element","CheckBoxBtn","CheckBoxText","span","cursor","DeleteIcon","ExpandMoreIcon","ExpandLessIcon","ListCreator","productID","setProductID","handleTextChange","listContent","handleListChange","validateTextInput","validateTextTitle","clearForm","clearList","MyTextInput","MoreIconContainerTop","MyTextField","onKeyDown","textarea","ListContainer","stickyNoteSubscription","clear","tempElement","elementID","useRecoilValue","isFormOpened","marginRight","StickyNote","Typography","content","stickyRef","StickyNoteCreator","StickyNotes","stickyNote","MyRadio","Radio","MyLabel","RadioForm","useRecoilState","setValue","setType","FormControl","component","RadioGroup","row","aria-label","defaultValue","undefined","labelPlacement","outlined","contained","MyButton","CheckBoxButton","Set","weekDaysArr","setWeekDaysState","getVariant","weekDay","has","size","container","flexDirection","paddingTop","CollapseButton","styles","daysNumbers","openedContainer","gridColumn","noOpenedContainer","firstColumn","flex","collapsedSecondColumn","noCollapsedSecondColumn","errorTextInput","border","successTextInput","borderBottom","opacity100","opacity","opacity40","NewNotificationForm","selectedDate","handleDateChange","selectedTime","handleTimeChange","setIsFormOpenedState","setWeekDaysArr","setFrequency","showMoreSettings","setShowMoreSettings","textInputState","setTextInputState","datePickerVersion","setDatePickerVersion","groupsData","setGroupData","load","setLoad","getAllGroups","getTime","setHours","validateDate","prepareDate","find","FormContainer","ContentInput","onInput","scrollHeight","TimePickersContainer","utils","DateFnsUtils","DateTimePicker","showTodayButton","disablePast","ampm","TimePicker","openTo","views","format","GroupsContainer","keys","seleced","ButtonsContainer","sendToGroupReminder","entries","SendReminderToGroupCollection","SendReminderToUserCollection","Home","WidgetContainer","Settings","emailWarning","newPasswdWarning","passwdWarning","notify","elements","notifyPush","notifyEmail","header","settings","settingsContentBox","item","settingsOption","generalUserValue","Switch","notifySwitch","inputProps","buttons","newName","psw","EmailAuthProvider","reauthenticateWithCredential","oldPass","newPass","oldMail","updatePassword","updateEmail","_getUserGroupsData","mainDoc","docRef","docGroups","users","docUserData","firebaseAdminGroupsMapState","NewGroupsMap","EditInfoGroupsMap","NewGroupsMembersMap","RemoveMemebersFromGroupsMap","RemoveGroupsMap","updates","sendToFirebaseNewGroupsData","sendToFirebaseNewGroupsMembers","updateInFirebaseGroupsInfo","removeFromFirebaseGroupsMembers","removeGroupsFromFirebase","mp","docGroupsRef","updats","randomGroupId","groupName","docUserGroupsRef","newUser","randomUserId","_sendInvitations","obj","newUserData","adminId","adminUserName","where","querySnapshot","firebaseLeftFromGroups","arr","UserAdminGroupsShowMembers","groupDetails","RightButton","fun","UserGroupsShowMembers","person","Groups","checkedA","checkedF","checkedG","userAdminGroupsView","userGroupsView","userAdminGroupsMembersView","userGroupsMembersView","TMP_AdminGroupsUndoList","TMP_AdminDeleteGroups","TMP_LeftFromGroups","TMP_AdminGroupsNew","TMP_AdminGroupsEditInfo","TMP_AdminGroupsAddMembers","TMP_AdminGroupsRemoveMembers","getUserAdminGroupsData","resultUserAdminGroupsView","getUserGroupsData","resultUserGroupsView","btnAdminGroupsViewClick","firebaseGroupId","Flexhelper","CreateGroupsTop","CreateGroups","CreateGroupsLeft","LeftButton","MyTextInput2","maxLength","undo","editGroup","groupData","deleteGroup","LeftButtonZnajomi","AddButton","Math","random","CreateGroupsDivider","CreateGroupsRight","textDecoration","pop","gName","personId","CreateGroupsBottomRow","BottomRowBack","BottomRowSetChanges","leftFromGroup","Object","sort","baseURL","hostname","protocol","port","Body","App","browserHistory","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","navigator","serviceWorker","register","registration","scope","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","ReactDOM","render","StrictMode","rel","href","getElementById","module","exports"],"mappings":"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","file":"static/js/main.2137c704.chunk.js","sourcesContent":["import React, {useState, useEffect, useContext} from 'react'\r\nimport firebase from 'firebase';\r\n\r\nexport const AuthContext = React.createContext({\r\n  loading: true,\r\n  isLoggedIn: false,\r\n  user: null\r\n});\r\n\r\nexport const useUser = () => useContext(AuthContext)\r\n\r\nexport function AuthProvider(props){\r\n  const [isLoggedIn, setIsLoggedIn] = useState(false)\r\n  const [loading, setLoading] = useState(true)\r\n  const [user, setUser] = useState(null)\r\n\r\n  useEffect(()=>{\r\n    const unsubscribe = firebase.auth().onAuthStateChanged(async (user) => {\r\n      console.log('authprovider', isLoggedIn, loading, user)\r\n      if(user != null) {\r\n        try {\r\n          let userData = await getUserDataFromFirestore(user.uid)\r\n          setUser({...user, ...userData})\r\n        } catch (error) {\r\n          console.error(error)\r\n          setUser(user)\r\n        }\r\n        setIsLoggedIn(true)\r\n      } else {\r\n        setIsLoggedIn(false)\r\n        setUser(null)\r\n      }\r\n      setLoading(false)\r\n    })\r\n    return () => {\r\n      unsubscribe()\r\n    }\r\n  }, [])\r\n\r\n  let contextValue = {\r\n    isLoggedIn, loading, user\r\n  }\r\n\r\n  return (\r\n    <AuthContext.Provider value={contextValue}>\r\n      {props.children}\r\n    </AuthContext.Provider>\r\n  );\r\n}\r\n\r\nconst getUserDataFromFirestore = (userId) => {\r\n  return new Promise((resolve, reject)=>{\r\n    firebase.firestore().collection('Users').doc(userId).get().then((snap) => {\r\n      if(snap.exists)\r\n        resolve(snap.data())\r\n      else\r\n        reject(\"Users doesn't exists in the firestore\")\r\n    }).catch((e)=>{\r\n      reject(e)\r\n    })\r\n  })\r\n}","import { PortraitSharp } from '@material-ui/icons'\r\nimport React, {useEffect} from 'react'\r\nimport {useLocation, useHistory} from 'react-router-dom'\r\nimport {useUser} from './AuthProvider'\r\n\r\nexport const AuthGuard = (props) => {\r\n  const location = useLocation()\r\n  const history = useHistory()\r\n  const {isLoggedIn, loading, user} = useUser()\r\n\r\n  useEffect(()=>{\r\n    console.log('authguard',isLoggedIn, loading, user)\r\n    if(!location.pathname.toLowerCase().includes('login') && isLoggedIn == false)\r\n      history.replace('/login')\r\n    if(loading) return;\r\n    if(location.pathname.toLowerCase().includes('login') && isLoggedIn == true)\r\n      history.replace('/')\r\n  }, [location, isLoggedIn, user, loading])\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {\r\n        loading ?\r\n          \"Loading...\"\r\n          :\r\n          props.children\r\n      }\r\n    </React.Fragment>\r\n  )\r\n}","import React, {useState, useEffect} from 'react'\r\nimport firebase from 'firebase'\r\nimport {useUser} from './AuthProvider'\r\n\r\nconst publicVapidKey = 'BBznZsasCYYiWohfBSJ-grbU5wxiaX7c5sw7uiJ6_zaW9k0roG655FOdNNm0KmXvfdQwIoDdl6COMwXWUuAuUlg'\r\n\r\nexport const NotificationsProvider = () => {\r\n  const {user, isLoggedIn} = useUser()\r\n\r\n  useEffect(()=>{\r\n    if(!isLoggedIn || user == null) return;\r\n    firebase.messaging().getToken({vapidKey: publicVapidKey}).then(async (currentToken) => {\r\n      if (currentToken) {\r\n        try {\r\n          await sendTokenToUser(user.uid, currentToken)\r\n        } catch (error) {\r\n          console.log(error)\r\n        }\r\n      } else {\r\n        // Show permission request.\r\n        console.log('No registration token available. Request permission to generate one.');\r\n        // Show permission UI.\r\n        //updateUIForPushPermissionRequired();\r\n        //setTokenSentToServer(false);\r\n      }\r\n    }).catch((err) => {\r\n      console.log('An error occurred while retrieving token. ', err);\r\n    });\r\n  }, [user, isLoggedIn])\r\n\r\n  return (\r\n    <React.Fragment />\r\n  )\r\n}\r\n\r\nconst sendTokenToUser = (userId, token) => {\r\n  return firebase.firestore().collection('Users').doc(userId).set({token}, {merge: true})\r\n}","import { ContactSupportOutlined } from '@material-ui/icons';\r\nimport firebase from 'firebase';\r\nimport { atom } from 'recoil';\r\n\r\nexport class Reminder {\r\n\tstatic reminderTypes = {\r\n\t\tdefault  : 'DEFAULT',\r\n\t\tcyclical : 'CYCLICAL',\r\n\t\tspecial  : 'SPECIAL'\r\n\t};\r\n\ttype;\r\n\ttextContent;\r\n\tdate;\r\n\ttime;\r\n\tfrequency;\t\t\t\t\t\t// everyDay, everyWeek, everyMonth, everyYear\r\n\tweekDays;\r\n\tusersGroup;\r\n\r\n\tSendReminderToUserCollection() {\r\n\t\t//firebase.firestore().collection('Users').doc(firebase.auth().currentUser.uid)\r\n\t\tconsole.log(this.textContent);\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tfirebase\r\n\t\t\t\t.firestore()\r\n\t\t\t\t.collection('Users')\r\n\t\t\t\t.doc(firebase.auth().currentUser.uid)\r\n\t\t\t\t.collection('Reminders')\r\n\t\t\t\t.add({\r\n\t\t\t\t\ttext      : this.textContent,\r\n\t\t\t\t\tdate      : this.date,\r\n\t\t\t\t\tfrequency : this.frequency,\r\n\t\t\t\t\tweekDays  : this.weekDays,\r\n\t\t\t\t\ttype      : this.type\r\n\t\t\t\t})\r\n\t\t\t\t.then(() => resolve())\r\n\t\t\t\t.catch(() => reject());\r\n\t\t});\r\n\t}\r\n\r\n\tSendReminderToGroupCollection(groupID) {\r\n\t\tconsole.log(`SendReminderToGroupCollection( ${groupID} )`);\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tfirebase.firestore().collection('Groups').doc(groupID).collection('Reminders').add({\r\n\t\t\t\ttext       : this.textContent,\r\n\t\t\t\tdate       : this.date,\r\n\t\t\t\tfrequency  : this.frequency,\r\n\t\t\t\tweekDays   : this.weekDays,\r\n\t\t\t\tadmin      : firebase.auth().currentUser.uid,\r\n\t\t\t\tusersGroup : groupID\r\n\t\t\t})\r\n\t\t\t.then(async doc => {\r\n\t\t\t\tlet reminderId = doc.id;\r\n\t\t\t\tawait firebase.firestore().collection('Groups').doc(groupID).get().then(async doc => {\r\n\t\t\t\t\tif(doc.exists) {\r\n\t\t\t\t\t\tvar membersId = doc.data().members;\r\n\t\t\t\t\t\tvar adminsId = doc.data().admin;\r\n\t\t\t\t\t\tvar usersIdArray = [...adminsId, ...membersId]\r\n\t\t\t\t\t\tconsole.log(\"Group reminder users\", reminderId, usersIdArray);\r\n\t\t\t\t\t\tfor(let i = 0; i < usersIdArray.length; i++) {\r\n\t\t\t\t\t\t\tlet userId = usersIdArray[i];\r\n\t\t\t\t\t\t\tconsole.log(reminderId, userId);\r\n\t\t\t\t\t\t\tawait firebase\r\n\t\t\t\t\t\t\t\t.firestore()\r\n\t\t\t\t\t\t\t\t.collection('Users')\r\n\t\t\t\t\t\t\t\t.doc(userId)\r\n\t\t\t\t\t\t\t\t.collection('Reminders')\r\n\t\t\t\t\t\t\t\t.doc(reminderId)\r\n\t\t\t\t\t\t\t\t.set({\r\n\t\t\t\t\t\t\t\t\ttext      : this.textContent,\r\n\t\t\t\t\t\t\t\t\tdate      : this.date,\r\n\t\t\t\t\t\t\t\t\tfrequency : this.frequency,\r\n\t\t\t\t\t\t\t\t\tweekDays  : this.weekDays,\r\n\t\t\t\t\t\t\t\t\ttype      : this.type,\r\n\t\t\t\t\t\t\t\t\tgroup\t  : groupID,\r\n\t\t\t\t\t\t\t\t\tadmin     : firebase.auth().currentUser.uid,\r\n\t\t\t\t\t\t\t\t}).then(() => {}).catch(e => console.log(e))\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tresolve()\r\n\t\t\t})\r\n\t\t\t.catch(() => reject());\r\n\t\t});\r\n\t}\r\n}\r\n\r\nexport const textContentState = atom({\r\n\tkey     : 'textContent',\r\n\tdefault : ''\r\n});\r\n\r\nexport const dateState = atom({\r\n\tkey     : 'date',\r\n\tdefault : new Date()\r\n});\r\n\r\nexport const weekDaysState = atom({\r\n\tkey     : 'weekDays',\r\n\tdefault : []\r\n});\r\n\r\nexport const timeState = atom({\r\n\tkey     : 'time',\r\n\tdefault : new Date()\r\n});\r\n\r\nexport const frequencyState = atom({\r\n\tkey     : 'frequency',\r\n\tdefault : ''\r\n});\r\n\r\nexport const typeState = atom({\r\n\tkey     : 'reminderType',\r\n\tdefault : Reminder.reminderTypes.default\r\n});\r\n\r\n/**\r\n * Function get all users group\r\n * @return data.set(groupId, {selected: false, name: String, usersId: []});\r\n */\r\nexport async function getAllGroups() {\r\n    let data = new Map();\r\n\r\n\tif(firebase.auth().currentUser === null) return data;\r\n\r\n\tlet userId = firebase.auth().currentUser.uid;\r\n\r\n\tvar docRefAdmin = firebase.firestore().collection(\"Users\").doc(userId).collection(\"Groups\").doc(\"Admins\");\r\n\tvar docRefMember = firebase.firestore().collection(\"Users\").doc(userId).collection(\"Groups\").doc(\"Members\");\r\n    \r\n    try {\r\n\r\n\t\t// Getting all arrays of groups id\r\n\t\tvar docGroupsAdmin = await docRefAdmin.get();\r\n\t\tvar docGroupsMember = await docRefMember.get();\r\n\t\tlet adminGroupsId;\r\n\t\tlet memberGroupsId;\r\n\r\n\t\tif (docGroupsAdmin.exists) {\r\n\t\t\tadminGroupsId = docGroupsAdmin.data().data;\r\n\t\t}\r\n\r\n\t\tif(docGroupsMember.exists) {\r\n\t\t\tmemberGroupsId = docGroupsMember.data().data;\r\n\t\t}\t\r\n\t\t\r\n\t\tvar groupsIdArray = [...adminGroupsId, ...memberGroupsId]\r\n\r\n\t\tfor(let i = 0; i < groupsIdArray.length; i++) {\r\n\t\t\tvar groupId = groupsIdArray[i].trim(); \r\n\r\n\t\t\t// Create emtpy map - key is group id\r\n\t\t\tdata.set(groupId, {selected: false, name: \"\", usersId: []});\r\n\r\n\t\t\ttry {\r\n\r\n\t\t\t\tlet docGroupData = await firebase.firestore().collection(\"Groups\").doc(groupId).get();\r\n\r\n\t\t\t\t// Save admin and member id to array\r\n\t\t\t\tif(docGroupData.exists) {\r\n\t\t\t\t\tvar tmp = [...docGroupData.data().admin, ...docGroupData.data().members]\r\n\t\t\t\t\tdata.get(groupId).usersId = tmp\r\n\t\t\t\t\tdata.get(groupId).name = docGroupData.data().name\r\n\t\t\t\t}\r\n\r\n\t\t\t} catch(e) {\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n    } catch(e) {\r\n        console.log(e);\r\n\t}\r\n\t\r\n    return data;\r\n}\r\n\r\n/**\r\n * Function get all users groups id\r\n * @return array of id\r\n */\r\nexport async function getGroupsIds() {\r\n \r\n\tif(firebase.auth().currentUser === null) return [];\r\n\r\n\tlet userId = firebase.auth().currentUser.uid;\r\n\r\n\tvar docRefAdmin = firebase.firestore().collection(\"Users\").doc(userId).collection(\"Groups\").doc(\"Admins\");\r\n\tvar docRefMember = firebase.firestore().collection(\"Users\").doc(userId).collection(\"Groups\").doc(\"Members\");\r\n    \r\n    try {\r\n\r\n\t\t// Getting all arrays of groups id\r\n\t\tvar docGroupsAdmin = await docRefAdmin.get();\r\n\t\tvar docGroupsMember = await docRefMember.get();\r\n\t\tlet adminGroupsId;\r\n\t\tlet memberGroupsId;\r\n\r\n\t\tif (docGroupsAdmin.exists) {\r\n\t\t\tadminGroupsId = docGroupsAdmin.data().data;\r\n\t\t}\r\n\r\n\t\tif(docGroupsMember.exists) {\r\n\t\t\tmemberGroupsId = docGroupsMember.data().data;\r\n\t\t}\t\r\n\t\t\r\n\t\tvar groupsIdArray = [...adminGroupsId, ...memberGroupsId]\r\n\r\n\t\treturn groupsIdArray;\r\n\r\n    } catch(e) {\r\n\t\tconsole.log(e);\r\n\t\treturn new Array();\r\n\t}\r\n\t\r\n}","import React,{useState} from 'react'\r\nimport styled from 'styled-components'\r\nimport HomeIcon from '@material-ui/icons/Home';\r\nimport CalendarToday from '@material-ui/icons/CalendarToday';\r\nimport PeopleAlt from '@material-ui/icons/PeopleAlt';\r\nimport Person from '@material-ui/icons/Person';\r\nimport ExitToApp from '@material-ui/icons/ExitToApp';\r\nimport {useUser} from '../utils';\r\nimport firebase from 'firebase';\r\n\r\n\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Link,\r\n  useHistory\r\n} from \"react-router-dom\";\r\n\r\nconst logOut = () =>{\r\n  firebase.auth().signOut().then(()=>{\r\n    //success\r\n  }).catch((error)=>{\r\n    //error\r\n  });\r\n  //history.push(\"/\");\r\n  //window.location.reload();\r\n  console.log(\"wylogowano (chyba)\");\r\n}\r\n\r\nexport default function NavBar() {\r\n  const {isLoggedIn} = useUser()\r\n  const [URL,setURL]=useState(window.location.pathname);\r\n  const history = useHistory()\r\n  let OnClick = (newURL) => {history.push(newURL)}\r\n  if(isLoggedIn)\r\n  return (\r\n    <Container>\r\n      <MyLink to=\"/\"          active={URL == \"\"?true:false}         onClick={()=>OnClick(\"\")}>          <HomeIcon style={{paddingRight: 5}}     />Home </MyLink>\r\n      <MyLink to=\"/Calendar\"  active={URL == \"/Calendar\"?true:false}onClick={()=>OnClick(\"/Calendar\")}> <CalendarToday style={{paddingRight: 5}}/>Kalendarz</MyLink> \r\n      <MyLink to=\"/Groups\"    active={URL == \"/Groups\"?true:false}  onClick={()=>OnClick(\"/Groups\")}>   <PeopleAlt style={{paddingRight: 5}}    />Zarzdzaj grupami </MyLink>\r\n      <MyLink to=\"/settings\"  active={URL == \"/settings\"?true:false} onClick={()=>OnClick(\"/settings\")}>  <Person style={{paddingRight: 5}}       />Profil </MyLink>\r\n      <MyLink to=\"/Login\"     onClick={logOut}>   <ExitToApp style={{paddingRight: 5}}    />Wyloguj</MyLink>    \r\n    </Container>\r\n  )\r\n  else\r\n  return(\r\n    <Container>\r\n    </Container>\r\n  )\r\n}\r\n\r\nconst MyLink = styled(Link)`\r\ncolor: ${props=>props.active === 1 ?\"#738F9C\":\"black\"} ;\r\ntext-decoration: none;\r\ndisplay: flex;\r\nflex-direction: row;\r\nalign-content: center;\r\npadding-left: 15px;\r\n&:hover{color: #9C9083};\r\n`\r\nconst Container = styled.div`\r\n  width: 100%;\r\n  padding: 30px 0 30px 0;\r\n  box-sizing: border-box;\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: flex-end;\r\n  align-self: center;\r\n`\r\n\r\n\r\n","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport {  makeStyles } from '@material-ui/core/styles';\r\n\r\nfunction Btn(props) {\r\n\r\n    const s = {\r\n        borderColor: props.type === 'outlined' ? props.color : 'transparent',\r\n        backgroundColor: props.type === 'contained' ? props.color : 'transparent',\r\n    }\r\n\r\n    const useStyles = makeStyles(() => ({\r\n        class: {\r\n          borderRadius: '15px',\r\n          height: '48px',\r\n          ...(props.style)\r\n        },\r\n    }));\r\n\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <Button\r\n            startIcon={props.startIcon}\r\n            variant={props.type}\r\n            className={classes.class}\r\n            style={s}\r\n            onClick={props.onClick}\r\n            endIcon={props.endIcon}\r\n            disabled={props.disabled}\r\n        >\r\n            {props.text}\r\n        </Button>\r\n    );\r\n}\r\n\r\nexport default Btn;","import React, { useEffect, useRef, useState } from \"react\"\r\nimport styled from 'styled-components'\r\nimport firebase from 'firebase';\r\nimport { useSetRecoilState } from \"recoil\";\r\n\r\nconst dayNames = ['pon', 'wto', 'ro', 'czw', 'pi', 'sob', 'nie'];\r\nconst monthNames = ['Stycze', 'Luty', 'Marzec', 'Kwiecie', 'Maj', 'Czerwiec', 'Lipiec', 'Sierpie', 'Wrzesie', 'Padziernik', 'Listopad', 'Grudzie'];\r\nvar now = new Date();\r\n\r\nvar wheelListener = false;\r\nvar startingDate = new Date(now.setDate(1));\r\n//var calendarStartingDate = new Date(startingDate.setDate(startingDate.getDate() - ((startingDate.getDay() + 7) % 8) + 1));\r\n\r\nvar calendarStartingDate = new Date(startingDate.setDate(startingDate.getDate() - (startingDate.getDay() - 1)))\r\n\r\nvar remindersList = new Array();\r\nvar monthReminders = new Array();\r\n\r\nasync function LoadReminders(currentMonth, callback) {\r\n    if (remindersList.length == 0) {\r\n        const db = firebase.firestore();\r\n        const remindersCollection = db.collection('Users').doc(firebase.auth().currentUser.uid).collection(\"Reminders\");\r\n        const snapshot = await remindersCollection.get();\r\n\r\n        if (!remindersCollection.empty) {\r\n            remindersList = new Array();\r\n            snapshot.forEach(doc => {\r\n                console.log(doc.id, '=>', doc.data());\r\n                var date = new Date(doc.data().date.seconds * 1000);\r\n                console.log(\"Date: \", date);\r\n                remindersList.push({\r\n                    date: date,\r\n                    day: date.getDate(),\r\n                    month: date.getMonth() + 1,\r\n                    year: date.getFullYear(),\r\n                    time: date.getHours() + ':' + date.getMinutes(),\r\n                    text: doc.data().text,\r\n                    frequency: doc.data().frequency,\r\n                    type: doc.data().type,\r\n                    weekDays: doc.data().weekDays\r\n                });\r\n            });\r\n        } else {\r\n            console.log(\"Reminders Collection is empty\");\r\n        }\r\n    }\r\n    callback(currentMonth + 1);\r\n    callback(currentMonth);\r\n}\r\n\r\n\r\nexport function Calendar() {\r\n    const calendarDivRef = useRef();\r\n    const [month, setMonth] = useState(now.getMonth());\r\n\r\n    const setMonthListener = (e) => {\r\n        var value = (e.deltaY > 0) ? 1 : -1;\r\n        console.log(e.deltaY + \" \" + value);\r\n        now.setDate(1);\r\n        now.setMonth(now.getMonth() + value);\r\n        setMonth(now.getMonth());\r\n        now.setDate(1);\r\n        console.log(\"month: \", now.getMonth() + 1);\r\n        return false;\r\n    }\r\n\r\n    useEffect(() => {\r\n        LoadReminders(now.getMonth(), (date) => { setMonth(date); });\r\n        document.addEventListener(\"wheel\", setMonthListener, true);\r\n        return () => { document.removeEventListener(\"wheel\", setMonthListener, true) };\r\n    }, []);\r\n\r\n    startingDate = new Date(now.setDate(1));\r\n    calendarStartingDate = new Date(startingDate.setDate(startingDate.getDate() - (startingDate.getDay() - 1)));\r\n\r\n    return (\r\n        <CalendarDiv ref={calendarDivRef}>\r\n            <p style={{ color: \"black\", fontSize: 24, fontWeight: 'Bold' }}>\r\n                {monthNames[now.getMonth()]} {now.getFullYear()}\r\n            </p>\r\n            <Wrapper>\r\n                <GridContainer>\r\n                    <PrepareCalendarDays />\r\n                </GridContainer>\r\n            </Wrapper>\r\n\r\n        </CalendarDiv>\r\n    )\r\n\r\n}\r\n\r\nclass PrepareCalendarDays extends React.Component {\r\n    render() {\r\n        const days = [];\r\n        var monthDays = [];\r\n        for (var i = 1; i <= 6 * 7; i++) {\r\n            monthDays[i] = calendarStartingDate.getDate();\r\n            calendarStartingDate.setDate(calendarStartingDate.getDate() + 1);\r\n            var reminders = new Array;\r\n\r\n            for (var j = 0; j < remindersList.length; j++) {\r\n                switch(remindersList[j].type){\r\n                    case \"DEFAULT\":\r\n                        if (calendarStartingDate.getMonth() + 1 == remindersList[j].month && monthDays[i] == remindersList[j].day) {\r\n                            // console.error(\"reminder: \", remindersList[j]);\r\n                            reminders.push(\r\n                                remindersList[j]\r\n                            );\r\n                        }\r\n                        break;\r\n                    case \"CYCLICAL\":\r\n                        cyclicalReminderManager(remindersList[j], reminders, calendarStartingDate, i, monthDays);\r\n                        break;\r\n                    case \"SPECIAL\":\r\n                        specialReminderManager(remindersList[j], reminders, calendarStartingDate);\r\n                        break;\r\n                }\r\n                 \r\n            }\r\n\r\n            days.push(\r\n                <CalendarDay key={i} i={i} dayNumber={monthDays[i]} reminds={reminders} />\r\n            );\r\n        }\r\n        return days;\r\n    }\r\n}\r\n\r\nconst days = new Array('mon', 'tue', 'wed', 'thu', 'fri', 'sat', 'sun');\r\n\r\nfunction specialReminderManager(reminder, reminders, calendarStartingDate){\r\n    if(reminder.weekDays.includes(days[calendarStartingDate.getDay() - 2])){\r\n        reminders.push(\r\n            reminder\r\n        );\r\n    }\r\n}\r\n\r\nfunction cyclicalReminderManager(reminder, reminders, calendarStartingDate, i, monthDays){\r\n    switch(reminder.frequency){\r\n        case \"everyDay\":\r\n            reminders.push(\r\n                reminder\r\n            );\r\n            break;\r\n        case \"everyWeek\":\r\n            // console.log(\"dzien: \"+ calendarStartingDate.getDay() + \" reminder dzien: \" + (reminder.date.getDay()+1));\r\n            if(calendarStartingDate.getDay() == (reminder.date.getDay()+1)){\r\n                reminders.push(\r\n                    reminder\r\n                );\r\n            }\r\n            break;\r\n        case \"everyMonth\":\r\n            // console.log(\"dzien: \" + monthDays[i] + \" reminder: \" + reminder.day);\r\n            if (monthDays[i] == reminder.day) {\r\n                reminders.push(\r\n                    reminder\r\n                );\r\n            }\r\n            break;\r\n        case \"everyYear\":\r\n            if (calendarStartingDate.getMonth() + 1 == reminder.month && monthDays[i] == reminder.day) {\r\n                reminders.push(\r\n                    reminder\r\n                );\r\n            }\r\n            break\r\n    }\r\n}\r\n\r\nfunction CalendarDay(props) {\r\n    var reminds = [];\r\n    // console.log(\"props: \",props);\r\n    props.reminds.forEach((remind) => {\r\n        reminds.push(\r\n            <ReminderLabel>\r\n                <ReminderTime>\r\n                    {remind.time}\r\n                </ReminderTime>\r\n                <ReminderText>\r\n                    {remind.text}\r\n                </ReminderText>\r\n            </ReminderLabel>\r\n        )\r\n    });\r\n\r\n    return (\r\n        <GridItem>\r\n            {props.i <= 7 ? <p style={{ textAlign: \"center\", color: \"gray\", fontSize: 14, fontWeight: 'Medium', marginTop: -3, marginBottom: 1 }}>{dayNames[props.i - 1]}</p> : null}\r\n            <DayNumber>\r\n                {props.dayNumber}\r\n            </DayNumber>\r\n            {reminds}\r\n        </GridItem>\r\n    )\r\n}\r\n\r\nconst CalendarDiv = styled.div`\r\ndisplay: flex;\r\nflex-grow: 1;\r\nflex-direction: column;\r\n`\r\n\r\nconst GridContainer = styled.div`\r\n    position: absolute;\r\n    top: 0; left: 0; right: 0; bottom: 0;\r\n    display: grid;\r\n    margin-bottom: 15px;\r\n    grid-template-rows: repeat(6, 1fr);\r\n    grid-template-columns: repeat(7, 1fr);\r\n    border-right: #9C9083 solid 1px;\r\n    border-bottom: #9C9083 solid 1px;\r\n    border-radius: 12px;\r\n    box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);\r\n\r\n`\r\n\r\nconst Wrapper = styled.div`\r\n    flex-grow: 1;\r\n    position: relative;\r\n`\r\n\r\nconst GridItem = styled.div`\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-self: stretch;\r\n    background-color: white;\r\n    border-left: #9C9083 solid 1px;\r\n    border-top: #9C9083 solid 1px;\r\n\r\n    &:nth-child(1){border-top-left-radius: 12px;};\r\n    &:nth-child(7){border-top-right-radius: 12px;};\r\n    &:nth-child(36){border-bottom-left-radius: 12px;};\r\n    &:nth-child(42){border-bottom-right-radius: 12px;};\r\n`\r\nconst ReminderLabel = styled.div`\r\n    display: flex;\r\n    margin: 5px;\r\n    flex-grow: 0;\r\n    justify-content: left;\r\n    align-items: center;\r\n    background-color: #B593C9;\r\n    vertical-align: middle;\r\n    border-radius: 12px;\r\n`\r\nconst ReminderTime = styled.p`\r\n    color: white;\r\n    margin:0;\r\n    margin-left: 10px;\r\n    text-align: left;\r\n    padding: 0;\r\n    font-weight:500;\r\n    font-size:12px;\r\n`\r\n\r\nconst ReminderText = styled.p`\r\n    text-align: center;\r\n    padding: 0;\r\n    margin:5px;\r\n    margin-left:5px;\r\n    margin-right:10px;\r\n    color: white;\r\n    font-weight: 500;\r\n    font-size: 12px;\r\n`\r\n\r\nconst DayNumber = styled.p`\r\n    text-align: center;\r\n    color: black;\r\n    font-size: 12px;\r\n    font-weight: bold;\r\n    margin-top: 0px;\r\n`","import { createBrowserHistory } from 'history';\r\n\r\nexport default createBrowserHistory();","import styled from 'styled-components';\r\nimport React, { useState } from 'react';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport validator from 'validator';\r\nimport firebase from 'firebase';\r\nimport history from '../../../history';\r\nimport { Link } from 'react-router-dom';\r\nimport { Button } from '../../../components';\r\nimport { useSnackbar } from 'notistack';\r\n\r\nexport function LoginForm() {\r\n\tconst [ state, setState ] = useState(false);\r\n\tconst handleChange = (event) => {\r\n\t\tsetState(!state);\r\n\t};\r\n\tconst [ mail, setMail ] = useState('');\r\n\tconst [ password, setPassword ] = useState('');\r\n\tconst [ buttonDisabled, setButtonDisabled ] = useState(false);\r\n\tconst { enqueueSnackbar, closeSnackbar } = useSnackbar();\r\n\tconst validateForm = () => {\r\n\t\tif (!validator.isEmail(mail)) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tif (!validator.isLength(password, { min: 6, max: 30 })) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn true;\r\n\t};\r\n\tconst login = () => {\r\n\t\tsetButtonDisabled(true);\r\n\t\tif (!validateForm()) {\r\n\t\t\tenqueueSnackbar('Bdne dane logowania', { variant: 'error' });\r\n\t\t\tconsole.log('Bd walidacji');\r\n\t\t\tsetButtonDisabled(false);\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tif (!state) {\r\n\t\t\tfirebase.auth().setPersistence(firebase.auth.Auth.Persistence.SESSION).then(() => {\r\n\t\t\t\tfirebase\r\n\t\t\t\t\t.auth()\r\n\t\t\t\t\t.signInWithEmailAndPassword(mail, password)\r\n\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\tconsole.log('zalogowano');\r\n\t\t\t\t\t\tsetButtonDisabled(false);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function(error) {\r\n\t\t\t\t\t\t// Handle Errors here.\r\n\t\t\t\t\t\t//var errorCode = error.code;\r\n\t\t\t\t\t\tvar errorMessage = error.message;\r\n\t\t\t\t\t\tconsole.log('firebase auth:', errorMessage);\r\n\t\t\t\t\t\tenqueueSnackbar('Bdne dane logowania', { variant: 'error' });\r\n\t\t\t\t\t\tsetButtonDisabled(false);\r\n\t\t\t\t\t\t// ...\r\n\t\t\t\t\t});\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tfirebase.auth().setPersistence(firebase.auth.Auth.Persistence.LOCAL).then(() => {\r\n\t\t\t\tfirebase\r\n\t\t\t\t\t.auth()\r\n\t\t\t\t\t.signInWithEmailAndPassword(mail, password)\r\n\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\tconsole.log('zalogowano');\r\n\t\t\t\t\t\tsetButtonDisabled(false);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function(error) {\r\n\t\t\t\t\t\t// Handle Errors here.\r\n\t\t\t\t\t\t//var errorCode = error.code;\r\n\t\t\t\t\t\tvar errorMessage = error.message;\r\n\t\t\t\t\t\tconsole.log('firebase auth:', errorMessage);\r\n\t\t\t\t\t\tenqueueSnackbar('Bdne dane logowania', { variant: 'error' });\r\n\t\t\t\t\t\tsetButtonDisabled(false);\r\n\t\t\t\t\t\t// ...\r\n\t\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\tvar provider = new firebase.auth.GoogleAuthProvider();\r\n\tconst gLogin = () => {\r\n\t\tsetButtonDisabled(true);\r\n\t\tprovider.setCustomParameters({\r\n\t\t\tlogin_hint : 'user@example.com'\r\n\t\t});\r\n\t\tfirebase\r\n\t\t\t.auth()\r\n\t\t\t.signInWithPopup(provider)\r\n\t\t\t.then(function(result) {\r\n\t\t\t\tvar credential = result.credential;\r\n\r\n\t\t\t\t// This gives you a Google Access Token. You can use it to access the Google API.\r\n\t\t\t\tvar token = result.credential.accessToken;\r\n\t\t\t\t// The signed-in user info.\r\n\t\t\t\tvar user = result.user;\r\n\t\t\t\t// ...\r\n\t\t\t\tconsole.log('zalogowano gmail (chyba)');\r\n\r\n\t\t\t\tvar user = firebase.auth().currentUser;\r\n\t\t\t\tvar email = user.email;\r\n\t\t\t\tvar userName = user.displayName;\r\n\r\n\t\t\t\tfirebase\r\n\t\t\t\t\t.firestore()\r\n\t\t\t\t\t.collection('Users')\r\n\t\t\t\t\t.doc(user.uid)\r\n\t\t\t\t\t.set({\r\n\t\t\t\t\t\temail    : email,\r\n\t\t\t\t\t\tuserName : userName,\r\n\t\t\t\t\t\temailNotification: false,\r\n                \t\tpushNotification: false,\r\n\t\t\t\t\t\tloggedByGoogle: true\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(function() {\r\n\t\t\t\t\t\tfirebase.firestore().collection(\"Users\").doc(user.uid).collection(\"Groups\").doc(\"Admins\").set({\r\n\t\t\t\t\t\t\tdata: []\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tfirebase.firestore().collection(\"Users\").doc(user.uid).collection(\"Groups\").doc(\"Members\").set({\r\n\t\t\t\t\t\t\tdata: []\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tsetButtonDisabled(false);\r\n\t\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch(function(error) {\r\n\t\t\t\t// Handle Errors here.\r\n\t\t\t\tvar errorCode = error.code;\r\n\t\t\t\tvar errorMessage = error.message;\r\n\t\t\t\t// The email of the user's account used.\r\n\t\t\t\tvar email = error.email;\r\n\t\t\t\t// The firebase.auth.AuthCredential type that was used.\r\n\t\t\t\tvar credential = error.credential;\r\n\t\t\t\tenqueueSnackbar('Wystpi bd', { variant: 'error' });\r\n\t\t\t\tsetButtonDisabled(false);\r\n\t\t\t\t// ...\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst GoogleIcon = () => <img src=\"https://img.icons8.com/fluent/48/000000/google-logo.png\" />;\r\n\treturn (\r\n\t\t<LoginContainer>\r\n\t\t\t<MyInput type=\"email\" id=\"fname\" name=\"fname\" placeholder=\"e-mail\" onChange={(e) => setMail(e.target.value)} />\r\n\t\t\t<MyInput type=\"password\" id=\"pname\" name=\"pname\" placeholder=\"haso\" onChange={(p) => setPassword(p.target.value)} />\r\n\t\t\t<MyLink2 to=\"/login/recover\">Odzyskiwanie hasa</MyLink2>\r\n\t\t\t<EmptyBox>\r\n\t\t\t\t<FormControlLabel\r\n\t\t\t\t\tcontrol={<Checkbox checked={state.checkedB} onChange={handleChange} name=\"checkedB\" color=\"#73909C\" />}\r\n\t\t\t\t\tlabel=\"Pamitaj mnie\"\r\n\t\t\t\t/>\r\n\t\t\t</EmptyBox>\r\n\t\t\t<Buttonscontainer>\r\n\t\t\t\t{/* <Google>\r\n                    <ImgG src=\"/assets/1004px-Google__G__Logo.svg.webp\"></ImgG>\r\n                    <span style={{ paddingTop: 16, paddingBottom: 16, paddingLeft: 20 }}>Zaloguj si</span>\r\n                </Google> */}\r\n\t\t\t\t<Button\r\n\t\t\t\t\tcolor=\"#fff\"\r\n\t\t\t\t\ttype=\"contained\"\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\twidth : '48%',\r\n\t\t\t\t\t\tcolor : 'black'\r\n\t\t\t\t\t}}\r\n\t\t\t\t\ttext={\r\n\t\t\t\t\t\t<span style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', width: '100%' }}>\r\n\t\t\t\t\t\t\tZaloguj si {GoogleIcon()}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t}\r\n\t\t\t\t\tonClick={gLogin}\r\n\t\t\t\t\tdisabled={buttonDisabled}\r\n\t\t\t\t/>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tcolor=\"#73909C\"\r\n\t\t\t\t\ttype=\"contained\"\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\twidth : '48%',\r\n\t\t\t\t\t\tcolor : '#fff'\r\n\t\t\t\t\t}}\r\n\t\t\t\t\ttext=\"Zaloguj si\"\r\n\t\t\t\t\tonClick={login}\r\n\t\t\t\t\tdisabled={buttonDisabled}\r\n\t\t\t\t/>\r\n\t\t\t</Buttonscontainer>\r\n\r\n\t\t\t<MyLink to=\"/login/reg\">Jeli nie masz konta, stwrz je</MyLink>\r\n\t\t</LoginContainer>\r\n\t);\r\n}\r\n\r\nconst LoginContainer = styled.div`\r\n\t//min-height: 300px;\r\n\tmin-width: 417px;\r\n\t//background-color: #dfdfdf;\r\n\tflex-direction: column;\r\n\tdisplay: flex;\r\n`;\r\nconst MyInput = styled.input`\r\n\tborder: 2px solid #73909c;\r\n\t//min-height:50px;\r\n\tmargin: 10px;\r\n\tfont-family: 'Roboto', sans-serif;\r\n\tcolor: #73909c;\r\n\tfont-size: 16px;\r\n\tborder-radius: 10px;\r\n\tpadding: 16px;\r\n\tbackground-color: transparent;\r\n\t&:focus {\r\n\t\tborder-radius: 10px;\r\n\t\tborder-color: #73909c;\r\n\t\toutline: none;\r\n\t}\r\n\t&:active {\r\n\t\tborder-radius: 10px;\r\n\t\tborder-color: #73909c;\r\n\t\toutline: none;\r\n\t}\r\n`;\r\nconst EmptyBox = styled.div`\r\n\t//min-height:50px;\r\n\t//min-width:417px;\r\n\tmargin: 10px;\r\n\tdisplay: flex;\r\n\tflex-direction: row;\r\n\t//text-align:center;\r\n\tcolor: #73909c;\r\n`;\r\nconst Google = styled.div`\r\n\theight: 48px;\r\n\tflex-direction: row;\r\n\tdisplay: flex;\r\n\tbackground-color: #ffffff;\r\n\ttext-align: center;\r\n\tfont-size: 16px;\r\n\tborder-radius: 12px;\r\n\tcolor: black;\r\n\tbox-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);\r\n\talign-content: center;\r\n\talign-items: center;\r\n\tpadding-left: 20px;\r\n\tpadding-right: 40px;\r\n`;\r\nconst Buttonscontainer = styled(EmptyBox)`\r\n    flex-direction:row;\r\n    justify-content: space-evenly;\r\n    flex-grow: 0;\r\n`;\r\n\r\nconst ImgG = styled.img`\r\n\tobject-fit: scale-down;\r\n\theight: 34px;\r\n\twidth: 34px;\r\n`;\r\nconst MyLink = styled(Link)`\r\ncolor: ${(props) =>\r\n\r\n\t\tprops.active ? '#738F9C' :\r\n\t\t'black'} ;\r\ntext-decoration: none; \r\ndisplay: flex;\r\nflex-direction: row;\r\nalign-content: center;\r\n//padding-left: 15px;\r\n&:hover{color: #9C9083};\r\nfont-weight: bold;\r\nfont-size: 14px;\r\ntext-align:center;\r\nalign-items: center;\r\nmargin: 10px;\r\njustify-content:center;\r\n`;\r\nconst MyLink2 = styled(Link)`\r\ntext-decoration: none;\r\ncolor:#738F9C; \r\ndisplay: flex;\r\nflex-direction: row;\r\n&:hover{color: #9C9083};\r\nfont-weight: medium;\r\nfont-size: 14px;\r\njustify-content:flex-end;\r\nmargin-right:12px;\r\n`;\r\n","import styled from 'styled-components'\r\nimport React, { useState } from 'react';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport validator from 'validator';\r\nimport firebase from 'firebase';\r\nimport history from '../../../history';\r\nimport {\r\n    Link\r\n  } from \"react-router-dom\";\r\nimport {Button} from '../../../components';\r\nimport { min } from 'date-fns';\r\nimport {useSnackbar} from 'notistack'\r\n\r\nexport function Register(props) {\r\n    const [mail, setMail] = useState(\"\");\r\n    const [password, setPassword]=useState(\"\");\r\n    const [password2,setPassword2]=useState(\"\");\r\n    const [name, setName]=useState(\"\");\r\n    const [state, setState] = useState(false);\r\n    const handleChange = (event) => {\r\n        setState(!state);\r\n    };\r\n    const [buttonDisabled, setButtonDisabled] = useState(false);\r\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar();\r\n    const validateForm = () => {\r\n        if(!validator.isEmail(mail)){\r\n            enqueueSnackbar('Bdny adres email', {variant: 'error'});\r\n            return false;\r\n        }\r\n        if(password!==password2){\r\n            enqueueSnackbar('Hasa rni si', {variant: 'error'});\r\n            return false;\r\n        }\r\n        if (!validator.isLength(password,{min:6, max:30})){\r\n            enqueueSnackbar('Haso musi zawiera minimum 6 znakw', {variant: 'error'});\r\n            return false;\r\n        }\r\n        if (!validator.isLength(name,{min:4, max:30})){\r\n            enqueueSnackbar('Zbyt krtka nazwa uytkownika', {variant: 'error'});\r\n            return false;\r\n        }\r\n        if (!state){\r\n            enqueueSnackbar('Wymagane jest zaakceptowanie regulaminu', {variant: 'error'});\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n    const reg = () => {\r\n        setButtonDisabled(true);\r\n        if (!validateForm())\r\n        {\r\n            console.log(\"Bd walidacji\");\r\n            setButtonDisabled(false);\r\n            return false;\r\n        }\r\n        firebase.auth().createUserWithEmailAndPassword(mail, password).then(({user})=>{\r\n            //uploadData();\r\n            console.log(user);\r\n            var email = mail;\r\n            var userName = name;\r\n            console.log(\"moj email: \", email);\r\n            console.log(\"moj nick: \", userName);\r\n            firebase.firestore().collection('Users').doc(user.uid).set({\r\n                email: email,\r\n                userName: userName,\r\n                emailNotification: false,\r\n                pushNotification: false,\r\n                loggedByGoogle: false\r\n            }).then(function(){\r\n                // Create empty collection of Groups with 2 doc (Admins and Members) that contains data = [];\r\n                firebase.firestore().collection(\"Users\").doc(user.uid).collection(\"Groups\").doc(\"Admins\").set({\r\n                    data: []\r\n                })\r\n                firebase.firestore().collection(\"Users\").doc(user.uid).collection(\"Groups\").doc(\"Members\").set({\r\n                    data: []\r\n                })\r\n                setButtonDisabled(false);\r\n            });\r\n        }).catch(function(error) {\r\n            var errorMessage = error.message;\r\n            console.log(\"firebase auth:\",errorMessage);\r\n            enqueueSnackbar('Wystpi bd', {variant: 'error'});\r\n            setButtonDisabled(false);\r\n            // ...\r\n          });\r\n        \r\n    }\r\n\r\n    return (\r\n        <LoginContainer>\r\n            <Nag>\r\n            <MyText>Rejestracja:</MyText>\r\n            <MyLink to=\"/login\">Powrt</MyLink>\r\n            </Nag>\r\n            <MyInput type=\"text\" id=\"nname\" name=\"nname\" placeholder=\"imi i nazwisko\" onChange={n=>setName(n.target.value)}>\r\n            </MyInput>\r\n            <MyInput type=\"email\" id=\"fname\" name=\"fname\" placeholder=\"e-mail\" onChange={e=>setMail(e.target.value)}>\r\n            </MyInput>\r\n            <MyInput type=\"password\" id=\"pname\" name=\"pname\" placeholder=\"haso\" onChange={p=>setPassword(p.target.value)}>\r\n            </MyInput>\r\n            <MyInput type=\"password\" id=\"pname2\" name=\"pname2\" placeholder=\"powtrz haso\" onChange={p2=>setPassword2(p2.target.value)}>\r\n            </MyInput>\r\n            <EmptyBox>\r\n                <FormControlLabel\r\n                    control={\r\n                        <Checkbox\r\n                            checked={state}\r\n                            onChange={handleChange}\r\n                            name=\"checkedB\"\r\n                            color=\"#73909C\"\r\n                        />\r\n                    }\r\n                    label=\"Akceptuj regulamin serwisu\"\r\n                />\r\n            </EmptyBox>\r\n            <Buttonscontainer>\r\n            <Button\r\n\t\t\t\t\tcolor=\"#73909C\"\r\n\t\t\t\t\ttype=\"contained\"\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\twidth: '60%',\r\n\t\t\t\t\t\tcolor: '#fff',\r\n\t\t\t\t\t}}\r\n                    text=\"Zarejestruj si\"\r\n                    onClick={reg}\r\n                    disabled={buttonDisabled}\r\n\t\t\t\t/>\r\n            </Buttonscontainer>\r\n        </LoginContainer>\r\n    )\r\n}\r\n\r\nconst LoginContainer = styled.div`\r\n    min-width: 417px;\r\n    flex-direction: column;\r\n    display: flex;\r\n    color: #73909C;\r\n    font-size: 16px;\r\n`\r\nconst MyInput = styled.input`\r\n    border: 2px solid #73909C;\r\n    //min-height:50px;\r\n    margin: 10px;\r\n    font-family: 'Roboto', sans-serif;\r\n    color: #73909C;\r\n    font-size: 16px;\r\n    border-radius: 10px;\r\n    padding: 16px;\r\n    background-color: transparent;\r\n    &:focus {\r\n        border-radius: 10px;\r\n        border-color: #73909C;\r\n        outline: none;\r\n    }\r\n    &:active {\r\n        border-radius: 10px;\r\n        border-color: #73909C;\r\n        outline: none;\r\n    }\r\n`\r\nconst EmptyBox = styled.div`\r\n    margin: 10px;\r\n    display: flex;\r\n    flex-direction: row;\r\n    //text-align:center;\r\n    color: #73909C;\r\n`\r\nconst Buttonscontainer = styled(EmptyBox)`\r\n    flex-direction:row;\r\n    //display:flex;\r\n    //margin: 10px;\r\n    justify-content: space-evenly;\r\n`\r\n\r\nconst MyText=styled.div`\r\n    margin: 10px;\r\n    font-family: 'Roboto', sans-serif;\r\n    color: #73909C;\r\n    font-size: 16px;\r\n`\r\nconst Nag=styled.div`\r\nflex-direction: row;\r\ndisplay: flex;\r\njustify-content: space-between;\r\n`\r\nconst MyLink = styled(Link)`\r\ntext-decoration: none;\r\ncolor:#738F9C; \r\ndisplay: flex;\r\nflex-direction: row;\r\nalign-content: center;\r\n&:hover{color: #9C9083};\r\nfont-weight: medium;\r\nfont-size: 14px;\r\ntext-align:center;\r\nalign-items: center;\r\nmargin: 10px;\r\njustify-content:center;\r\nmargin-right:12px;\r\n`\r\n","//import { Container } from '@material-ui/core'\r\n//import React from 'react'\r\nimport styled from 'styled-components'\r\n//import Checkbox from '@material-ui/core/Checkbox';\r\nimport React, { useState } from 'react';\r\n// import { withStyles } from '@material-ui/core/styles';\r\n// import { green } from '@material-ui/core/colors';\r\n// import FormControlLabel from '@material-ui/core/FormControlLabel';\r\n// import Checkbox from '@material-ui/core/Checkbox';\r\nimport {\r\n    // BrowserRouter as Router,\r\n    // Switch,\r\n    // Route,\r\n    Link\r\n  } from \"react-router-dom\";\r\nimport {Button} from '../../../components';\r\nimport firebase from 'firebase';\r\nimport {useSnackbar} from 'notistack'\r\n\r\n\r\n\r\nexport function Recover() {\r\n    const [state, setState] = useState(false);\r\n    const [mail, setMail] = useState(\"\");\r\n    const [buttonDisabled, setButtonDisabled] = useState(false);\r\n    const [state2, setState2] = useState(false);\r\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar();\r\n    \r\n    const sendMail = () =>{\r\n        setState2(false);\r\n        setButtonDisabled(true);\r\n        var auth = firebase.auth();\r\n        var emailAddress = mail;\r\n\r\n        auth.sendPasswordResetEmail(emailAddress).then(function(){\r\n            //sent\r\n            enqueueSnackbar('Wiadomo zostaa wysana', {variant: 'success'});\r\n            setButtonDisabled(false);\r\n        }).catch(function(error){\r\n            //error\r\n            enqueueSnackbar('Wystpi bd', {variant: 'error'})\r\n            setState2(true);\r\n            setButtonDisabled(false);\r\n        });\r\n    }\r\n    \r\n    if(state&&(!state2))\r\n    {\r\n        return (\r\n            <LoginContainer>\r\n                <Nag>\r\n                <EmptyBox></EmptyBox><MyLink to=\"/login\">Powrt</MyLink>\r\n                </Nag>\r\n                <EmptyBox>\r\n                    Wiadomo z linkiem przekierowujcym zostaa wysana.\r\n                </EmptyBox>\r\n                <Buttonscontainer>\r\n                <Button\r\n                        color=\"#73909C\"\r\n                        type=\"contained\"\r\n                        style={{\r\n                            width: '75%',\r\n                            color: '#fff',\r\n                        }}\r\n                        text=\"Wylij wiadomo ponownie\"\r\n                        onClick={()=>{sendMail(); setState(true);}}\r\n                        disabled={buttonDisabled}\r\n                    />\r\n                </Buttonscontainer>\r\n            </LoginContainer>\r\n        )\r\n    }\r\n    if(state2)\r\n    {\r\n        return (\r\n            <LoginContainer>\r\n                <Nag>\r\n                <MyText>Odzyskiwanie hasa:</MyText>\r\n                <MyLink to=\"/login\">Powrt</MyLink>\r\n                </Nag>\r\n                <MyInput type=\"email\" id=\"fname\" name=\"fname\" placeholder=\"e-mail\" onChange={e=>setMail(e.target.value)}>\r\n                </MyInput>\r\n                <WrongMail>\r\n                    Niepoprawny adres e-mail\r\n                </WrongMail>\r\n                \r\n                <Buttonscontainer>\r\n                <Button\r\n                        color=\"#73909C\"\r\n                        type=\"contained\"\r\n                        style={{\r\n                            width: '60%',\r\n                            color: '#fff',\r\n                        }}\r\n                        text=\"Wylij wiadomo\"\r\n                        onClick={()=>{sendMail(); setState(true);}}\r\n                        disabled={buttonDisabled}\r\n                    />\r\n                </Buttonscontainer>\r\n            </LoginContainer>\r\n        );\r\n    }\r\n    return (\r\n        <LoginContainer>\r\n            <Nag>\r\n            <MyText>Odzyskiwanie hasa:</MyText>\r\n            <MyLink to=\"/login\">Powrt</MyLink>\r\n            </Nag>\r\n            <MyInput type=\"email\" id=\"fname\" name=\"fname\" placeholder=\"e-mail\" onChange={e=>setMail(e.target.value)}>\r\n            </MyInput>\r\n            <WrongMail>\r\n                \r\n            </WrongMail>\r\n            \r\n            <Buttonscontainer>\r\n            <Button\r\n                    color=\"#73909C\"\r\n                    type=\"contained\"\r\n                    style={{\r\n                        width: '60%',\r\n                        color: '#fff',\r\n                    }}\r\n                    text=\"Wylij wiadomo\"\r\n                    onClick={()=>{sendMail(); setState(true);}}\r\n                    disabled={buttonDisabled}\r\n                />\r\n            </Buttonscontainer>\r\n        </LoginContainer>\r\n    );\r\n}\r\n\r\n\r\nconst LoginContainer = styled.div`\r\n    //min-height: 300px;\r\n    min-width: 417px;\r\n    //background-color: #dfdfdf;\r\n    flex-direction: column;\r\n    display: flex;\r\n    color: #73909C;\r\n    font-size: 16px;\r\n`\r\nconst MyInput = styled.input`\r\n    border: 2px solid #73909C;\r\n    //min-height:50px;\r\n    margin: 10px;\r\n    font-family: 'Roboto', sans-serif;\r\n    color: #73909C;\r\n    font-size: 16px;\r\n    border-radius: 10px;\r\n    padding: 16px;\r\n    background-color: transparent;\r\n    &:focus {\r\n        border-radius: 10px;\r\n        border-color: #73909C;\r\n        outline: none;\r\n    }\r\n    &:active {\r\n        border-radius: 10px;\r\n        border-color: #73909C;\r\n        outline: none;\r\n    }\r\n`\r\nconst EmptyBox = styled.div`\r\n    display: flex;\r\n    flex-direction: row;\r\n    //text-align:center;\r\n    color: #73909C;\r\n    font-weight: medium;\r\n    margin-top:10px;\r\n    margin-bottom:10px;\r\n`\r\n// const Zarejestruj = styled.div`\r\n//     //width: 200px;\r\n//     //height: 50px;\r\n//     //border: 2px solid #73909C;\r\n//     background-color: #73909C;\r\n//     color: #FFFFFF;\r\n//     text-align: center;\r\n//     font-size: 16px;\r\n//     border-radius: 10px;\r\n//     padding: 16px;\r\n//     box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);\r\n//     padding-right:40px;\r\n//     padding-left:40px;\r\n//     //width:100%;\r\n// `\r\n\r\nconst Buttonscontainer = styled(EmptyBox)`\r\n    flex-direction:row;\r\n    //display:flex;\r\n    //margin: 10px;\r\n    justify-content: space-evenly;\r\n`\r\n\r\n\r\n// const EmptyBox2 = styled.div`\r\n//     //min-height:50px;\r\n//     min-width:417px;\r\n//     margin: 10px;\r\n//     flex-direction: row;\r\n//     text-align:center;\r\n//     font-weight: bold;\r\n//     font-size: 14px;\r\n// `\r\nconst MyText=styled.div`\r\n    margin: 10px;\r\n    font-family: 'Roboto', sans-serif;\r\n    color: #73909C;\r\n    font-size: 16px;\r\n`\r\nconst Nag=styled.div`\r\nflex-direction: row;\r\ndisplay: flex;\r\njustify-content: space-between;\r\n`\r\nconst MyLink = styled(Link)`\r\ntext-decoration: none;\r\ncolor:#738F9C; \r\ndisplay: flex;\r\nflex-direction: row;\r\nalign-content: center;\r\n//padding-left: 15px;\r\n&:hover{color: #9C9083};\r\nfont-weight: medium;\r\nfont-size: 14px;\r\ntext-align:center;\r\nalign-items: center;\r\nmargin: 10px;\r\njustify-content:center;\r\n//width:100%;\r\nmargin-right:12px;\r\n`\r\nconst WrongMail=styled.div`\r\ncolor:red;\r\nfont-size:14px;\r\nmargin-left:12px;\r\nmin-height:20px;\r\n`","//import { Container } from '@material-ui/core'\r\n//import React from 'react'\r\nimport styled from 'styled-components'\r\n//import Checkbox from '@material-ui/core/Checkbox';\r\nimport React, { useState } from 'react';\r\nimport {LoginForm} from './SignIn/SignIn';\r\nimport {\r\n    BrowserRouter as Router,\r\n    Switch,\r\n    Route\r\n  } from \"react-router-dom\";\r\nimport {Register} from './SignUp/SignUp';\r\nimport {Recover} from './Recover/Recover';\r\n\r\nexport default function Login() {\r\n\r\n\r\n    return (\r\n        <FlexboxContainerContainer>\r\n            <Tytul>Memo helper</Tytul>\r\n            <FlexboxContainer>\r\n                <FlexboxItem>\r\n                    <FlexboxItem1>\r\n                        <Img src=\"/assets/loginIcon.png\"></Img>\r\n                    </FlexboxItem1>\r\n                </FlexboxItem>\r\n                <FlexboxItem>\r\n                    <FlexboxItem2>\r\n                        <Img src=\"/assets/hr.png\"></Img>\r\n                    </FlexboxItem2>\r\n                </FlexboxItem>\r\n                <FlexboxItem>\r\n                    <Switch>\r\n                        <Route exact path=\"/login/reg\">\r\n                            <Register />\r\n                        </Route>\r\n                        <Route exact path=\"/login/recover\">\r\n                            <Recover />\r\n                        </Route>\r\n                        <Route path=\"/login\">\r\n                            <LoginForm />\r\n                        </Route>\r\n                    </Switch>\r\n                </FlexboxItem>\r\n            </FlexboxContainer>\r\n        </FlexboxContainerContainer>\r\n    )\r\n}\r\n\r\nconst FlexboxContainerContainer = styled.div`\r\n    display: flex;\r\n    //justify-content: space-around;\r\n    //align-items: center;\r\n    //align-content: center;\r\n    flex-direction: column;\r\n`\r\nconst FlexboxContainer = styled.div`\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    align-content: center;\r\n    \r\n`\r\nconst FlexboxItem = styled.div`\r\n    //width: 200px; \r\n    &:nth-child(1){\r\n        margin-right:200px;\r\n    }\r\n    &:nth-child(2){\r\n        margin-right:200px;\r\n    }\r\n    //border: 3px solid #333;\r\n    //background-color: #dfdfdf;\r\n    \r\n`\r\nconst FlexboxItem1 = styled.div`\r\n    //min-width:100px;\r\n    min-height: 100px;\r\n    //align-self:center;\r\n`\r\nconst FlexboxItem2 = styled.div`\r\n    min-height: 200px;\r\n    //align-self: center;\r\n`\r\n\r\nconst Img = styled.img`\r\n`\r\nconst Tytul = styled.div`\r\n    //background-color: #dfdfdf;\r\n    //min-width: 50px;\r\n    font-size: 56px;\r\n    font-family: 'Cinzel', serif;\r\n    margin: auto;\r\n    width:50%;\r\n    text-align:center;\r\n`\r\nconst Box = styled.div`\r\n    border: 2px solid #73909C;\r\n    //min-height:50px;\r\n    margin: 10px;\r\n    font-family: 'Roboto', sans-serif;\r\n    color: #73909C;\r\n    font-size: 16px;\r\n    border-radius: 10px;\r\n    padding: 16px;\r\n`\r\n\r\n\r\n","import React, {useState} from 'react'\r\nimport styled from 'styled-components'\r\nimport TimeIcon from '@material-ui/icons/Timer'\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MoreIcon from '@material-ui/icons/MoreVert';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\n\r\n\r\n\r\nexport function NotificationCard(props) {\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n  let time = props.time\r\n  let options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric', hour: 'numeric', minute: 'numeric', second: 'numeric' };\r\n  let timeString = time.toLocaleString(\"pl-PL\", options)\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  }\r\n\r\n  const handleRemove = () => {\r\n    props.value.ref.delete()\r\n    handleClose()\r\n  }\r\n\r\n  const openMenu = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      {props.message}\r\n      <Time>\r\n        <TimeIcon />\r\n        <span style={{marginLeft: 7 + 'px'}}>{timeString}</span>\r\n      </Time>\r\n      <MoreIconContainer>\r\n        <MoreIcon onClick={openMenu} />\r\n        <Menu\r\n          id=\"simple-menu\"\r\n          anchorEl={anchorEl}\r\n          keepMounted\r\n          open={Boolean(anchorEl)}\r\n          onClose={handleClose}\r\n        >\r\n          <MenuItem onClick={handleRemove}>Usu</MenuItem>\r\n        </Menu>\r\n      </MoreIconContainer>\r\n    </Container>\r\n  )\r\n}\r\n\r\nconst Container = styled.div`\r\n  background-color: #FFFAF5;\r\n  position: relative;\r\n  padding: 15px;\r\n  margin-top: 10px;\r\n  border-radius: 12px;\r\n  font-size: 14px;\r\n  color: rgba(0,0,0,.83);\r\n  box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);\r\n`\r\n\r\nconst Time = styled.div`\r\n  padding-top: 10px;\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n`\r\n\r\nconst MoreIconContainer = withStyles((theme) => ({\r\n  root: {\r\n    position: 'absolute',\r\n    top: 0,\r\n    right: 0,\r\n    color: 'rgba(0,0,0,.83)',\r\n  },\r\n}))(IconButton);\r\n\r\n","import React, {useEffect, useState} from 'react'\r\nimport styled from 'styled-components'\r\nimport {NotificationCard} from './NotificationCard'\r\nimport firebase from 'firebase'\r\nimport {useUser, getGroupsIds} from '../../../utils'\r\n\r\nexport function NotificationsList() {\r\n  const [list, setList] = useState(new Array())\r\n  const {user} = useUser()\r\n\r\n  useEffect(async () =>  {\r\n    // const groupsIds = await getGroupsIds();\r\n    // let remindersGroups = [];\r\n    // for(let i = 0; i < groupsIds.length; i++) {\r\n    //   remindersGroups.push(firebase.firestore().collection('Groupss').doc(groupsIds[i]).collection('Reminders'));\r\n    // }\r\n    const reminders = firebase.firestore().collection('Users').doc(user.uid).collection('Reminders')\r\n    const query = reminders.limit(7).orderBy('date', 'asc')\r\n    const remindersSubscription = query.onSnapshot(snapshot => {\r\n      renderList(snapshot)\r\n    })\r\n    return () => {\r\n      remindersSubscription()\r\n    }\r\n  }, [])\r\n\r\n  const renderList = (snapshot) => {\r\n    let array = new Array()\r\n    snapshot.forEach(reminder => {\r\n      let data = {\r\n        id: reminder.id,\r\n          text: reminder.data().text,\r\n          date: new Date(reminder.data().date.seconds * 1000),\r\n          frequency: reminder.data().frequency,\r\n          weekDays: reminder.data().weekDays,\r\n          type: reminder.data().type,\r\n          ref: reminder.ref\r\n      }\r\n      array.push(\r\n        <NotificationCard message={data.text} time={data.date} id={data.id} value={data}/>\r\n      )\r\n    })\r\n    console.log(array)\r\n    setList(array)\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      <Header>\r\n        <HeaderText>NAJBLISZE POWIADOMIENIA</HeaderText>\r\n      </Header>\r\n      <List>\r\n        {list}\r\n      </List>\r\n    </Container>\r\n  )\r\n}\r\n\r\n\r\nconst Container = styled.div`\r\n  //grid-area: 1 / span 1;\r\n  //grid-row: span 4;\r\n  min-height: 400px;\r\n  border: #73909C solid 2px;\r\n  border-radius: 12px;\r\n  box-sizing: border-box;\r\n  position: relative;\r\n`\r\n\r\nconst Header = styled.div`\r\n  position: absolute;\r\n  top: 0; left: 0;\r\n  padding: 10px 25px 12px 25px;\r\n  background-color: #73909C;\r\n  border-radius: 9px 0 12px 0;\r\n  box-sizing: border-box;\r\n`\r\n\r\nconst HeaderText = styled.p`\r\n  color: rgba(255,255,255,.83);\r\n  padding: 0;\r\n  margin: 0;\r\n  font-weight: 500;\r\n  font-size: 16;\r\n`\r\n\r\nconst List = styled.div`\r\n  position: absolute;\r\n  top: 45px; left: 0; right: 0; bottom: 0;\r\n  padding: 0px 15px 0 15px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-content: stretch;\r\n  overflow-y: auto;\r\n\r\n  &::-webkit-scrollbar {\r\n    width: 10px;\r\n  }\r\n\r\n  &::-webkit-scrollbar-track {\r\n    box-shadow: inset 0 0 0px #9C9083;\r\n  }\r\n  &::-webkit-scrollbar-thumb {\r\n    background-color: #9C9083;\r\n    border-radius: 5px;\r\n  }\r\n`","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport Btn from '../../../components/Button';\r\nimport firebase from 'firebase'\r\nimport {useSnackbar} from 'notistack'\r\n\r\nexport function InvitationCard(props) {\r\n  const { enqueueSnackbar, closeSnackbar } = useSnackbar();\r\n  let invitation = props.value;\r\n  \r\n  async function removeInvitation() {\r\n    let userId = await firebase.auth().currentUser.uid\r\n    let groupId = invitation.id;\r\n\r\n    try {\r\n      firebase.firestore().collection(\"Users\").doc(userId).collection(\"GroupsInvitations\").doc(groupId).delete();\r\n      firebase.firestore().collection(\"Groups\").doc(groupId).update({\r\n        invitations: firebase.firestore.FieldValue.arrayRemove(userId),\r\n      })\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n\r\n  }\r\n\r\n  async function handleAccept() {\r\n    let userId = await firebase.auth().currentUser.uid\r\n    let groupId = invitation.id;\r\n\r\n    try{\r\n      await removeInvitation();\r\n      firebase.firestore().collection(\"Groups\").doc(groupId).update({\r\n        members: firebase.firestore.FieldValue.arrayUnion(userId),\r\n      })\r\n      firebase.firestore().collection(\"Users\").doc(userId).collection(\"Groups\").doc(\"Members\").update({\r\n        data: firebase.firestore.FieldValue.arrayUnion(groupId)\r\n      })\r\n      enqueueSnackbar('Zaproszenie zotao zaakceptowane', { variant: 'success' })\r\n    } catch (error) {\r\n      enqueueSnackbar(`Nie udao si zaakceptowa zaproszenia: ${error}`, {variant: 'error'})\r\n    }\r\n  }\r\n\r\n  async function handleRemove() {\r\n    try{\r\n      await removeInvitation();\r\n      enqueueSnackbar('Zaproszenie zotao usunite', { variant: 'success' });\r\n    } catch (error) {\r\n      enqueueSnackbar(`Nie udao si usun zaproszenia: ${error}`, {variant: 'error'})\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      {props.message}\r\n      <Info>\r\n        <span style={{marginLeft: 7 + 'px'}}>{invitation.msg}</span>\r\n        <ButtonsDiv>\r\n          <Btn text=\"Akceptuj\" onClick={handleAccept}/>\r\n          <Btn text=\"Usu\" onClick={handleRemove}/>\r\n        </ButtonsDiv>\r\n      </Info>\r\n    </Container>\r\n  );\r\n}\r\n\r\nconst Container = styled.div`\r\n  background-color: #FFFAF5;\r\n  position: relative;\r\n  padding: 15px;\r\n  margin-top: 10px;\r\n  border-radius: 12px;\r\n  font-size: 14px;\r\n  color: rgba(0,0,0,.83);\r\n  box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);\r\n`\r\n\r\nconst Info = styled.div`\r\n  padding-top: 5px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n`\r\n\r\nconst ButtonsDiv = styled.div`\r\n  padding-top: 5px;\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: space-evenly;\r\n  width: 100%;\r\n`\r\n","import React, {useEffect, useState} from 'react'\r\nimport styled from 'styled-components'\r\nimport {InvitationCard} from './InvitationCard'\r\nimport firebase from 'firebase'\r\n\r\nexport function InvitationList() {\r\n  const [invitationList, setList] = useState(new Array());\r\n\r\n  useEffect(async () => {\r\n    if(firebase.auth().currentUser !== null) {\r\n      const invitations = firebase.firestore().collection('Users').doc(firebase.auth().currentUser.uid).collection(\"GroupsInvitations\");\r\n      const invitationsSubscription = invitations.onSnapshot(snapshot => {\r\n        renderList(snapshot)\r\n      })\r\n      return () => {\r\n        invitationsSubscription()\r\n      }\r\n    }\r\n  }, [])\r\n\r\n  const renderList = (snapshot) => {\r\n    let array = new Array()\r\n    snapshot.docs.map(doc => {\r\n      let data = {\r\n        id: doc.id,\r\n        msg: doc.data().msg\r\n      }\r\n      array.push(\r\n        <InvitationCard value={data}/>\r\n      )\r\n    })\r\n    console.log(array)\r\n    setList(array)\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      <Header>\r\n        <HeaderText>AKTYWNE ZAPROSZENIA</HeaderText>\r\n      </Header>\r\n      <List>\r\n        {invitationList}\r\n      </List>\r\n    </Container>\r\n  )\r\n}\r\n\r\n\r\nconst Container = styled.div`\r\n  //grid-area: span 1;\r\n  //grid-row: span 4;\r\n  min-height: 400px;\r\n  border: #73909C solid 2px;\r\n  border-radius: 12px;\r\n  box-sizing: border-box;\r\n  position: relative;\r\n`\r\n\r\nconst Header = styled.div`\r\n  position: absolute;\r\n  top: 0; right: 0;\r\n  padding: 10px 25px 12px 25px;\r\n  background-color: #73909C;\r\n  border-radius: 0 9px 0 12px;\r\n  box-sizing: border-box;\r\n`\r\n\r\nconst HeaderText = styled.p`\r\n  color: rgba(255,255,255,.83);\r\n  padding: 0;\r\n  margin: 0;\r\n  font-weight: 500;\r\n  font-size: 16;\r\n`\r\n\r\nconst List = styled.div`\r\n  position: absolute;\r\n  top: 45px; left: 0; right: 0; bottom: 0;\r\n  padding: 0px 15px 0 15px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-content: stretch;\r\n  overflow-y: auto;\r\n\r\n  &::-webkit-scrollbar {\r\n    width: 10px;\r\n  }\r\n\r\n  &::-webkit-scrollbar-track {\r\n    box-shadow: inset 0 0 0px #9C9083;\r\n  }\r\n  &::-webkit-scrollbar-thumb {\r\n    background-color: #9C9083;\r\n    border-radius: 5px;\r\n  }\r\n`","import React, { useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport ExpandLessIcon from '@material-ui/icons/ExpandLess';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport firebase from 'firebase';\r\n\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport { Collapse } from '@material-ui/core';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { useUser } from '../../../utils';\r\nimport {useSnackbar} from 'notistack'\r\n\r\nfunction ListCardBtn(props) {\r\n  const [state, setState] = useState(false);\r\n  const ChangeCheckbox = (e) => {\r\n    console.log(\"Change checkbox 1\");\r\n    let b = state;\r\n    setState(!b);\r\n  }\r\n  return(\r\n    <CheckBoxBtn onClick={ChangeCheckbox}>\r\n      <Checkbox\r\n        checked={state}\r\n        name={props.name}\r\n        style={{\r\n          color: '#323232'\r\n        }}\r\n      />\r\n      <CheckBoxText>{props.text}</CheckBoxText>\r\n    </CheckBoxBtn>\r\n  );\r\n}\r\n\r\nexport function ListCard(props) {\r\n  const [myArray, setMyArray] = useState(new Array());\r\n  const { enqueueSnackbar, closeSnackbar } = useSnackbar();\r\n    const {user}=useUser();\r\n  const updateFirestore = (index) => {\r\n    firebase\r\n        .firestore()\r\n        .collection('Users')\r\n        .doc(user.uid)\r\n        .collection('Lists')\r\n        .doc(props.myArray[index].parentID)\r\n        .update({\r\n            myList: props.myArray})\r\n        .then(() => {\r\n        //enqueueSnackbar('Lista zostaa zmieniona', { variant: 'success' })\r\n    }).catch(() => {\r\n        //enqueueSnackbar('blad updateu listy', { variant: 'error' })\r\n    })}\r\n    const updateFirestoreExpand = (myID,myBool) => {\r\n      firebase\r\n          .firestore()\r\n          .collection('Users')\r\n          .doc(user.uid)\r\n          .collection('Lists')\r\n          .doc(myID)\r\n          .update({\r\n              expanded: myBool})\r\n          .then(() => {\r\n          //enqueueSnackbar('Lista zostaa zmieniona', { variant: 'success' })\r\n      }).catch(() => {\r\n          //enqueueSnackbar('blad updateu listy', { variant: 'error' })\r\n      })\r\n}\r\n  const ChangeCheckbox = (index) => {\r\n    props.myMap.get(props.myArray[index].parentID).values[index].boxstate=!props.myMap.get(props.myArray[index].parentID).values[index].boxstate\r\n    setMyArray(Array.from(myArray))\r\n    props.setMyMap(new Map([...props.myMap]))\r\n    updateFirestore(index)\r\n  }\r\n\r\n  const ExpandLessInfo = (myID) => {\r\n    props.myMap.get(myID).expanded=false\r\n    props.setMyMap(new Map([...props.myMap]))\r\n    console.log(\"Show less\");\r\n\r\n    updateFirestoreExpand(myID,false)\r\n  }\r\n\r\n  const ExpandMoreInfo = (myID) => {\r\n    props.myMap.get(myID).expanded=true\r\n    props.setMyMap(new Map([...props.myMap]))\r\n    console.log(\"Show more\");\r\n\r\n    updateFirestoreExpand(myID,true)\r\n  }\r\n  const DeleteList = (e) => {\r\n    props.listRef.delete()\r\n    console.log(\"Delete List\");\r\n  }\r\n\r\n  return (\r\n    <Container key={props.id}>\r\n      <Header>\r\n        <span>{props.title}</span><DeleteIconContainer onClick={DeleteList}> </DeleteIconContainer>\r\n        { props.myExpanded  === true &&\r\n          <ExpandLessIconContainer onClick={()=>ExpandLessInfo(props.myID)}> \r\n          </ExpandLessIconContainer>\r\n        }\r\n        { props.myExpanded === false &&\r\n          <ExpandMoreIconContainer onClick={()=>ExpandMoreInfo(props.myID)}>\r\n          </ExpandMoreIconContainer>\r\n        }\r\n      </Header>\r\n      \r\n      <Collapse in={props.myExpanded} timeout={\"auto\"} style={{minWidth: '100%', margin: 0, padding: 0}}>\r\n          <MoreContent>\r\n            {props.myArray.map((element,index)=>\r\n              <CheckBoxBtn onClick={()=>ChangeCheckbox(index)}>\r\n              <Checkbox checked={element.boxstate} style={{color: '#323232'}}/>\r\n              <CheckBoxText>{element.title}</CheckBoxText>\r\n            </CheckBoxBtn>)}\r\n          </MoreContent>\r\n      </Collapse>\r\n    </Container>\r\n  )\r\n}\r\n\r\nconst CheckBoxText = styled.span`\r\n  color: #FFFAF5;\r\n  font-size: 16px;\r\n  font-weight: 550;\r\n  user-select: none;\r\n`;\r\n\r\nconst CheckBoxBtn = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: flex-start;\r\n  margin-top: 8px;\r\n  border-radius: 12px;\r\n  background-color: #9C9083;\r\n  width: 95%;\r\n  cursor: pointer;\r\n`;\r\nconst DeleteIconContainer = withStyles((theme) => ({\r\n  root: {\r\n    position: 'absolute',\r\n    top: 0,\r\n    right: 20,\r\n    color: '#73909C',\r\n    cursor: 'pointer',\r\n  },\r\n}))(DeleteIcon);\r\nconst ExpandMoreIconContainer = withStyles((theme) => ({\r\n  root: {\r\n    position: 'absolute',\r\n    top: 0,\r\n    right: 0,\r\n    color: '#73909C',\r\n    cursor: 'pointer',\r\n  },\r\n}))(ExpandMoreIcon);\r\n\r\nconst ExpandLessIconContainer = withStyles((theme) => ({\r\n  root: {\r\n    position: 'absolute',\r\n    top: 0,\r\n    right: 0,\r\n    color: '#73909C',\r\n    cursor: 'pointer',\r\n  },\r\n}))(ExpandLessIcon);\r\n\r\nconst MoreContent = styled.div`\r\n  min-width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\n\r\nconst Container = styled.div`\r\n  background-color: #FFFAF5;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 10px;\r\n  margin-top: 10px;\r\n  border-radius: 12px;\r\n  font-size: 14px;\r\n  color: rgba(0,0,0,.83);\r\n  box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);\r\n`\r\n\r\nconst Header = styled.div`\r\n  color: #73909C;\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: center;\r\n  position: relative;\r\n  width: 100%\r\n`\r\n","import React, { useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CheckIcon from '@material-ui/icons/Check';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport { Collapse } from '@material-ui/core';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { useUser } from '../../../utils';\r\nimport firebase from 'firebase';\r\nimport {useSnackbar} from 'notistack'\r\nimport { MemorySharp, TextsmsSharp } from '@material-ui/icons';\r\n\r\nfunction ListCardBtn(props) {\r\n  const [state, setState] = useState(false);\r\n  const ChangeCheckbox = (e) => {\r\n    console.log(\"Change checkbox 1\");\r\n    let b = state\r\n    setState(!b);\r\n  }\r\n  return(\r\n    <CheckBoxBtn onClick={ChangeCheckbox}>\r\n      <Checkbox\r\n        checked={state}\r\n        name={props.name}\r\n        style={{\r\n          color: '#323232'\r\n        }}\r\n      />\r\n      <CheckBoxText>{props.text}</CheckBoxText>\r\n    </CheckBoxBtn>\r\n  );\r\n}\r\n\r\nexport function ListCreator(props) {\r\n    \r\n    const [productID, setProductID] = useState(0);\r\n    const [myArray, setMyArray] = useState(new Array());\r\n    const [textContent, handleTextChange] = useState('');\r\n    const [listContent, handleListChange] = useState('');\r\n\r\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar();\r\n    const {user}=useUser();\r\n    const [state, setState] = useState(false);\r\n    const ChangeCheckbox = (e) => {\r\n        console.log(\"Change checkbox 1\");\r\n        let b = state;\r\n        setState(!b);\r\n      }\r\n    const pushToFirestore = () => {\r\n        if (!validateTextInput()) return\r\n        if (!validateTextTitle()) return\r\n        firebase\r\n            .firestore()\r\n            .collection('Users')\r\n            .doc(user.uid)\r\n            .collection('Lists')\r\n            .add({\r\n                 title: textContent,\r\n                 expanded: false,\r\n                 myList: [...myArray]\r\n\r\n            }).then(() => {\r\n            enqueueSnackbar('Lista zostaa dodana', { variant: 'success' })\r\n            clearForm()\r\n            clearList()\r\n            setMyArray(new Array())\r\n        }).catch(() => {\r\n            enqueueSnackbar('Wystpi problem z dodaniem listy', { variant: 'error' })\r\n        })\r\n    }\r\n    const validateTextInput = () => {\r\n        if (myArray.length == 0) {\r\n            enqueueSnackbar('Zawarto Listy nie moe by pusta', { variant: 'error' })\r\n            return false\r\n        }\r\n        return true\r\n    }\r\n    const validateTextTitle = () => {\r\n      if (textContent == \"\") {\r\n          enqueueSnackbar('Tytu Listy nie moe by pusty', { variant: 'error' })\r\n          return false\r\n      }\r\n      return true\r\n  }\r\n    const clearForm = () => {\r\n        handleTextChange(\"\")\r\n    }\r\n    const clearList = () => {\r\n        handleListChange(\"\")\r\n    }\r\n    const addToArray=(event) =>{\r\n        if(event.key!='Enter')\r\n        return\r\n        var title = listContent\r\n        console.log(title)\r\n        myArray.push({id: productID, title: title, boxstate: false, parentID: 0})\r\n        setProductID(productID+1)\r\n        console.log(myArray)\r\n        setMyArray(Array.from(myArray))\r\n        clearList()\r\n    }\r\n\r\n  return (\r\n    <Container key={props.id}>\r\n\r\n          <MoreContent>\r\n\r\n            <MyTextInput value={textContent} placeholder=\"Dodaj tytu\"  color='#9C9083'onChange={e => { handleTextChange(e.target.value); }}></MyTextInput>\r\n            {myArray.map((index)=>\r\n              <CheckBoxBtn onClick={ChangeCheckbox}>\r\n              <Checkbox checked={index.boxstate.checked} style={{color: '#323232'}}/>\r\n              <CheckBoxText>{index.title}</CheckBoxText>\r\n            </CheckBoxBtn>)}\r\n            <MoreIconContainerTop>\r\n                <CheckIcon onClick={pushToFirestore}/>\r\n            </MoreIconContainerTop>\r\n            <CheckBoxBtn onClick={ChangeCheckbox}>\r\n                <Checkbox style={{color: '#323232'}}/>\r\n                <MyTextField value={listContent} placeholder=\"Dodaj notatke\" color=\"#FFFAF5\"  onChange={e => { handleListChange(e.target.value); }} onKeyDown={addToArray}/> \r\n            </CheckBoxBtn>\r\n          </MoreContent>\r\n    </Container>\r\n  )\r\n}\r\n\r\nconst MyTextInput = styled.textarea`\r\nheight: 100%;\r\nwidth: 100%;\r\ntext-decoration:none;\r\nborder: none;\r\nbackground:none;\r\noutline:none;\r\ncolor:#9C9083;\r\nresize: vertical;\r\nfont-size:16px;\r\n`;\r\nconst MyTextField = styled.input`\r\n  height: 90%;\r\n  width: 95%;\r\n  text-decoration:none;\r\n  border: none;\r\n  background:none;\r\n  outline:none;\r\n  justify-content: flex-start;\r\n  border-radius: 12px;\r\n  background-color: #9C9083;\r\n  color: #FFFAF5;\r\n  cursor: pointer;\r\n`;\r\nconst CheckBoxText = styled.span`\r\n  color: #FFFAF5;\r\n  font-size: 16px;\r\n  font-weight: 550;\r\n  user-select: none;\r\n`;\r\n\r\nconst CheckBoxBtn = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: flex-start;\r\n  margin-top: 8px;\r\n  border-radius: 12px;\r\n  background-color: #9C9083;\r\n  width: 95%;\r\n  cursor: pointer;\r\n`;\r\n\r\n\r\nconst MoreContent = styled.div`\r\n  min-width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\n\r\nconst Container = styled.div`\r\n  background-color: #FFFAF5;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 10px;\r\n  margin-top: 10px;\r\n  border-radius: 12px;\r\n  font-size: 14px;\r\n  color: rgba(0,0,0,.83);\r\n  box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);\r\n`\r\n\r\nconst Header = styled.div` \r\n  color: #73909C;\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: center;\r\n  position: relative;\r\n  width: 100%\r\n`\r\nconst MoreIconContainerTop = withStyles((theme) => ({\r\n    root: {\r\n        position: 'absolute',\r\n        top: 10,\r\n        right: 15,\r\n        color: 'rgba(0,0,0,.83)'\r\n    }\r\n}))(IconButton);\r\n\r\nconst MoreIconContainerBottom = withStyles((theme) => ({\r\n    root: {\r\n        position: 'absolute',\r\n        right: 15,\r\n        color: 'rgba(0,0,0,.83)'\r\n    }\r\n}))(IconButton);","import React,{useState,useEffect} from 'react';\r\nimport styled from 'styled-components'\r\nimport {ListCard} from './ListCard'\r\nimport {ListCreator} from './ListCreator'\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport {isFormOpened} from '../Home'\r\nimport {useRecoilValue} from 'recoil'\r\nimport firebase from 'firebase'\r\nimport { useUser } from '../../../utils';\r\n\r\n\r\n\r\nexport function ListContainer(props) {\r\n  const [list, setList] = useState(new Array())\r\n  const [tableID, setTableID] = useState(0);\r\n  const [myArray, setMyArray] = useState(new Array());\r\n  const [myArrayName, setMyArrayName] = useState(\" \");\r\n  const [myMap, setMyMap] = useState(new Map());\r\n  const {user}=useUser();\r\n\r\n  //const [myArrayName, setMyArrayName] = useState(\" \");\r\n  useEffect(() => {\r\n    const List = firebase.firestore().collection('Users').doc(user.uid).collection('Lists')\r\n    const query = List\r\n    const stickyNoteSubscription = query.onSnapshot(snapshot => {\r\n      myMap.clear()\r\n      setMyMap(myMap)\r\n      if(!snapshot.empty)\r\n        renderList(snapshot)\r\n    })\r\n    return () => {\r\n      stickyNoteSubscription()\r\n    }\r\n  }, [])\r\n  \r\n  const renderList = (snapshot) => {\r\n  \r\n    snapshot.forEach(element => {\r\n      let data = {\r\n          text: element.data().title,\r\n          myList: element.data().myList,\r\n          myExpanded: element.data().expanded,\r\n          ref: element.ref\r\n\r\n      }\r\n      Array.from(data.myList).forEach(tempElement =>{\r\n        tempElement.parentID=element.id\r\n      })\r\n      myMap.set(element.id, {title: data.text, ref: data.ref, elementID:element.id, myExpanded: data.myExpanded, values: Array.from(data.myList)})\r\n      setMyMap(new Map([...myMap]))\r\n    })\r\n  }\r\n\r\n  const isReminderFormOpened = useRecoilValue(isFormOpened)\r\n  const Add = () => {\r\n    console.log(\"Click add\");\r\n  }\r\n\r\n  const Delete = (props) => {\r\n    console.log(\"Click remove\");\r\n  }\r\n\r\n  if(isReminderFormOpened) return null\r\n\r\n  return (\r\n    <Container>\r\n      <Header>\r\n        <div>\r\n          <AddIcon style={{marginRight: 10, cursor: 'pointer'}} onClick={Add} />\r\n          <DeleteIcon style={{cursor: 'pointer'}} onClick={Delete} />\r\n        </div>\r\n      </Header>\r\n      <List>\r\n        <ListCreator >dupa123</ListCreator>\r\n        {Array.from(myMap).map(([key,values]) => (<ListCard title={values.title} myArray={values.values} listRef={values.ref} myMap={myMap} myExpanded={values.myExpanded} myID={values.elementID} setMyMap={setMyMap}/>))}\r\n      </List>\r\n    </Container>\r\n  )\r\n}\r\n\r\n\r\nconst Container = styled.div`\r\n  //grid-Column: 3 / 4;\r\n  min-height: 400px;\r\n  border: #73909C solid 2px;\r\n  border-radius: 12px;\r\n  box-sizing: border-box;\r\n  position: relative;\r\n`\r\n\r\nconst Header = styled.div`\r\n  position: absolute;\r\n  top: 0; right: 0;\r\n  padding: 8px 15px 8px 15px;\r\n  background-color: #73909C;\r\n  border-radius: 0 9px 0 12px;\r\n  box-sizing: border-box;\r\n  color: #FFFAF5;\r\n`\r\n\r\nconst List = styled.div`\r\n  position: absolute;\r\n  top: 45px; left: 0; right: 0; bottom: 0;\r\n  padding: 0px 15px 0 15px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-content: stretch;\r\n  overflow-y: auto;\r\n\r\n  &::-webkit-scrollbar {\r\n    width: 10px;\r\n  }\r\n\r\n  &::-webkit-scrollbar-track {\r\n    box-shadow: inset 0 0 0px #9C9083;\r\n  }\r\n  &::-webkit-scrollbar-thumb {\r\n    background-color: #9C9083;\r\n    border-radius: 5px;\r\n  }\r\n`","import React from 'react';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport styled from 'styled-components';\r\n\r\nexport function StickyNote(props) {\r\n\tconst handleRemove = () => {\r\n\t\tprops.stickyRef.delete()\r\n\t  }\r\n\treturn (\r\n\t\t<Container>\r\n      \t\t<Typography variant=\"body1\">{props.content}</Typography>\r\n\t\t\t<MoreIconContainer>\r\n\t\t\t\t<DeleteIcon onClick={handleRemove}/>\r\n\t\t\t</MoreIconContainer>\r\n\t\t</Container>\r\n\t);\r\n}\r\n\r\n\r\n\r\nconst Container = styled.div`\r\n\twidth: 100%;\r\n\theight: fit-content;\r\n\tbackground-color: #fffaf5;\r\n\tborder-radius: 12px;\r\n\tbox-sizing: border-box;\r\n\tposition: relative;\r\n\tpadding: 25px;\r\n\tfont-size: 14px;\r\n\tcolor: rgba(0, 0, 0, .83);\r\n\tbox-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);\r\n  margin-top: 10px;\r\n  margin-right: 15px;\r\n`;\r\nconst MoreIconContainer = withStyles((theme) => ({\r\n\troot : {\r\n\t\tposition : 'absolute',\r\n\t\ttop      : 0,\r\n\t\tright    : 0,\r\n\t\tcolor    : 'rgba(0,0,0,.83)'\r\n\t}\r\n}))(IconButton);\r\n","import React,{useState} from 'react';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport MoreIcon from '@material-ui/icons/MoreVert';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport styled from 'styled-components';\r\nimport firebase from 'firebase';\r\nimport {useSnackbar} from 'notistack'\r\nimport { useUser } from '../../../utils';\r\n\r\nexport function StickyNoteCreator(props) {\r\n    const [textContent, handleTextChange] = useState('');\r\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar();\r\n    const {user}=useUser();\r\n\r\n    const pushToFirestore = () => {\r\n        if (!validateTextInput()) return\r\n        firebase\r\n            .firestore()\r\n            .collection('Users')\r\n            .doc(user.uid)\r\n            .collection('StickyNotes')\r\n            .add({\r\n                text: textContent\r\n            }).then(() => {\r\n            enqueueSnackbar('Notatka zostaa dodana', { variant: 'success' })\r\n            clearForm()\r\n        }).catch(() => {\r\n            enqueueSnackbar('Wystpi problem z dodaniem notatki', { variant: 'error' })\r\n        })\r\n    }\r\n    const validateTextInput = () => {\r\n        if (textContent == \"\") {\r\n            enqueueSnackbar('Tre przypomnienia nie moe by pusta', { variant: 'error' })\r\n            return false\r\n        }\r\n        return true\r\n    }\r\n    const clearForm = () => {\r\n        handleTextChange(\"\")\r\n    }\r\n    return (\r\n        <Container>\r\n            <MyTextInput value={textContent} placeholder=\"Dodaj notatke\" color='#9C9083' onChange={e => { handleTextChange(e.target.value); }}></MyTextInput>\r\n            <MoreIconContainer>\r\n                <AddIcon onClick={pushToFirestore} />\r\n            </MoreIconContainer>\r\n        </Container>\r\n    );\r\n}\r\n\r\nconst MyTextInput = styled.textarea`\r\nheight: 100%;\r\nwidth: 100%;\r\ntext-decoration:none;\r\nborder: none;\r\nbackground:none;\r\noutline:none;\r\ncolor:#9C9083;\r\nresize: vertical;\r\nfont-size:16px;\r\n`;\r\n\r\nconst Container = styled.div`\r\n\twidth: 100%;\r\n\theight: fit-content;\r\n\tbackground-color: #fffaf5;\r\n\tborder-radius: 12px;\r\n\tbox-sizing: border-box;\r\n\tposition: relative;\r\n\tpadding: 25px;\r\n\tfont-size: 14px;\r\n\tcolor: rgba(0, 0, 0, .83);\r\n\tbox-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);\r\n  margin-top: 10px;\r\n  margin-right: 15px;\r\n`;\r\nconst MoreIconContainer = withStyles((theme) => ({\r\n    root: {\r\n        position: 'absolute',\r\n        top: 0,\r\n        right: 0,\r\n        color: 'rgba(0,0,0,.83)'\r\n    }\r\n}))(IconButton);\r\n","import React,{useState,useEffect} from 'react';\r\nimport styled from 'styled-components'\r\nimport {StickyNote} from './StickyNote'\r\nimport {StickyNoteCreator} from './StickyNoteCreator'\r\nimport { useUser } from '../../../utils';\r\n\r\nimport firebase from 'firebase'\r\n\r\nexport function StickyNotes(props) {\r\n  const [list, setList] = useState(new Array())\r\n  const {user}=useUser();\r\n\r\n  useEffect(() => {\r\n    const stickyNote = firebase.firestore().collection('Users').doc(user.uid).collection('StickyNotes')\r\n    const query = stickyNote\r\n    const stickyNoteSubscription = query.onSnapshot(snapshot => {\r\n      renderList(snapshot)\r\n    })\r\n    return () => {\r\n      stickyNoteSubscription()\r\n    }\r\n  }, [])\r\n\r\n  const renderList = (snapshot) => {\r\n    let array = new Array()\r\n    snapshot.forEach(stickyNote => {\r\n      let data = {\r\n          text: stickyNote.data().text,\r\n          ref: stickyNote.ref\r\n\r\n      }\r\n      console.log(data);\r\n      console.log(data.ref);\r\n      array.push(\r\n        <StickyNote content={data.text} stickyRef={data.ref}/>\r\n      )\r\n    })\r\n    console.log(array)\r\n    setList(array)\r\n  }\r\n  return (\r\n    <React.Fragment>\r\n      <StickyNoteCreator title=\"stworz notatke\" />\r\n      {list}\r\n    </React.Fragment>\r\n  )\r\n}","import React, { useState, useEffect } from 'react';\r\nimport styled from 'styled-components';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { frequencyState } from '../../../utils/FirebaseReminders'\r\nimport {useRecoilState} from 'recoil'\r\nimport { weekDaysState, typeState, Reminder } from '../../../utils/FirebaseReminders'\r\n\r\nconst MyRadio = withStyles({\r\n  root: {\r\n    color: '#9C9083',\r\n    '&$checked': {\r\n      color:'#9C9083',\r\n    },\r\n  },\r\n  checked: {},\r\n})((props) => <Radio color=\"default\" {...props} />);\r\n\r\nconst MyLabel = withStyles({\r\n  root: {\r\n    color: '#9C9083',\r\n  },\r\n})((props) => <FormControlLabel {...props} />);\r\n\r\nexport default function RadioForm() {\r\n  const [value, setValue] = useRecoilState(frequencyState)\r\n  const [type, setType] = useRecoilState(typeState);\r\n\r\n  useEffect(() => {\r\n    if(type != Reminder.reminderTypes.cyclical)\r\n      setValue(null)\r\n  }, [type])\r\n\r\n  const handleChange = (event) => {\r\n    if(event.target.value == undefined) return;\r\n    if(value == event.target.value){\r\n      setType(Reminder.reminderTypes.default)\r\n      setValue(\"\");\r\n    } else {\r\n      setType(Reminder.reminderTypes.cyclical)\r\n      setValue(event.target.value);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <FormControl component=\"fieldset\">\r\n      <RadioGroup row aria-label=\"position\" name=\"position\" defaultValue=\"top\" value={value} onClick={handleChange}>\r\n        <MyLabel\r\n          value=\"everyDay\"\r\n          control={<MyRadio />}\r\n          label=\"Codziennie\"\r\n          labelPlacement=\"end\"\r\n        />\r\n        <MyLabel\r\n          value=\"everyWeek\"\r\n          control={<MyRadio />}\r\n          label=\"Co tydzie\"\r\n          labelPlacement=\"end\"\r\n        />\r\n        <MyLabel\r\n          value=\"everyMonth\"\r\n          control={<MyRadio />}\r\n          label=\"Co miesic\"\r\n          labelPlacement=\"end\"\r\n        />\r\n        <MyLabel\r\n          value=\"everyYear\"\r\n          control={<MyRadio />}\r\n          label=\"Co rok\"\r\n          labelPlacement=\"end\"\r\n        />\r\n      </RadioGroup>\r\n    </FormControl>\r\n  )\r\n}\r\n","import React, {useState, useEffect} from 'react'\r\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport {useRecoilState} from 'recoil'\r\nimport { weekDaysState, typeState, Reminder } from '../../../utils/FirebaseReminders'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  outlined: {\r\n    borderColor: '#9C9083',\r\n    color: '#9C9083',\r\n  },\r\n  contained: {\r\n    color: '#FFFAF5',\r\n    backgroundColor: '#9C9083',\r\n    '&:hover': {\r\n      backgroundColor: '#8a7a69',\r\n    }\r\n  }\r\n}));\r\n\r\nconst MyButton = withStyles((theme) => ({\r\n  root: {\r\n    borderRadius: 21,\r\n    height: 42,\r\n    marginRight: 5,\r\n    marginBottom: 5,\r\n  },\r\n}))(Button);\r\n\r\nconst weekDays = [\r\n  ['mon', 'Poniedziaek'],\r\n  ['tue', 'Wtorek'],\r\n  ['wed', 'roda'],\r\n  ['thu', 'Czwartek'],\r\n  ['fri', 'Pitek'],\r\n  ['sat', 'Sobota'],\r\n  ['sun', 'Niedziela']\r\n]\r\n\r\nexport function CheckBoxButton() {\r\n  const classes = useStyles();\r\n  const [state, setState] = useState(new Set())\r\n  const [weekDaysArr, setWeekDaysState] = useRecoilState(weekDaysState);\r\n  const [type, setType] = useRecoilState(typeState);\r\n\r\n  useEffect(() => {\r\n    if(type != Reminder.reminderTypes.special) {\r\n      setState(new Set())\r\n      setWeekDaysState(new Array())\r\n    }\r\n    console.log('type', type)\r\n  }, [type])\r\n\r\n  useEffect(() => {\r\n    let set = new Set()\r\n    weekDaysArr.forEach(day => {\r\n      set.add(day)\r\n    })\r\n    setState(new Set(set))\r\n  }, [weekDaysArr])\r\n\r\n  let getVariant = (weekDay) => {\r\n    return state.has(weekDay) ? 'contained' : 'outlined';\r\n  }\r\n\r\n  let toggle = (weekDay) => {\r\n    if (state.has(weekDay))\r\n      state.delete(weekDay)\r\n    else\r\n      state.add(weekDay)\r\n    setState(new Set(state))\r\n    setWeekDaysState(Array.from(state))\r\n    if(state.size > 0) {\r\n      setType(Reminder.reminderTypes.special)\r\n    } else {\r\n      setType(Reminder.reminderTypes.default)\r\n    }\r\n  }\r\n  return (\r\n    <div>\r\n      {\r\n        weekDays.map((day) => <MyButton variant={getVariant(day[0])} className={classes[getVariant(day[0])]} onClick={()=>toggle(day[0])}>{day[1]}</MyButton>)\r\n      }\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport ExpandMore from '@material-ui/icons/ExpandMore'\r\nimport ExpandLess from '@material-ui/icons/ExpandLess'\r\nimport {makeStyles} from '@material-ui/core'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    cursor: 'pointer'\r\n  },\r\n  container: {\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    paddingTop: 5,\r\n  }\r\n}));\r\n\r\nexport function CollapseButton(props) {\r\n  const styles = useStyles();\r\n  return (\r\n    <div onClick={props.onClick} className={styles.container}>\r\n      {props.expanded == false ? <ExpandMore className={styles.root} /> : <ExpandLess className={styles.root} />}\r\n    </div>\r\n  )\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport styled from 'styled-components';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport { TimePicker, DateTimePicker, MuiPickersUtilsProvider } from '@material-ui/pickers';\r\nimport Timer from '@material-ui/icons/Timer';\r\nimport Timelapse from '@material-ui/icons/Timelapse';\r\nimport { Button } from '../../../components';\r\nimport { Collapse } from '@material-ui/core';\r\nimport RadioForm from './RadioForm'\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport {CheckBoxButton} from './CheckBoxButton'\r\nimport {CollapseButton} from './CollapseButton'\r\nimport {makeStyles} from '@material-ui/core';\r\nimport {useRecoilState, useRecoilValue} from 'recoil'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport { Reminder, textContentState, dateState, timeState, weekDaysState, frequencyState, typeState, getAllGroups } from '../../../utils/FirebaseReminders'\r\nimport {useSnackbar} from 'notistack'\r\nimport {isFormOpened} from '../Home'\r\n\r\nconst daysNumbers = {'mon': 1, 'thi': 2, 'wed': 3, 'thu': 4, 'fri': 5, 'sat': 6, 'sun': 7}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\t\topenedContainer: {\r\n\t\t\tgridColumn: 'span 2'\r\n\t\t},\r\n\t\tnoOpenedContainer: {\r\n\t\t\tgridColumn: 'span 1'\r\n\t\t},\r\n\t\tfirstColumn: {\r\n\t\t\tflex: 1\r\n\t\t},\r\n\t\tcollapsedSecondColumn: {\r\n\t\t\tflex: 0,\r\n\t\t\tdisplay: 'none'\r\n\t\t},\r\n\t\tnoCollapsedSecondColumn: {\r\n\t\t\tflex: 1\r\n\t\t},\r\n\t\terrorTextInput: {\r\n\t\t\tborder: '1px solid red',\r\n\t\t\tborderRadius: '10px'\r\n\t\t},\r\n\t\tsuccessTextInput: {\r\n\t\t\tborderBottom: '2px #73909C solid'\r\n\t\t},\r\n\t\topacity100: {\r\n\t\t\topacity: 1\r\n\t\t},\r\n\t\topacity40: {\r\n\t\t\topacity: .4\r\n\t\t}\r\n}));\r\n\r\nexport function NewNotificationForm() {\r\n\tconst styles = useStyles();\r\n\tconst [selectedDate, handleDateChange] = useRecoilState(dateState);\r\n\tconst [selectedTime, handleTimeChange] = useRecoilState(timeState);\r\n\tconst [isFormOpenedState, setIsFormOpenedState] = useRecoilState(isFormOpened);\r\n\tconst [textContent, handleTextChange] = useRecoilState(textContentState);\r\n\tconst [weekDaysArr, setWeekDaysArr] = useRecoilState(weekDaysState)\r\n\tconst [frequency, setFrequency] = useRecoilState(frequencyState)\r\n  const [type, setType] = useRecoilState(typeState);\r\n\tconst [showMoreSettings, setShowMoreSettings] = useState(false);\r\n\tconst [textInputState, setTextInputState] = useState(true);\r\n\tconst { enqueueSnackbar, closeSnackbar } = useSnackbar();\r\n\tconst [datePickerVersion, setDatePickerVersion] = useState(true)\r\n\tconst [buttonDisabled, setButtonDisabled] = useState(false)\r\n\tconst [groupsData, setGroupData] = useState(new Map())\r\n\tconst [load, setLoad ] = useState(true)\r\n\t\r\n\tuseEffect(() => {\r\n\t\tif(load === true) {\r\n\t\t\tgetAllGroups().then(async function(data) {\r\n\t\t\t\tsetGroupData(data);\r\n\t\t\t\tsetLoad(false);\r\n\t\t\t});\r\n\t\t} else console.log(\"STATE GROUP_DATA\", groupsData);\r\n\t});\r\n\r\n\r\n\tconst autoGrowContentInput = (element) => {\r\n\t\tconsole.log(textContent);\r\n\t\thandleTextChange(element.target.value);\r\n\t\telement.target.style.height = '30px';\r\n\t\telement.target.style.height = element.target.scrollHeight + 'px';\r\n\t};\r\n\tvar reminder = new Reminder();\r\n\r\n\tconst toggleMoreSettings = () => {\r\n\t\tsetShowMoreSettings(state => !state);\r\n\t\tsetIsFormOpenedState(state => !state)\r\n\t\tif(showMoreSettings){\r\n\t\t\tsetType(Reminder.reminderTypes.default)\r\n\t\t}\r\n\t}\r\n\r\n\treminder.textContent = textContent;\r\n\tlet date = useRecoilValue(dateState);\r\n\tlet time = useRecoilValue(timeState);\r\n\ttime = Date.now() + (time.getTime() - (new Date()).setHours(0,0,0,0))\r\n\ttime = new Date(time)\r\n\treminder.date = datePickerVersion ? date : time;\r\n\treminder.frequency = frequency;\r\n\treminder.type = type\r\n\tconst days = useRecoilValue(weekDaysState);\r\n\treminder.weekDays = days;\r\n\r\n\tconst pushToFirestore = () => {\r\n\r\n\t\tif(!validateTextInput()) return\r\n\t\tif(!validateDate()) return\r\n\r\n\t\tlet sendToGroupReminder = false;\r\n\t\tsetButtonDisabled(true)\r\n\r\n\t\tfor(const [key, value] of groupsData.entries()) {\r\n\t\t\tconsole.log(\"TRU\", value);\r\n\t\t\tif(value.selected) {\r\n\t\t\t\treminder.SendReminderToGroupCollection(key).then(()=>{\r\n\t\t\t\t\tenqueueSnackbar(`Powiadomienie zostao dodane dla grupy ${value.name}`, {variant: 'success'})\r\n\t\t\t\t}).catch(()=>{\r\n\t\t\t\t\tenqueueSnackbar('Wystpi problem z dodaniem przypomnienia', {variant: 'error'})\r\n\t\t\t\t})\r\n\t\t\t\tsendToGroupReminder = true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif(sendToGroupReminder == false) {\r\n\t\t\treminder.SendReminderToUserCollection().then(()=>{\r\n\t\t\t\tenqueueSnackbar('Powiadomienie zostao dodane', {variant: 'success'})\r\n\t\t\t\tclearForm()\r\n\t\t\t\tsetButtonDisabled(false)\r\n\t\t\t}).catch(()=>{\r\n\t\t\t\tenqueueSnackbar('Wystpi problem z dodaniem przypomnienia', {variant: 'error'})\r\n\t\t\t\tsetButtonDisabled(false)\r\n\t\t\t})\r\n\t\t\tconsole.log(\"Send to reminder\");\r\n\t\t} else {\r\n\t\t\tclearForm()\r\n\t\t\tsetButtonDisabled(false)\r\n\t\t\tconsole.log(\"Send to groups reminder collections\");\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tconst validateTextInput = () => {\r\n\t\tif(textContent == \"\"){\r\n\t\t\tsetTextInputState(false)\r\n\t\t\tenqueueSnackbar('Tre przypomnienia nie moe by pusta', {variant: 'error'})\r\n\t\t\treturn false\r\n\t\t}\r\n\t\treturn true\r\n\t}\r\n\r\n\tconst validateDate = () => {\r\n\t\tlet date = new Date(selectedDate)\r\n\t\tlet time = new Date(selectedTime)\r\n\t\tif(datePickerVersion && date.getTime() < Date.now() && type != Reminder.reminderTypes.special){\r\n\t\t\tenqueueSnackbar('Data nie moe odnosi si do przeszoci', {variant: 'error'})\r\n\t\t\treturn false\r\n\t\t}\r\n\t\tprepareDate()\r\n\t\treturn true\r\n\t}\r\n\r\n\tconst prepareDate = () => {\r\n\t\tif(type != Reminder.reminderTypes.special) return;\r\n\t\tlet date = new Date(selectedDate)\r\n\t\tfor (let i = 0; i < weekDaysArr.length; i++) {\r\n\t\t\tif(date.getDay() == daysNumbers[weekDaysArr[i]]){\r\n\t\t\t\tif(date.getTime() < Date.now()) {\r\n\t\t\t\t\tdate.setDate(date.getDate() + 7)\r\n\t\t\t\t\treminder.date = datePickerVersion ? date : time;\r\n\t\t\t\t\thandleDateChange(date)\r\n\t\t\t\t}\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\t\tdate.setDate(date.getDate() + 1)\r\n\t\tfor (let i = 0; i < 6; i++) {\r\n\t\t\tlet exists = weekDaysArr.find(day => date.getDay() == daysNumbers[day])\r\n\t\t\tif(exists != undefined) break;\r\n\t\t\tdate.setDate(date.getDate() + 1)\r\n\t\t}\r\n\t\treminder.date = datePickerVersion ? date : time;\r\n\t\thandleDateChange(date)\r\n\t}\r\n\r\n\tasync function clearForm() {\r\n\t\thandleTextChange(\"\")\r\n\t\tsetTextInputState(true)\r\n\t\tsetWeekDaysArr(new Array())\r\n\t\tsetFrequency(null)\r\n\t\tsetType(Reminder.reminderTypes.default)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<FormContainer className={showMoreSettings ? styles.openedContainer : styles.noOpenedContainer}>\r\n\t\t\t<Container>\r\n\t\t\t\t<div className={styles.firstColumn}>\r\n\t\t\t\t\t<Typography variant=\"subtitle2\">Utwrz przypomnienie</Typography>\r\n\t\t\t\t\t<ContentInput value={textContent} type=\"text\" className={textInputState ? styles.successTextInput : styles.errorTextInput} placeholder=\"O czym Ci przypomnie?\" onInput={autoGrowContentInput} onChange={e => {handleTextChange(e.target.value); setTextInputState(true)}} />\r\n\t\t\t\t\t<TimePickersContainer>\r\n\t\t\t\t\t\t<span style={{ display: 'flex', flexDirection: 'row', alignItems: 'center' }} onClick={()=>setDatePickerVersion(true)} className={datePickerVersion ? styles.opacity100 : styles.opacity40}>\r\n\t\t\t\t\t\t\t<Timer style={{ marginRight: 5 }} />\r\n\t\t\t\t\t\t\t<MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\ttype != Reminder.reminderTypes.special ?\r\n\t\t\t\t\t\t\t\t\t\t<DateTimePicker  value={selectedDate}  onChange={handleDateChange} showTodayButton disablePast ampm={false} color=\"primary\" />\r\n\t\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t<TimePicker\r\n\t\t\t\t\t\t\t\t\t\t\tampm={false}\r\n\t\t\t\t\t\t\t\t\t\t\topenTo=\"minutes\"\r\n\t\t\t\t\t\t\t\t\t\t\tviews={['hours', 'minutes']}\r\n\t\t\t\t\t\t\t\t\t\t\tformat=\"hh:mm\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={selectedDate}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleDateChange}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</MuiPickersUtilsProvider>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<span style={{ display: 'flex', flexDirection: 'row', alignItems: 'center', width: 100, marginLeft: 15 }} className={datePickerVersion ? styles.opacity40 : styles.opacity100} onClick={()=>setDatePickerVersion(false)}>\r\n\t\t\t\t\t\t\t<Timelapse style={{ marginRight: 5 }} />\r\n\t\t\t\t\t\t\t<span style={{ marginRight: 5 }}>za</span>\r\n\t\t\t\t\t\t\t<MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n\t\t\t\t\t\t\t\t<TimePicker\r\n\t\t\t\t\t\t\t\t\tampm={false}\r\n\t\t\t\t\t\t\t\t\topenTo=\"minutes\"\r\n\t\t\t\t\t\t\t\t\tviews={['hours', 'minutes']}\r\n\t\t\t\t\t\t\t\t\tformat=\"hh:mm\"\r\n\t\t\t\t\t\t\t\t\tvalue={selectedTime}\r\n\t\t\t\t\t\t\t\t\tonChange={handleTimeChange}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</MuiPickersUtilsProvider>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</TimePickersContainer>\r\n\r\n\t\t\t\t\t<Collapse in={showMoreSettings} timeout={\"auto\"}>\r\n\t\t\t\t\t\t<Typography variant={\"subtitle2\"} style={{ marginTop: 20 }}>\r\n\t\t\t\t\t\t\tPowtarzaj\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<RadioForm />\r\n\t\t\t\t\t\t<CheckBoxButton />\r\n\t\t\t\t\t</Collapse>\r\n\t\t\t\t\t<CollapseButton expanded={showMoreSettings} onClick={toggleMoreSettings} />\r\n\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={showMoreSettings ? styles.noCollapsedSecondColumn : styles.collapsedSecondColumn}>\r\n\t\t\t\t\t<Collapse in={showMoreSettings} timeout={\"auto\"}>\r\n\t\t\t\t\t\tWybierz grup: \r\n\t\t\t\t\t\t<GroupsContainer>\r\n\t\t\t\t\t\t\t{ groupsData.size > 0 &&\r\n\t\t\t\t\t\t\t\tArray.from(groupsData.keys()).map(key => {\r\n\t\t\t\t\t\t\t\t\treturn(\r\n\t\t\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tchecked={groupsData.get(key).seleced}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tgroupsData.get(key).selected = !groupsData.get(key).selected\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetGroupData(groupsData);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"checkedB\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={groupsData.get(key).name}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tgroupsData.size <= 0 &&\r\n\t\t\t\t\t\t\t\t\t<span> nie naleysz do adnych grup</span>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</GroupsContainer>\r\n\t\t\t\t\t</Collapse>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t</Container>\r\n\t\t\t<ButtonsContainer>\r\n\t\t\t\t<div className={styles.firstColumn} style={{display: 'flex', flexDirection: 'row'}}>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tcolor=\"#73909C\"\r\n\t\t\t\t\t\ttype=\"outlined\"\r\n\t\t\t\t\t\ttext=\"Wyczy\"\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tmarginRight: 10, width: '100%',\r\n\t\t\t\t\t\t\tcolor: '#73909C',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tonClick={clearForm}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tcolor=\"#73909C\"\r\n\t\t\t\t\t\ttype=\"contained\"\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\twidth: '100%',\r\n\t\t\t\t\t\t\tcolor: '#fff',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\ttext=\"Zapisz\"\r\n\t\t\t\t\t\tonClick={pushToFirestore}\r\n\t\t\t\t\t\tdisabled={buttonDisabled}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={showMoreSettings ? styles.noCollapsedSecondColumn : styles.collapsedSecondColumn}></div>\r\n\t\t\t</ButtonsContainer>\r\n\t\t</FormContainer>\r\n\t);\r\n}\r\n\r\nconst GroupsContainer = styled.div`\r\n\tpadding: 15px;\r\n`;\r\n\r\nconst FormContainer = styled.div`\r\n\t//grid-row: span 4;\r\n  min-height: 400px;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\talign-self: stretch;\r\n\tz-index: 1;\r\n`;\r\n\r\nconst Container = styled.div`\r\n\tbackground-color: #ccc;\r\n\tbackground-color: #fffaf5;\r\n\tposition: relative;\r\n\tpadding: 15px;\r\n\tborder-radius: 12px;\r\n\tfont-size: 14px;\r\n\tcolor: rgba(0, 0, 0, .83);\r\n\tbox-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);\r\n\tdisplay: flex;\r\n`;\r\n\r\nconst ButtonsContainer = styled.div`\r\n\tdisplay: flex;\r\n\tflex-direction: row;\r\n\tpadding-top: 15px;\r\n`;\r\n\r\nconst ContentInput = styled.textarea`\r\n\toutline: none;\r\n\tfont-size: 14px;\r\n\tcolor: rgba(0, 0, 0, .83);\r\n\twidth: 100%;\r\n\tborder: none;\r\n\tmargin-top: 10px;\r\n\tresize: none;\r\n\tfont-family: 'Roboto';\r\n\tbackground-color: #fffaf5;\r\n\tborder-bottom: '1px #73909C solid'\r\n`;\r\n\r\nconst TimePickersContainer = styled(ButtonsContainer)`\r\n  padding-top: 10px;\r\n  justify-content: flex-start;\r\n`;\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport {Adsense} from '@ctrl/react-adsense';\r\nimport { NotificationsList } from './NotificationsList/NotificationsList'\r\nimport { InvitationList } from './InvitationList/InvitationList'\r\nimport { ListContainer } from './List/List'\r\nimport { StickyNotes } from './StickyNotes/StickyNotes'\r\nimport { NewNotificationForm } from './NewNotificationForm/NewNotificationForm'\r\nimport { atom } from 'recoil'\r\n\r\nexport default function Home() {\r\n  return (\r\n    <Container>\r\n      <WidgetContainer>\r\n        <NotificationsList />\r\n        <NewNotificationForm />\r\n        <ListContainer />\r\n        <InvitationList />\r\n        <StickyNotes />\r\n      </WidgetContainer>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport const isFormOpened = atom({\r\n  key: 'ReminderFormOpenState',\r\n  default: false\r\n})\r\n\r\nconst Container = styled.div`\r\n  width: 100%;\r\n  min-height: 100%;\r\n  position: relative;\r\n`\r\n\r\nconst WidgetContainer = styled.div`\r\n  height: auto;\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fill, minmax(340px, 1fr));\r\n  grid-gap: 15px;\r\n  grid-auto-flow: dense;\r\n`\r\n\r\n","import React, { useState } from 'react';\r\nimport styles from './Settings.module.css';\r\nimport {Button} from '../../components/index';\r\nimport Switch from '@material-ui/core/Switch';\r\nimport styled from 'styled-components';\r\nimport firebase from 'firebase';\r\nimport { useSnackbar } from 'notistack';\r\nimport validator from 'validator';\r\nimport {useUser} from '../../utils';\r\n\r\n\r\nfunction Settings() {\r\n\r\n   \r\n\r\n    // const user = {\r\n    //     userName: 'Jan',\r\n    //     imgUri: \"https://www.pecetowicz.pl/uploads/monthly_2018_07/images.thumb.jpg.3728ccb69a0144c0e5196794a5541bfe.jpg\"\r\n    // };\r\n\r\n    \r\n    \r\n    const [state, setState] = useState({\r\n        emailWarning: false,\r\n        newPasswdWarning: false,\r\n        passwdWarning: false,\r\n        push: true,\r\n        email: true,\r\n        // imgUri: user.imgUri\r\n    });\r\n    \r\n    // const general = {\r\n    //     name: 'Oglne',\r\n    //     elements: [\r\n    //         {id: 'passwd', name: \"Podaj haso\", fun: passwd, warningState: state.passwdWarning, warning: 'Podae nieprawidowe haso'},\r\n    //         {id: 'email', name: \"Zmie email\", fun: updateEmail, warningState: state.emailWarning, warning: 'Na nowy email zosta wysany link aktywacyjny'},\r\n    //         {id: 'new-passwd', name: \"Nowe haso\", fun: updatePasswd, warningState: state.newPasswdWarning, warning: 'Nowe haso nie moe by krtsze ni 5 znakw'}\r\n         \r\n    //     ]\r\n    // };\r\n\r\n    const notify = {\r\n        name: 'Powiadomienia',\r\n        elements: [\r\n            {id: 'push', name: \"Push\", state: state.notifyPush},\r\n            {id: 'email', name: \"Email\", state: state.notifyEmail}\r\n        ]\r\n    };\r\n\r\n    const [ mail, setMail ] = useState('');\r\n    const [ password, setPassword ] = useState('');\r\n    const [ password2, setPassword2 ] = useState('');\r\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar();\r\n    const [ name, setName ] = useState('');\r\n    const {user}=useUser();\r\n    \r\n\r\n    const apply = () => {\r\n        var email = mail;\r\n        var oldPass = password;\r\n        var newPass = password2;\r\n        var newName = name;\r\n        var user = firebase.auth().currentUser;\r\n        var credential=firebase.auth.EmailAuthProvider.credential(\r\n            user.email,\r\n            oldPass\r\n        );\r\n        var userName = user.userName;\r\n        var oldMail = user.email;\r\n        /////////////////////////////////////\r\n        //PRZEPISANE NA NOWO\r\n        /////////////////////////////////////\r\n        if(!(email || oldPass || newPass || newName))\r\n        {\r\n            console.log(\"puste pola\");\r\n            return;\r\n        }\r\n        //PASSWORD\r\n        if((!email) && oldPass && newPass && (!newName))\r\n        {\r\n            \r\n            user.reauthenticateWithCredential(credential).then(function() {\r\n                // User re-authenticated.\r\n                console.log(\"dziala weryfikacja\");\r\n                if (!validator.isLength(newPass,{min:6, max:30})){\r\n                    enqueueSnackbar('Nowe haso musi zawiera minimum 6 znakw', {variant: 'error'});\r\n                    return;\r\n                }\r\n                user.updatePassword(newPass).then(function() {\r\n                    // Update successful.\r\n                    console.log(\"haslo zaktualizowane\");\r\n                    enqueueSnackbar('Haso zostao zaktualizowane', {variant: 'success'});\r\n                  }).catch(function(error) {\r\n                    // An error happened.\r\n                    console.log(\"blad zmiany hasla\");\r\n                    enqueueSnackbar('Wystpi bd', { variant: 'error' });\r\n                  });\r\n            }).catch(function(error) {\r\n                // An error happened.\r\n                console.log(\"blad\");\r\n                enqueueSnackbar('Podaj poprawne haso', { variant: 'error' });\r\n            });\r\n        }\r\n        //MAIL\r\n        if((email) && oldPass && (!newPass) && (!newName))\r\n        {\r\n            user.reauthenticateWithCredential(credential).then(function() {\r\n                // User re-authenticated.\r\n                console.log(\"dziala weryfikacja\");\r\n                if(!validator.isEmail(email)){\r\n                    enqueueSnackbar('Bdny adres email', {variant: 'error'});\r\n                    return;\r\n                }\r\n                user.updateEmail(email).then(function() {\r\n                    // Update successful.\r\n                    firebase.firestore().collection('Users').doc(user.uid).set({\r\n                        email: email,\r\n                        userName: userName\r\n                    },{merge: true}).then(function(){\r\n                        enqueueSnackbar('Adres email zosta zaktualizowany', {variant: 'success'});\r\n                    });\r\n                  }).catch(function(error) {\r\n                    // An error happened.\r\n                    enqueueSnackbar('Wystpi bd', { variant: 'error' });\r\n                  });\r\n            }).catch(function(error) {\r\n                // An error happened.\r\n                console.log(\"blad\");\r\n                enqueueSnackbar('Podaj poprawne haso', { variant: 'error' });\r\n            });\r\n        }\r\n        //MAIL AND PASSWORD\r\n        if((email) && oldPass && (newPass) && (!newName))\r\n        {\r\n            user.reauthenticateWithCredential(credential).then(function() {\r\n                // User re-authenticated.\r\n                console.log(\"dziala weryfikacja\");\r\n                if(!validator.isEmail(email)){\r\n                    enqueueSnackbar('Bdny adres email', {variant: 'error'});\r\n                    return;\r\n                }\r\n                if (!validator.isLength(newPass,{min:6, max:30})){\r\n                    enqueueSnackbar('Nowe haso musi zawiera minimum 6 znakw', {variant: 'error'});\r\n                    return;\r\n                }\r\n                user.updateEmail(email).then(function() {\r\n                    // Update successful.\r\n                    user.updatePassword(newPass).then(function() {\r\n                        // Update successful.\r\n                        console.log(\"haslo zaktualizowane\");\r\n                        firebase.firestore().collection('Users').doc(user.uid).set({\r\n                            email: email,\r\n                            userName: userName\r\n                        },{merge: true}).then(function(){\r\n                            enqueueSnackbar('Haso i email zostay zaktualizowane', {variant: 'success'});\r\n                        });\r\n                      }).catch(function(error) {\r\n                        // An error happened.\r\n                        console.log(\"blad zmiany hasla\");\r\n                        enqueueSnackbar('Wystpi bd przy zmianie hasa', { variant: 'error' });\r\n                      });\r\n                  }).catch(function(error) {\r\n                    // An error happened.\r\n                    enqueueSnackbar('Wystpi bd przy zmianie adresu email', { variant: 'error' });\r\n                  });\r\n            }).catch(function(error) {\r\n                // An error happened.\r\n                console.log(\"blad\");\r\n                enqueueSnackbar('Podaj poprawne haso', { variant: 'error' });\r\n            });\r\n        }\r\n        //MAIL AND USERNAME\r\n        if((email) && oldPass && (!newPass) && (newName))\r\n        {\r\n            user.reauthenticateWithCredential(credential).then(function() {\r\n                // User re-authenticated.\r\n                console.log(\"dziala weryfikacja\");\r\n                if(!validator.isEmail(email)){\r\n                    enqueueSnackbar('Bdny adres email', {variant: 'error'});\r\n                    return;\r\n                }\r\n                if (!validator.isLength(newName,{min:4, max:30})){\r\n                    enqueueSnackbar('Zbyt krtka nazwa uytkownika', {variant: 'error'});\r\n                    return;\r\n                }\r\n                user.updateEmail(email).then(function() {\r\n                    // Update successful.\r\n                    firebase.firestore().collection('Users').doc(user.uid).set({\r\n                        email: email,\r\n                        userName: newName\r\n                    },{merge: true}).then(function(){\r\n                        enqueueSnackbar('Adres email i nazwa zostay zaktualizowane', {variant: 'success'});\r\n                    })\r\n                  }).catch(function(error) {\r\n                    // An error happened.\r\n                    enqueueSnackbar('Wystpi bd', { variant: 'error' });\r\n                  });\r\n            }).catch(function(error) {\r\n                // An error happened.\r\n                console.log(\"blad\");\r\n                enqueueSnackbar('Podaj poprawne haso', { variant: 'error' });\r\n            });\r\n        }\r\n        //MAIL AND PASSWORD AND USERNAME\r\n        if((email) && oldPass && (newPass) && (newName))\r\n        {\r\n            user.reauthenticateWithCredential(credential).then(function() {\r\n                // User re-authenticated.\r\n                console.log(\"dziala weryfikacja\");\r\n                if(!validator.isEmail(email)){\r\n                    enqueueSnackbar('Bdny adres email', {variant: 'error'});\r\n                    return;\r\n                }\r\n                if (!validator.isLength(newPass,{min:6, max:30})){\r\n                    enqueueSnackbar('Nowe haso musi zawiera minimum 6 znakw', {variant: 'error'});\r\n                    return;\r\n                }\r\n                if (!validator.isLength(newName,{min:4, max:30})){\r\n                    enqueueSnackbar('Zbyt krtka nazwa uytkownika', {variant: 'error'});\r\n                    return;\r\n                }\r\n                user.updateEmail(email).then(function() {\r\n                    // Update successful.\r\n                    firebase.firestore().collection('Users').doc(user.uid).set({\r\n                        email: email,\r\n                        userName: newName\r\n                    },{merge: true}).then(function(){\r\n                    user.updatePassword(newPass).then(function() {\r\n                        // Update successful.\r\n                        console.log(\"haslo zaktualizowane\");\r\n                        enqueueSnackbar('Dane zostay zaktualizowane', {variant: 'success'});\r\n                      }).catch(function(error) {\r\n                        // An error happened.\r\n                        console.log(\"blad zmiany hasla\");\r\n                        enqueueSnackbar('Wystpi bd przy zmianie hasa', { variant: 'error' });\r\n                      });\r\n                    });\r\n                  }).catch(function(error) {\r\n                    // An error happened.\r\n                    enqueueSnackbar('Wystpi bd przy zmianie adresu email', { variant: 'error' });\r\n                  });\r\n            }).catch(function(error) {\r\n                // An error happened.\r\n                console.log(\"blad\");\r\n                enqueueSnackbar('Podaj poprawne haso', { variant: 'error' });\r\n            });\r\n        }\r\n        //NO PASSWORD\r\n        if((newPass || newName || email) && (!oldPass))\r\n        {\r\n            enqueueSnackbar('Aby wprowadzi zmiany musisz poda haso', { variant: 'error' });\r\n            return;\r\n        }\r\n        //PASSWORD AND USERNAME\r\n        if((!email) && newPass && newName && oldPass)\r\n        {\r\n            user.reauthenticateWithCredential(credential).then(function() {\r\n                // User re-authenticated.\r\n                console.log(\"dziala weryfikacja\");\r\n                if (!validator.isLength(newPass,{min:6, max:30})){\r\n                    enqueueSnackbar('Nowe haso musi zawiera minimum 6 znakw', {variant: 'error'});\r\n                    return;\r\n                }\r\n                if (!validator.isLength(newName,{min:4, max:30})){\r\n                    enqueueSnackbar('Zbyt krtka nazwa uytkownika', {variant: 'error'});\r\n                    return;\r\n                }\r\n                user.updatePassword(newPass).then(function() {\r\n                    // Update successful.\r\n                    console.log(\"haslo zaktualizowane\");\r\n                    //enqueueSnackbar('Haso zostao zaktualizowane', {variant: 'success'});\r\n                    firebase.firestore().collection('Users').doc(user.uid).set({\r\n                        email: oldMail,\r\n                        userName: newName\r\n                    },{merge: true}).then(function(){\r\n                        enqueueSnackbar('Dane zostay zaktualizowane', {variant: 'success'});\r\n                    });\r\n                  }).catch(function(error) {\r\n                    // An error happened.\r\n                    console.log(\"blad zmiany hasla\");\r\n                    enqueueSnackbar('Wystpi bd', { variant: 'error' });\r\n                  });\r\n            }).catch(function(error) {\r\n                // An error happened.\r\n                console.log(\"blad\");\r\n                enqueueSnackbar('Podaj poprawne haso', { variant: 'error' });\r\n            });\r\n        }\r\n        //USERNAME\r\n        if((!email) && oldPass && (!newPass) && (newName))\r\n        {\r\n            user.reauthenticateWithCredential(credential).then(function() {\r\n                // User re-authenticated.\r\n                console.log(\"dziala weryfikacja\");\r\n                if (!validator.isLength(newName,{min:4, max:30})){\r\n                    enqueueSnackbar('Zbyt krtka nazwa uytkownika', {variant: 'error'});\r\n                    return;\r\n                }\r\n                firebase.firestore().collection('Users').doc(user.uid).set({\r\n                    email: oldMail,\r\n                    userName: newName\r\n                },{merge: true}).then(function(){\r\n                    enqueueSnackbar('Nazwa uytkownika zostaa zaktualizowana', {variant: 'success'});\r\n                });\r\n              }).catch(function(error) {\r\n                // An error happened.\r\n                console.log(\"blad zmiany pseudonimu\");\r\n                enqueueSnackbar('Wystpi bd', { variant: 'error' });\r\n            }).catch(function(error) {\r\n                // An error happened.\r\n                console.log(\"blad\");\r\n                enqueueSnackbar('Podaj poprawne haso', { variant: 'error' });\r\n            });\r\n        }\r\n    };\r\n\r\n    const deleteUser = () => {\r\n        var user = firebase.auth().currentUser;\r\n        var psw = password;\r\n        var credential=firebase.auth.EmailAuthProvider.credential(\r\n            user.email,\r\n            psw\r\n        );\r\n        user.reauthenticateWithCredential(credential).then(function() {\r\n                // User re-authenticated.\r\n                console.log(\"dziala!\");\r\n                user.delete().then(function() {\r\n                    // User deleted.\r\n                    console.log(\"bye bye\");\r\n                  }).catch(function(error) {\r\n                    // An error happened.\r\n                    console.log(\"error when removing user\");\r\n                    enqueueSnackbar('Wystpi bd', { variant: 'error' });\r\n                  });\r\n            }).catch(function(error) {\r\n                // An error happened.\r\n                console.log(\"blad\");\r\n                enqueueSnackbar('Podaj poprawne haso', { variant: 'error' });\r\n            });\r\n        \r\n    };\r\n\r\n    const gApply = () => {\r\n        var newName = name;\r\n        if (!validator.isLength(newName,{min:4, max:30})){\r\n            enqueueSnackbar('Zbyt krtka nazwa uytkownika', {variant: 'error'});\r\n            return;\r\n        }\r\n        firebase.firestore().collection('Users').doc(user.uid).set({\r\n            userName: newName\r\n        },{merge: true}).then(function(){\r\n            enqueueSnackbar('Nazwa uytkownika zostaa zaktualizowana', {variant: 'success'});\r\n        });\r\n    }\r\n\r\n    const gDeleteUser = () => {\r\n        var user = firebase.auth().currentUser;\r\n        user.delete().then(function() {\r\n            // User deleted.\r\n          }).catch(function(error) {\r\n            // An error happened.\r\n            enqueueSnackbar('Wymagana autoryzacja - zaloguj si ponownie, by usun konto', {variant: 'error'});\r\n          });\r\n    }\r\n    //console.log(user.userName);\r\n\r\n    if(user.loggedByGoogle == true) {\r\n        //console.log('zalogowane z googla');\r\n        return (\r\n            <div className={styles.container}>\r\n                <div className={styles.content}>\r\n                    <div className={styles.header}>\r\n                        {/* <div style={{backgroundImage: `url(${state.imgUri})`}}>\r\n                            <label htmlFor=\"image\">\r\n                                <span aria-hidden=\"true\">Zmie avatar</span>\r\n                                <input type=\"file\" id=\"image\" style={{display: 'none'}} onChange={changeAvatar}></input>\r\n                            </label>\r\n                        </div> */}\r\n                        <div style={{fontSize: 48}}>\r\n                            <span>{user.userName}</span>\r\n                        </div>\r\n                    </div>\r\n                    <div className={styles.settings}>\r\n                        <div>\r\n                            <div style={{fontSize: 20}}>\r\n                                <span>Oglne</span>\r\n                            </div>\r\n                            <div className={styles.settingsContentBox}>\r\n                                {/* {general.elements.map(item => {\r\n                                    return (\r\n                                        <div key={item.name}>\r\n                                            <div className={styles.settingsOption}>\r\n                                                <div style={{width: '25%'}}>\r\n                                                    <label htmlFor={item.id}>{item.name}</label>\r\n                                                </div>\r\n                                                <div className={styles.htmlType} onChange={item.fun}> \r\n                                                    <input style={{width: '100%'}} type=\"text\" name={item.id} />\r\n                                                </div>\r\n                                            </div>\r\n                                            {item.warningState === true &&\r\n                                                <div className={styles.warning}>\r\n                                                    <span>{item.warning}</span>\r\n                                                </div>\r\n                                            }\r\n                                        </div>\r\n                                    )\r\n                                })} */}\r\n                                <MyInput type=\"text\" id=\"nname\" name=\"nname\" placeholder=\"zmie pseudonim\" onChange={(n) => setName(n.target.value)} />\r\n                                \r\n                            </div>\r\n                        </div>\r\n                        <div>\r\n                            <div style={{fontSize: 20, marginTop: 12}}>\r\n                                <span>{notify.name}</span>\r\n                            </div>\r\n                            <div className={styles.settingsContentBox}>\r\n                                {notify.elements.map(item => {\r\n                                    return(\r\n                                        <div className={styles.settingsOption} key={item.name}>\r\n                                            <div style={{width: '25%'}}>\r\n                                                <label>{item.name}</label>\r\n                                            </div>\r\n                                            <div className={styles.generalUserValue}>\r\n                                                <Switch\r\n                                                    id={item.id}\r\n                                                    checked={item.state}\r\n                                                    onChange={notifySwitch}\r\n                                                    color=\"primary\"\r\n                                                    name={item.name}\r\n                                                    inputProps={{ 'aria-label': 'secondary checkbox' }}\r\n                                                /> \r\n                                            </div>\r\n                                        </div>\r\n                                    );\r\n                                })}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className={styles.buttons}>\r\n                        <Button text={\"Zamknij konto\"} onClick={gDeleteUser} \r\n                        type='outlined'\r\n                        color=\"#73909C\"\r\n                        style={{\r\n                            width: '35%',\r\n                            color: '#73909C',\r\n                        }}\r\n                        />\r\n                        <Button text={\"Zatwierd zmiany\"} onClick={gApply} \r\n                        type='contained'\r\n                        color=\"#73909C\"\r\n                        style={{\r\n                            width: '60%',\r\n                            color: '#FFF',\r\n                        }}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            )\r\n    }\r\n\r\n    return (\r\n    <div className={styles.container}>\r\n        <div className={styles.content}>\r\n            <div className={styles.header}>\r\n                {/* <div style={{backgroundImage: `url(${state.imgUri})`}}>\r\n                    <label htmlFor=\"image\">\r\n                        <span aria-hidden=\"true\">Zmie avatar</span>\r\n                        <input type=\"file\" id=\"image\" style={{display: 'none'}} onChange={changeAvatar}></input>\r\n                    </label>\r\n                </div> */}\r\n                <div style={{fontSize: 48}}>\r\n                    <span>{user.userName}</span>\r\n                </div>\r\n            </div>\r\n            <div className={styles.settings}>\r\n                <div>\r\n                    <div style={{fontSize: 20}}>\r\n                        <span>Oglne</span>\r\n                    </div>\r\n                    <div className={styles.settingsContentBox}>\r\n                        {/* {general.elements.map(item => {\r\n                            return (\r\n                                <div key={item.name}>\r\n                                    <div className={styles.settingsOption}>\r\n                                        <div style={{width: '25%'}}>\r\n                                            <label htmlFor={item.id}>{item.name}</label>\r\n                                        </div>\r\n                                        <div className={styles.htmlType} onChange={item.fun}> \r\n                                            <input style={{width: '100%'}} type=\"text\" name={item.id} />\r\n                                        </div>\r\n                                    </div>\r\n                                    {item.warningState === true &&\r\n                                        <div className={styles.warning}>\r\n                                            <span>{item.warning}</span>\r\n                                        </div>\r\n                                    }\r\n                                </div>\r\n                            )\r\n                        })} */}\r\n                        <MyInput type=\"text\" id=\"nname\" name=\"nname\" placeholder=\"podaj nowy pseudonim\" onChange={(n) => setName(n.target.value)} />\r\n                        <MyInput type=\"email\" id=\"fname\" name=\"fname\" placeholder=\"podaj nowy adres email\" onChange={(e) => setMail(e.target.value)} />\r\n                        <MyInput type=\"password\" id=\"pname2\" name=\"pname2\" placeholder=\"podaj nowe haso\" onChange={(p2) => setPassword2(p2.target.value)} />\r\n                        <MyInput type=\"password\" id=\"pname\" name=\"pname\" placeholder=\"podaj stare haso\" onChange={(p) => setPassword(p.target.value)} />\r\n                    </div>\r\n                </div>\r\n                <div>\r\n                    <div style={{fontSize: 20, marginTop: 12}}>\r\n                        <span>{notify.name}</span>\r\n                    </div>\r\n                    <div className={styles.settingsContentBox}>\r\n                        {notify.elements.map(item => {\r\n                            return(\r\n                                <div className={styles.settingsOption} key={item.name}>\r\n                                    <div style={{width: '25%'}}>\r\n                                        <label>{item.name}</label>\r\n                                    </div>\r\n                                    <div className={styles.generalUserValue}>\r\n                                        <Switch\r\n                                            id={item.id}\r\n                                            checked={item.state}\r\n                                            onChange={notifySwitch}\r\n                                            color=\"primary\"\r\n                                            name={item.name}\r\n                                            inputProps={{ 'aria-label': 'secondary checkbox' }}\r\n                                        /> \r\n                                    </div>\r\n                                </div>\r\n                            );\r\n                        })}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className={styles.buttons}>\r\n                <Button text={\"Zamknij konto\"} onClick={deleteUser} \r\n                type='outlined'\r\n                color=\"#73909C\"\r\n                style={{\r\n                    width: '35%',\r\n                    color: '#73909C',\r\n                }}\r\n                />\r\n                <Button text={\"Zatwierd zmiany\"} onClick={apply} \r\n                type='contained'\r\n                color=\"#73909C\"\r\n                style={{\r\n                    width: '60%',\r\n                    color: '#FFF',\r\n                }}\r\n                />\r\n            </div>\r\n        </div>\r\n    </div>\r\n    )\r\n\r\n    function notifySwitch(event) {\r\n        console.log(`${event.target.id} ${event.target.checked}`);\r\n        setState({ ...state, [event.target.id]: event.target.checked });\r\n        var user = firebase.auth().currentUser;\r\n        if (event.target.id=='email')\r\n        {\r\n            console.log('email notification');\r\n            firebase.firestore().collection('Users').doc(user.uid).set({\r\n                emailNotification: event.target.checked\r\n            },{merge:true});\r\n        }\r\n        if (event.target.id=='push')\r\n        {\r\n            console.log('push notification');\r\n            firebase.firestore().collection('Users').doc(user.uid).set({\r\n                pushNotification: event.target.checked\r\n            },{merge: true});\r\n        }\r\n    };\r\n\r\n//     function changeAvatar(event) {\r\n//         console.log(`Avatar path: ${event.target.value}`);\r\n//         setState({...state, imgUri: `https://avatarfiles.alphacoders.com/126/thumb-126644.gif`});\r\n//     }\r\n\r\n//     function updateEmail(event) {\r\n//         console.log(`Update email: ${event.target.value}`);\r\n//         if(event.target.value !== \"\")\r\n//             setState({...state, emailWarning: true});\r\n//         else setState({...state, emailWarning: false});\r\n//     }\r\n\r\n//     function updatePasswd(event) {\r\n//         console.log(`Update password: ${event.target.value}`);\r\n//         if(event.target.value !== \"\")\r\n//             setState({...state, newPasswdWarning: true});\r\n//         else setState({...state, newPasswdWarning: false});\r\n//     }\r\n\r\n//     function passwd(event) {\r\n//         console.log(`Current password: ${event.target.value}`);\r\n//         if(event.target.value !== \"\")\r\n//             setState({...state, passwdWarning: true});\r\n//         else setState({...state, passwdWarning: false});\r\n//     }\r\n\r\n//     function updateLang(event) {\r\n//         console.log(`Update language: ${event.target.value}`);\r\n//     }\r\n\r\n//     function applySettings() {\r\n//         console.log(\"Click: save new settings\");\r\n//     }\r\n\r\n//     function closeAccount() {\r\n//         console.log(\"Click: close account\");\r\n//     }\r\n\r\n}\r\n\r\nexport default Settings;\r\n\r\nconst MyInput = styled.input`\r\n\tborder: 2px solid #73909c;\r\n\t//min-height:50px;\r\n\tmargin: 10px;\r\n\tfont-family: 'Roboto', sans-serif;\r\n\tcolor: #73909c;\r\n\tfont-size: 12px;\r\n\tborder-radius: 10px;\r\n\tpadding: 12px;\r\n\tbackground-color: transparent;\r\n\t&:focus {\r\n\t\tborder-radius: 10px;\r\n\t\tborder-color: #73909c;\r\n\t\toutline: none;\r\n\t}\r\n\t&:active {\r\n\t\tborder-radius: 10px;\r\n\t\tborder-color: #73909c;\r\n\t\toutline: none;\r\n\t}\r\n`;","import db from 'firebase'\r\n/**\r\n * Function get from firestore all groups data\r\n * @param {if you want get all data group which user is admin type TRUE, otherwise false} admin\r\n */\r\nasync function _getUserGroupsData(admin) {\r\n    let data = new Map();\r\n\r\n    let mainDoc = \"Members\";\r\n    if(admin) mainDoc = \"Admins\"\r\n\r\n    let id = await db.auth().currentUser.uid;\r\n\r\n    var docRef = db.firestore().collection(\"Users\").doc(id).collection(\"Groups\").doc(mainDoc);\r\n    \r\n    try {\r\n        // Getting all arrays of groups id\r\n        var docGroups = await docRef.get();\r\n\r\n        if (docGroups.exists) {\r\n\r\n            // Getting admin (Map), members id (array) and group name\r\n            for(let i = 0; i < docGroups.data().data.length; i++) {\r\n\r\n                var groupId = docGroups.data().data[i].trim();\r\n\r\n                try {\r\n\r\n                    let docGroupData = await db.firestore().collection(\"Groups\").doc(groupId).get();\r\n\r\n                    if(docGroupData.exists) {\r\n\r\n                        data.set(groupId, {\r\n                            id: groupId,\r\n                            name: docGroupData.data().name, \r\n                            users: admin ? new Map() : []\r\n                        });\r\n\r\n                        // Getting user data from firestore\r\n                        for(let i = 0; i < docGroupData.data().members.length; i++) {\r\n\r\n                            var userId = docGroupData.data().members[i].trim();\r\n\r\n                            try{\r\n\r\n                                let docUserData = await db.firestore().collection(\"Users\").doc(userId).get();\r\n\r\n                                if(docUserData.exists){\r\n                                    if(admin) {\r\n                                        data.get(groupId).users.set(userId, {\r\n                                            id: userId, userName: docUserData.data().userName\r\n                                        })\r\n                                    } else {\r\n                                        data.get(groupId).users.push({\r\n                                            id: userId, userName: docUserData.data().userName\r\n                                        })\r\n                                    }\r\n                                }\r\n\r\n                            } catch(e) {\r\n                                console.log(e);\r\n                            }\r\n                        }\r\n\r\n                        // Getting user invitations data from firestore\r\n                        for(let i = 0; i < docGroupData.data().invitations.length; i++) {\r\n\r\n                            var userId = docGroupData.data().invitations[i].trim();\r\n\r\n                            try{\r\n\r\n                                let docUserData = await db.firestore().collection(\"Users\").doc(userId).get();\r\n\r\n                                if(docUserData.exists){\r\n                                    if(admin) {\r\n                                        data.get(groupId).users.set(userId, {\r\n                                            id: userId, userName: docUserData.data().userName, invitations: true\r\n                                        })\r\n                                    } else {\r\n                                        data.get(groupId).users.push({\r\n                                            id: userId, userName: docUserData.data().userName, invitations: true\r\n                                        })\r\n                                    }\r\n                                }\r\n\r\n                            } catch(e) {\r\n                                console.log(e);\r\n                            }\r\n                        }\r\n                    }\r\n                } catch(e) {\r\n                    console.log(e)\r\n                }\r\n            }\r\n        }\r\n    } catch(e) {\r\n        console.log(e);\r\n    }\r\n    return data;\r\n}\r\n\r\n/**\r\n * Function get all groups data which user has admin permission\r\n */\r\nexport async function getUserAdminGroupsData() {\r\n    let data = await _getUserGroupsData(true);\r\n    return data;\r\n}\r\n\r\n/**\r\n * Function get all groups data which user has not admin permission\r\n */\r\nexport async function getUserGroupsData() {\r\n    let data = await _getUserGroupsData(false);\r\n    return data;\r\n}\r\n\r\n/**\r\n * Method update firesotre data when user approves the changes\r\n * @warning admin applet\r\n * @param {state.TMP_AdminGroupsNew - map containing new created groups} NewGroupsMap \r\n * @param {state.TMP_AdminGroupsEditInfo - map containing edited groups names} EditInfoGroupsMap \r\n * @param {state.TMP_AdminGroupsAddMembers - map containing invitations} NewGroupsMembersMap \r\n * @param {state.TMP_AdminGroupsRemoveMembers- map containing the group's expelled users} RemoveMemebersFromGroupsMap \r\n * @param {state.TMP_AdminDeleteGroups - map containg removed groups} RemoveGroupsMap \r\n * @return map which contain new firesotre groups and user id when groups or users added/removed\r\n */\r\nexport async function firebaseAdminGroupsMapState(NewGroupsMap, EditInfoGroupsMap, NewGroupsMembersMap, RemoveMemebersFromGroupsMap, RemoveGroupsMap) {\r\n    \r\n    var updates = new Map;\r\n\r\n    if(NewGroupsMap.size > 0) {\r\n        updates.set(\"NEW-GROUPS-USERS-ID\", await sendToFirebaseNewGroupsData(NewGroupsMap))\r\n    }   \r\n        \r\n        \r\n    if(NewGroupsMembersMap.size > 0) {\r\n        updates.set(\"NEW-USERS-ID\", await sendToFirebaseNewGroupsMembers(NewGroupsMembersMap))\r\n    }\r\n\t\t\r\n\tif(EditInfoGroupsMap.size > 0)\r\n\t\tupdateInFirebaseGroupsInfo(EditInfoGroupsMap)\r\n\t\t\r\n\t\r\n\tif(RemoveMemebersFromGroupsMap.size > 0)\r\n        removeFromFirebaseGroupsMembers(RemoveMemebersFromGroupsMap)\r\n    \r\n    if(RemoveGroupsMap.size > 0)\r\n        removeGroupsFromFirebase(RemoveGroupsMap)\r\n\r\n    return updates;\r\n}\r\n\r\n/**\r\n * Functions removes users from groups\r\n * @param {user to removed from groups, group id is key} mp \r\n */\r\nasync function removeGroupsFromFirebase(mp) {\r\n \r\n    for (const item of mp) {\r\n        let groupId = item[0];\r\n\r\n        if(typeof groupId === \"number\") continue;\r\n\r\n        var docGroupsRef = db.firestore().collection(\"Groups\").doc(groupId)\r\n\r\n        // Remove in user collection groups ID\r\n        await docGroupsRef.get().then(function(doc) {\r\n            if(doc.exists) {\r\n                for(let i = 0; i < doc.data().admin.length; i++) {\r\n                    let id = doc.data().admin[i];\r\n\r\n                    db.firestore().collection(\"Users\").doc(id).collection(\"Groups\").doc(\"Admins\").update({\r\n                        data: db.firestore.FieldValue.arrayRemove(groupId)\r\n                    }).catch(function(error) {\r\n                        console.error(\"Error removing document: \", error);\r\n                    });\r\n                }\r\n\r\n                for(let i = 0; i < doc.data().members.length; i++) {\r\n                    let id = doc.data().members[i];\r\n\r\n                    db.firestore().collection(\"Users\").doc(id).collection(\"Groups\").doc(\"Members\").update({\r\n                        data: db.firestore.FieldValue.arrayRemove(groupId)\r\n                    }).catch(function(error) {\r\n                        console.error(\"Error removing document: \", error);\r\n                    });\r\n                }\r\n\r\n                for(let i = 0; i < doc.data().invitations.length; i++) {\r\n                    let id = doc.data().invitations[i];\r\n\r\n                    db.firestore().collection(\"Users\").doc(id).collection(\"GroupsInvitations\").doc(groupId).delete()\r\n                    .catch(function(error) {\r\n                        console.error(\"Error removing document: \", error);\r\n                    });\r\n                }\r\n            }\r\n        }).catch(function(error) {\r\n            console.error(\"Error adding document: \", error);\r\n        });\r\n        \r\n        // Remove group\r\n        docGroupsRef.delete();\r\n    }\r\n\r\n    \r\n}\r\n\r\n/**\r\n * Functions add new groups data to firebase and send invitations to new memebers\r\n * @param {*} mp \r\n * @return updats map\r\n */\r\nasync function sendToFirebaseNewGroupsData(mp) {\r\n    // TODO user ID\r\n    var userId = await db.auth().currentUser.uid;\r\n\r\n    let updats = new Map();\r\n\r\n    for (const item of mp) {\r\n        var randomGroupId = item[0];\r\n        var groupName = item[1].name;\r\n        var docUserGroupsRef = db.firestore().collection(\"Users\")\r\n            .doc(userId).collection(\"Groups\").doc(\"Admins\"); \r\n             \r\n        // Create new group and get ID\r\n        await db.firestore().collection(\"Groups\").add({\r\n            name: item[1].name,\r\n            members: [],\r\n            invitations: [],\r\n            admin: [userId],\r\n        })\r\n        .then(async function(docRef) {\r\n            var groupId = docRef.id;\r\n\r\n            updats.set(randomGroupId, {\r\n                id: docRef.id,\r\n                users: new Map() \r\n            });\r\n\r\n            console.log(\"Document written with ID: \", groupId);\r\n            // Add group ID to users Admins aaray\r\n            docUserGroupsRef.update({\r\n                data: db.firestore.FieldValue.arrayUnion(groupId)\r\n            }).catch(function(error) {\r\n                console.error(\"Error removing document: \", error);\r\n            });\r\n\r\n            for(const newUser of item[1].users) {\r\n                var randomUserId = newUser[1].id;\r\n                let email = newUser[1].email;\r\n\r\n                // Send invitations\r\n                let obj = await _sendInvitations(groupId, groupName, email)\r\n                updats.get(randomGroupId).users.set(randomUserId, obj)\r\n            }\r\n\r\n        })\r\n        .catch(function(error) {\r\n            console.error(\"Error adding document: \", error);\r\n        });\r\n    }\r\n\r\n    return updats;\r\n}\r\n\r\n/**\r\n * Functions updates groups name\r\n * @param {*} mp \r\n */\r\nconst updateInFirebaseGroupsInfo = (mp) => {\r\n    for (const item of mp) {\r\n        db.firestore().collection(\"Groups\").doc(item[1].id).update({\r\n            name: item[1].name\r\n        }).catch(function(error) {\r\n            console.error(error);\r\n        });\r\n    }\r\n}\r\n\r\n/**\r\n * Functions send invitations to new memebers\r\n * @param {*} mp \r\n * @return updats map\r\n */\r\nasync function sendToFirebaseNewGroupsMembers(mp) {\r\n    console.log(mp)\r\n\r\n    let updates = new Map();\r\n\r\n    for (const item of mp) {\r\n        let groupId = item[0];\r\n        if(typeof groupId === \"number\")\r\n            continue;\r\n        \r\n            updates.set(groupId, {\r\n            users: new Map() \r\n        });\r\n\r\n        let groupName = item[1].name;\r\n\r\n        for(const newUserData of item[1].users) {\r\n            var randomUserId = newUserData.id;\r\n            let email = newUserData.email;\r\n\r\n            // Send invitations\r\n            let obj = await _sendInvitations(groupId, groupName, email)\r\n            updates.get(groupId).users.set(randomUserId, obj)\r\n        }\r\n    }\r\n\r\n    return updates;\r\n}\r\n\r\n/**\r\n * Send invitaitons to users\r\n * @param {handle changes} userList \r\n * @param {group dd firesotre} groupId\r\n * @param {*} groupName \r\n * @param {*} email \r\n * @param {*} userRandId \r\n */\r\nasync function _sendInvitations(groupId, groupName, email) {\r\n\r\n    var obj = {\r\n        email: email\r\n    }\r\n\r\n    let adminId = await db.auth().currentUser.uid;\r\n    let adminUserName = await db.firestore().collection(\"Users\").doc(adminId).get().then(doc => {\r\n        if(doc.exists) {\r\n            return doc.data().userName;\r\n        } else return \"NO_FOUND_NAME\";\r\n    });\r\n\r\n    await db.firestore().collection(\"Users\").where(\"email\", \"==\", email).get().then(function(querySnapshot) {\r\n        querySnapshot.forEach(function(doc) {\r\n\r\n            let invitation = {\r\n                id: groupId,\r\n                msg: `${adminUserName} zaprosi si do grupy ${groupName}`\r\n            }\r\n\r\n            try {\r\n                // Adding group id to user collection\r\n                db.firestore().collection(\"Users\").doc(doc.id).collection(\"GroupsInvitations\").doc(groupId).set(invitation);;\r\n\r\n                // Add user to group collection data invitations\r\n                db.firestore().collection(\"Groups\").doc(groupId).update({\r\n                    invitations: db.firestore.FieldValue.arrayUnion(doc.id)\r\n                });\r\n\r\n                obj = {\r\n                    id: doc.id,\r\n                    userName: doc.data().userName\r\n                }\r\n\r\n            } catch(e) {\r\n                console.log(e);\r\n            }\r\n\r\n        });\r\n    })\r\n    .catch(function(error) {\r\n        console.log(\"Error getting documents (user id from email): \", error);\r\n    });\r\n\r\n    return obj;\r\n}\r\n\r\n/**\r\n * Functions remove memebers from groups\r\n * @param {*} mp \r\n */\r\nconst removeFromFirebaseGroupsMembers = (mp) => {\r\n    console.log(mp)\r\n\r\n    for (const item of mp) {\r\n        var groupId = item[0];\r\n        for(const userId of item[1].users) {\r\n\r\n            try {\r\n                // Remove user from group\r\n                db.firestore().collection(\"Groups\").doc(groupId).update({\r\n                    members: db.firestore.FieldValue.arrayRemove(userId),\r\n                });\r\n                // Remove group in user collection\r\n                db.firestore().collection(\"Users\").doc(userId).collection(\"Groups\").doc(\"Members\").update({\r\n                    data: db.firestore.FieldValue.arrayRemove(groupId),\r\n                });\r\n            } catch(e) {\r\n                console.log(e);\r\n            }\r\n            \r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * Function contain actions when user want left from gorup\r\n * @param {array of groups id} arr \r\n */\r\nexport async function firebaseLeftFromGroups(arr) {\r\n    // TODO user ID\r\n    var userId = await db.auth().currentUser.uid;\r\n\r\n    if(arr.length > 0) {\r\n\r\n        var docUserGroupsRef = db.firestore().collection(\"Users\").doc(userId).collection(\"Groups\").doc(\"Members\"); \r\n             \r\n        for(var i=0; i < arr.length; i++) {\r\n            let groupId = arr[i].id;\r\n            \r\n            try {\r\n                 // Remove user from group\r\n                db.firestore().collection(\"Groups\").doc(groupId).update({\r\n                    members: db.firestore.FieldValue.arrayRemove(userId)\r\n                });\r\n                // Remove group in user collection\r\n                docUserGroupsRef.update({\r\n                    data: db.firestore.FieldValue.arrayRemove(groupId)\r\n                });\r\n            } catch(e) {\r\n                console.log(e);\r\n            }\r\n        }\r\n    }\r\n}\r\n","import styled from 'styled-components'\r\nimport React, { useState, useEffect } from 'react';\r\nimport {Button} from '../../components/index';\r\nimport Close from '@material-ui/icons/Close';\r\nimport DeleteIcon from '@material-ui/icons/Delete'\r\nimport {getUserAdminGroupsData, getUserGroupsData, firebaseAdminGroupsMapState, \r\n\tfirebaseLeftFromGroups} from './Firebase'\r\nimport {useSnackbar} from 'notistack'\r\n\r\nfunction UserAdminGroupsShowMembers(props) {\r\n\r\n\tif(props.groupDetails.size === 0) {\r\n\t\treturn(\r\n\t\t\t<span></span>\r\n\t\t)\r\n\t}\r\n\tlet groupId = props.groupDetails.id\r\n\treturn(\r\n\t\t<div>\r\n\t\t\t{Array.from(props.groupDetails.users.keys()).map(key => {\r\n\t\t\t\tlet id = props.groupDetails.users.get(key).id;\r\n\t\t\t\tlet email = props.groupDetails.users.get(key).email;\r\n\t\t\t\tlet userName = props.groupDetails.users.get(key).userName;\r\n\t\t\t\tlet invitations = props.groupDetails.users.get(key).invitations\r\n\t\t\t\tvar text;\r\n\t\t\t\tif(userName === undefined)\r\n\t\t\t\t\ttext = email\r\n\t\t\t\telse {\r\n\t\t\t\t\tif(invitations === true)\r\n\t\t\t\t\t\ttext = \"? \"+ userName\r\n\t\t\t\t\telse text = userName\r\n\t\t\t\t}\r\n\t\t\t\treturn(\r\n\t\t\t\t<FlexboxItem key={id}>\r\n\t\t\t\t\t<RightButton id={id}>\r\n\t\t\t\t\t\t{text}<Close \r\n\t\t\t\t\t\t\tonClick={() => props.fun(groupId, id)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</RightButton>\r\n\t\t\t\t</FlexboxItem>\r\n\t\t\t\t)\r\n\t\t\t})}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nfunction UserGroupsShowMembers(props) {\r\n\treturn(\r\n\t\t<div>\r\n\t\t\t{props.groupDetails.users.map(person => {\r\n\t\t\t\tconsole.log(person)\r\n\t\t\t\tlet text;\r\n\t\t\t\tif(person.invitations === true) text = \"? \" + person.userName\r\n\t\t\t\telse text = person.userName;\r\n\t\t\t\treturn(\r\n\t\t\t\t\t<FlexboxItem key={`${person.id}`}>\r\n\t\t\t\t\t\t<RightButton>{text}</RightButton>\r\n\t\t\t\t\t</FlexboxItem>\r\n\t\t\t\t)\r\n\t\t\t})}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default function Groups() {\r\n\t\r\n\tconst { enqueueSnackbar, closeSnackbar } = useSnackbar();\r\n\r\n\tconst [ state, setState ] = useState({\r\n\t\tcheckedA : true,\r\n\t\tcheckedB : true,\r\n\t\tcheckedF : true,\r\n\t\tcheckedG : true,\r\n\t\tload: false,\r\n\t\tuserAdminGroupsView: new Map(),\r\n\t\tuserGroupsView: new Map(),\r\n\t\tuserAdminGroupsMembersView: new Map(),\r\n\t\tuserGroupsMembersView: [],\r\n\t\tTMP_AdminGroupsUndoList: [],\r\n\t\tTMP_AdminDeleteGroups: new Map(),\r\n\t\tTMP_LeftFromGroups: [],\r\n\t\tTMP_AdminGroupsNew: new Map(),\r\n\t\tTMP_AdminGroupsEditInfo: new Map(),\r\n\t\tTMP_AdminGroupsAddMembers: new Map(),\r\n\t\tTMP_AdminGroupsRemoveMembers: new Map(),\r\n\t});\r\n\r\n\tuseEffect(() => {\r\n\t\tif(state.load === false) {\r\n\t\t\tgetUserAdminGroupsData().then(function(resultUserAdminGroupsView) {\r\n\t\t\t\tgetUserGroupsData().then(function(resultUserGroupsView) {\r\n\t\t\t\t\tsetState({\r\n\t\t\t\t\t\t...state,\r\n\t\t\t\t\t\tuserAdminGroupsView: resultUserAdminGroupsView,\r\n\t\t\t\t\t\tuserGroupsView: resultUserGroupsView,\r\n\t\t\t\t\t\tuserAdminGroupsMembersView: Array.from(resultUserAdminGroupsView.keys()).length > 0 ? \r\n\t\t\t\t\t\t\tresultUserAdminGroupsView.get(Array.from(resultUserAdminGroupsView.keys())[0]) : new Map(),\r\n\t\t\t\t\t\tuserGroupsMembersView: Array.from(resultUserGroupsView.keys()).length > 0 ? \r\n\t\t\t\t\t\t\tresultUserGroupsView.get(Array.from(resultUserGroupsView.keys())[0]) : {},\r\n\t\t\t\t\t\tload: true\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n\r\n\tconst removeUserFromGroupTemp = (groupId, personId) => {\r\n\r\n\t\tconsole.log(`removeUserFromGroupTemp = (${groupId}, ${personId})`);\r\n\r\n\t\tlet user = state.userAdminGroupsView.get(groupId).users.get(personId)\r\n\r\n\t\tstate.TMP_AdminGroupsUndoList.push({\r\n\t\t\tundo: () => {\r\n\t\t\t\tstate.TMP_AdminGroupsRemoveMembers.get(groupId).users.pop();\r\n\t\t\t\tif(state.TMP_AdminGroupsRemoveMembers.get(groupId).users.length === 0)\r\n\t\t\t\tstate.TMP_AdminGroupsRemoveMembers.delete(groupId);\r\n\t\t\t\tstate.userAdminGroupsView.get(groupId).users.set(user.id, user);\r\n\t\t\t\tsetState({\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tuserAdminGroupsView: state.userAdminGroupsView,\r\n\t\t\t\t\tTMP_AdminGroupsRemoveMembers: state.TMP_AdminGroupsRemoveMembers, \r\n\t\t\t\t});\r\n\t\t\t\tconsole.log(`Undo: remove user ${personId} from group ${groupId}`)\r\n\t\t\t}\r\n\t\t});\r\n\t\r\n\t\tif(state.TMP_AdminGroupsRemoveMembers.has(groupId))\r\n\t\t\tstate.TMP_AdminGroupsRemoveMembers.get(groupId).users.push(personId);\r\n\t\telse {\r\n\t\t\tstate.TMP_AdminGroupsRemoveMembers.set(groupId, {users: [personId]});\r\n\t\t}\r\n\t\r\n\t\tstate.userAdminGroupsMembersView = state.userAdminGroupsView.get(groupId);\r\n\r\n\t\tsetState({\r\n\t\t\t...state,\r\n\t\t\tuserAdminGroupsView: state.userAdminGroupsView.get(groupId).users.delete(personId),\r\n\t\t});\r\n\t\tsetState({\r\n\t\t\t...state,\r\n\t\t\tuserAdminGroupsMembersView: state.userAdminGroupsMembersView,\r\n\t\t});\r\n\t\tsetState({\r\n\t\t\t...state,\r\n\t\t\tTMP_AdminGroupsRemoveMembers: state.TMP_AdminGroupsRemoveMembers,\r\n\t\t});\r\n\t}\r\n\r\n\tconst btnAdminGroupsViewClick = id => {\r\n\r\n\t\tif(state.userAdminGroupsView.has(id) === false) return;\r\n\r\n\t\tif(Array.from(state.userAdminGroupsView.keys()).length > 0) {\r\n\t\t\tsetState({ ...state, userAdminGroupsMembersView: state.userAdminGroupsView.get(id)});\r\n\t\t} else setState({ ...state, userAdminGroupsMembersView: []});\r\n\t};\r\n\r\n\tconst btnOnlyMemberViewClick = id => {\r\n\r\n\t\tif(state.userGroupsView.has(id) === false) return;\r\n\r\n\t\tif(Array.from(state.userGroupsView.keys()).length) {\r\n\t\t\tsetState({ ...state, userGroupsMembersView: state.userGroupsView.get(id)});\r\n\t\t} else setState({ ...state, userGroupsMembersView: []});\r\n\t};\r\n\r\n\tconst addNewGroup = e => {\r\n\t\tif (e.key === 'Enter' && e.target.value != \"\") {\r\n\t\t\t\r\n\t\t\tlet obj = {\r\n\t\t\t\tid: Math.random(),\r\n\t\t\t\tname: e.target.value,\r\n\t\t\t\tusers: new Map()\r\n\t\t\t}\r\n\r\n\t\t\tstate.userAdminGroupsView.set(obj.id, obj);\r\n\t\t\tstate.TMP_AdminGroupsNew.set(obj.id, obj);\r\n\r\n\t\t\tstate.TMP_AdminGroupsUndoList.push({\r\n\t\t\t\tundo: () => {\r\n\t\t\t\t\tstate.TMP_AdminGroupsNew.delete(obj.id);\r\n\t\t\t\t\tstate.userAdminGroupsView.delete(obj.id);\r\n\t\t\t\t\tsetState({\r\n\t\t\t\t\t\t...state, \r\n\t\t\t\t\t\tTMP_AdminGroupsNew: state.TMP_AdminGroupsNew, \r\n\t\t\t\t\t\tuserAdminGroupsView: state.userAdminGroupsView\r\n\t\t\t\t\t});\r\n\t\t\t\t\tconsole.log(`Undo: crete new group ${obj.id}`)\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tsetState({ \r\n\t\t\t\t...state,\r\n\t\t\t\tuserAdminGroupsView: state.userAdminGroupsView,\r\n\t\t\t\tTMP_AdminGroupsUndoList: state.TMP_AdminGroupsUndoList,\r\n\t\t\t\tTMP_AdminGroupsNew: state.TMP_AdminGroupsNew,\r\n\t\t\t});\r\n\r\n\t\t\tbtnAdminGroupsViewClick(obj.id);\r\n\t\t\te.target.value = \"\";\r\n\t\t}\r\n\t};\r\n\r\n\tconst addNewMember = (e) => {\r\n\t\tif(state.userAdminGroupsMembersView.length === 0) return;\r\n\r\n\t\tif (e.key === 'Enter' && e.target.value !== \"\") {\r\n\r\n\t\t\tlet groupId = state.userAdminGroupsMembersView.id; \r\n\t\t\tlet userData = {\r\n\t\t\t\tid: Math.random(),\r\n\t\t\t\temail: e.target.value,\t\t\r\n\t\t\t}\r\n\r\n\t\t\te.target.value = \"\";\r\n\r\n\t\t\tstate.TMP_AdminGroupsUndoList.push({\r\n\t\t\t\tundo: () => {\r\n\t\t\t\t\tstate.TMP_AdminGroupsAddMembers.get(groupId).users.pop();\r\n\t\t\t\t\tif(state.TMP_AdminGroupsAddMembers.get(groupId).users.length === 0)\r\n\t\t\t\t\t\tstate.TMP_AdminGroupsAddMembers.delete(groupId)\r\n\t\t\t\t\tstate.userAdminGroupsView.get(groupId).users.delete(userData.id);\r\n\t\t\t\t\tsetState({\r\n\t\t\t\t\t\t...state, \r\n\t\t\t\t\t\tTMP_AdminGroupsAddMembers: state.TMP_AdminGroupsAddMembers, \r\n\t\t\t\t\t\tuserAdminGroupsView: state.userAdminGroupsView\r\n\t\t\t\t\t});\r\n\t\t\t\t\tconsole.log(`Undo: add new member ${userData.id} to group: ${groupId}`)\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tstate.userAdminGroupsView.get(groupId).users.set(userData.id, userData);\r\n\r\n\t\t\tif(state.TMP_AdminGroupsAddMembers.has(groupId))\r\n\t\t\t\tstate.TMP_AdminGroupsAddMembers.get(groupId).users.push(userData);\r\n\t\t\telse {\r\n\t\t\t\tlet gName = state.userAdminGroupsMembersView.name;\r\n\t\t\t\tstate.TMP_AdminGroupsAddMembers.set(groupId, {name: gName, users: [userData]});\r\n\t\t\t}\r\n\t\t\t\t\r\n\t\t\tstate.userAdminGroupsMembersView = state.userAdminGroupsView.get(groupId);\r\n\t\t\tsetState({\r\n\t\t\t\t...state,\r\n\t\t\t\tuserAdminGroupsView: state.userAdminGroupsView,\r\n\t\t\t\tTMP_AdminGroupsAddMembers: state.TMP_AdminGroupsAddMembers,\r\n\t\t\t\tuserAdminGroupsMembersView: state.userAdminGroupsMembersView\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst leftFromGroup = id => {\r\n\t\tlet group = state.userGroupsView.get(id);\r\n\t\t\r\n\t\tstate.TMP_LeftFromGroups.push(group);\r\n\t\tsetState({ ...state, TMP_LeftFromGroups: state.TMP_LeftFromGroups});\r\n\t\t\r\n\t\tstate.userGroupsView.delete(id);\r\n\t\t\r\n\t\tif(Array.from(state.userGroupsView.keys()).length > 0) {\r\n\t\t\tsetState({ ...state, userGroupsView: state.userGroupsView, userGroupsMembersView: state.userGroupsView.get(\r\n\t\t\t\tArray.from(state.userGroupsView.keys())[0]\r\n\t\t\t)});\r\n\t\t} else {\r\n\t\t\tsetState({ ...state, userGroupsView: [], userGroupsMembersView: []});\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tconst editGroup = (e, id)=> {\r\n\t\tif (e.key === 'Enter' && e.target.value !== \"\") {\r\n\t\t\tlet name = state.userAdminGroupsView.get(id).name;\r\n\t\t\tstate.TMP_AdminGroupsUndoList.push({\r\n\t\t\t\tundo: () => {\r\n\t\t\t\t\tstate.TMP_AdminGroupsEditInfo.delete(id);\r\n\t\t\t\t\tstate.userAdminGroupsView.get(id).name = name;\r\n\t\t\t\t\tsetState({\r\n\t\t\t\t\t\t...state,\r\n\t\t\t\t\t\tuserAdminGroupsView: state.userAdminGroupsView,\r\n\t\t\t\t\t\tTMP_AdminGroupsEditInfo: state.TMP_AdminGroupsEditInfo,\r\n\t\t\t\t\t});\r\n\t\t\t\t\tconsole.log(`Undo: edit group ${id}`)\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tstate.userAdminGroupsView.get(id).name = e.target.value;\r\n\t\t\tstate.TMP_AdminGroupsEditInfo.set(id, state.userAdminGroupsView.get(id));\r\n\t\t\tsetState({\r\n\t\t\t\t...state,\r\n\t\t\t\tuserAdminGroupsView: state.userAdminGroupsView,\r\n\t\t\t\tTMP_AdminGroupsEditInfo: state.TMP_AdminGroupsEditInfo\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst deleteGroup = id => {\r\n\t\tlet groupData = state.userAdminGroupsView.get(id);\r\n\t\t\r\n\t\tstate.TMP_AdminGroupsUndoList.push({\r\n\t\t\tundo: () => {\r\n\t\t\t\tstate.TMP_AdminDeleteGroups.delete(id);\r\n\t\t\t\tstate.userAdminGroupsView.set(id, groupData);\r\n\t\t\t\tsetState({\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tuserAdminGroupsView: state.userAdminGroupsView,\r\n\t\t\t\t\tTMP_AdminDeleteGroups: state.TMP_AdminDeleteGroups,\r\n\t\t\t\t});\r\n\t\t\t\tconsole.log(`Undo: delete group ${id}`)\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tstate.TMP_AdminDeleteGroups.set(id, groupData);\r\n\t\tstate.userAdminGroupsView.delete(id);\r\n\r\n\t\tsetState({\r\n\t\t\t...state,\r\n\t\t\tuserAdminGroupsView: state.userAdminGroupsView,\r\n\t\t\tTMP_AdminDeleteGroups: state.TMP_AdminDeleteGroups,\r\n\t\t});\r\n\t}\r\n\r\n\tconst undoAdminViewChange = () => {\r\n\t\tif(state.TMP_AdminGroupsUndoList.length > 0) {\r\n\t\t\tlet obj = state.TMP_AdminGroupsUndoList.pop();\r\n\t\t\tsetState({\r\n\t\t\t\t...state,\r\n\t\t\t\tTMP_AdminGroupsUndoList: state.TMP_AdminGroupsUndoList\r\n\t\t\t});\r\n\t\t\tobj.undo();\r\n\t\t}\r\n\t}\r\n\r\n\tasync function submitAdminViewChange() {\r\n\r\n\t\tlet updates = await firebaseAdminGroupsMapState(\r\n\t\t\tstate.TMP_AdminGroupsNew,\r\n\t\t\tstate.TMP_AdminGroupsEditInfo,\r\n\t\t\tstate.TMP_AdminGroupsAddMembers,\r\n\t\t\tstate.TMP_AdminGroupsRemoveMembers,\r\n\t\t\tstate.TMP_AdminDeleteGroups\r\n\t\t\t);\r\n\t\t\r\n\t\tif(updates.size > 0) {\r\n\t\t\tconsole.log(\"UPDATES\", updates);\r\n\t\t\tif(updates.has(\"NEW-GROUPS-USERS-ID\")){\r\n\t\t\t\tconsole.log(\"NEW-GROUPS-USERS-ID\", updates.get(\"NEW-GROUPS-USERS-ID\"));\r\n\t\t\t\t//New groups, update generated group id and users, if some 'user' have wrong email === null\r\n\t\t\t\tfor(const [key, value] of updates.get(\"NEW-GROUPS-USERS-ID\").entries()) {\r\n\t\t\t\t\tlet randomGroupId = key;\r\n\t\t\t\t\tlet firebaseGroupId = value.id;\r\n\t\t\t\t\tlet groupName = state.userAdminGroupsView.get(randomGroupId).name;\r\n\t\t\t\t\tstate.userAdminGroupsView.set(firebaseGroupId, {\r\n\t\t\t\t\t\tid: firebaseGroupId,\r\n\t\t\t\t\t\tname: groupName, \r\n\t\t\t\t\t\tusers: new Map()\r\n\t\t\t\t\t});\r\n\t\t\t\t\tstate.userAdminGroupsView.delete(randomGroupId);\r\n\t\t\t\t\t// If user have email - not exists\r\n\t\t\t\t\tconsole.log(\"If email, err\", value.users)\r\n\t\t\t\t\tfor(const [index, obj] of value.users.entries()) {\r\n\t\t\t\t\t\tconsole.log(index, obj);\r\n\t\t\t\t\t\tif(obj.userName === undefined)\r\n\t\t\t\t\t\t\tenqueueSnackbar(`Podany email ${obj.email} nie istnieje`, { variant: 'error' })\r\n\t\t\t\t\t\telse  state.userAdminGroupsView.get(firebaseGroupId).users.set(obj.id, {\r\n\t\t\t\t\t\t\tid: obj.id,\r\n\t\t\t\t\t\t\tuserName: obj.userName,\r\n\t\t\t\t\t\t\tinvitations: true\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif(updates.has(\"NEW-USERS-ID\")) {\r\n\t\t\t\tconsole.log(\"NEW-USERS-ID\", updates.get(\"NEW-USERS-ID\"));\r\n\t\t\t\tfor(const [key, value] of updates.get(\"NEW-USERS-ID\").entries()) {\r\n\t\t\t\t\tlet groupId = key;\r\n\t\t\t\t\t//state.userAdminGroupsView.get(groupId).users = new Map();\r\n\t\t\t\t\t// If user have email - not exists\r\n\t\t\t\t\tconsole.log(\"If email, err\", value.users)\r\n\t\t\t\t\tfor(const [index, obj] of value.users.entries()) {\r\n\t\t\t\t\t\tconsole.log(index, obj);\r\n\t\t\t\t\t\tif(obj.userName === undefined) {\r\n\t\t\t\t\t\t\tenqueueSnackbar(`Podany email ${obj.email} nie istnieje`, { variant: 'error' })\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\tstate.userAdminGroupsView.get(groupId).users.set(obj.id, {\r\n\t\t\t\t\t\t\t\tid: obj.id,\r\n\t\t\t\t\t\t\t\tuserName: obj.userName,\r\n\t\t\t\t\t\t\t\tinvitations: true\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tstate.userAdminGroupsView.get(groupId).users.delete(index);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif(Array.from(state.userAdminGroupsView.keys()).length > 0) {\r\n\t\t\t\tstate.userAdminGroupsMembersView = state.userAdminGroupsView.get(Array.from(state.userAdminGroupsView.keys())[0])\r\n\t\t\t} else state.userAdminGroupsMembersView = new Map();\r\n\t\t}\r\n\r\n\t\tstate.TMP_AdminGroupsNew = new Map()\r\n\t\tstate.TMP_AdminGroupsEditInfo = new Map();\r\n\t\tstate.TMP_AdminGroupsAddMembers = new Map()\r\n\t\tstate.TMP_AdminGroupsRemoveMembers = new Map()\r\n\t\tstate.TMP_AdminDeleteGroups = new Map();\r\n\r\n\t\tsetState({ \r\n\t\t\t...state,\r\n\t\t\tuserAdminGroupsView: state.userAdminGroupsView,\r\n\t\t\tuserAdminGroupsMembersView: state.userAdminGroupsMembersView,\r\n\t\t\tTMP_AdminGroupsEditInfo: state.TMP_AdminGroupsEditInfo,\r\n\t\t\tTMP_AdminGroupsAddMembers: state.TMP_AdminGroupsAddMembers,\r\n\t\t\tTMP_AdminGroupsRemoveMembers: state.TMP_AdminGroupsRemoveMembers,\r\n\t\t\tTMP_AdminGroupsUndoList: [],\r\n\t\t\tTMP_AdminGroupsNew: state.TMP_AdminGroupsNew,\r\n\t\t\tTMP_AdminDeleteGroups: state.TMP_AdminDeleteGroups\r\n\t\t});\r\n\r\n\t\tenqueueSnackbar('Operacja zostaa wykonana', { variant: 'success' })\r\n\t}\r\n\r\n\tconst undoUserGroupsChange = () => {\r\n\t\tif(state.TMP_LeftFromGroups.length > 0) {\r\n\t\t\tlet group = state.TMP_LeftFromGroups.pop();\r\n\t\t\tsetState({ ...state, TMP_LeftFromGroups: state.TMP_LeftFromGroups});\r\n\t\t\tstate.userGroupsView.set(group.id, group);\r\n\t\t\tsetState({ ...state, userGroupsView: new Map([...state.userGroupsView.entries()].sort())});\r\n\t\t}\r\n\t}\r\n\r\n\tasync function submitUserGroupsChange() {\r\n\t\tawait firebaseLeftFromGroups(state.TMP_LeftFromGroups)\r\n\t\tenqueueSnackbar('Operacja zostaa wykonana pomylnie', { variant: 'success' })\r\n\t\tsetState({ ...state, TMP_LeftFromGroups: []});\r\n\t}\r\n\r\n\treturn (\r\n\t\t<FlexboxContainerContainer>\r\n\t\t\t{/* <Tytul>Memo helper</Tytul> */}\r\n\t\t\t<FlexboxContainer>\r\n\t\t\t\t<Flexhelper>\r\n\t\t\t\t\t<CreateGroupsTop />\r\n\t\t\t\t\t<CreateGroups>\r\n\t\t\t\t\t\t<CreateGroupsLeft>\r\n\t\t\t\t\t\t\t<div>Zarzdzaj swoimi grupami</div>\r\n\r\n\t\t\t\t\t\t\t{state.userAdminGroupsView.size > 0 &&\r\n\t\t\t\t\t\t\t\tArray.from(state.userAdminGroupsView.keys()).map(key => {\r\n\t\t\t\t\t\t\t\t\tif(key !== \"Friends\") {\r\n\t\t\t\t\t\t\t\t\t\tlet name = state.userAdminGroupsView.get(key).name;\r\n\t\t\t\t\t\t\t\t\t\treturn(\r\n\t\t\t\t\t\t\t\t\t\t\t<FlexboxItem key={key} \r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => btnAdminGroupsViewClick(key)}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<LeftButton>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<MyTextInput2 maxLength=\"20\" placeholder={name} color=\"#9C9083\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonKeyDown={(e) => editGroup(e, key)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<DeleteIcon onClick={() => deleteGroup(key)}/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</LeftButton>\r\n\t\t\t\t\t\t\t\t\t\t\t</FlexboxItem>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\treturn(\r\n\t\t\t\t\t\t\t\t\t\t\t<FlexboxItem key={key} \r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => btnAdminGroupsViewClick(key)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<LeftButtonZnajomi>Znajomi</LeftButtonZnajomi>\r\n\t\t\t\t\t\t\t\t\t\t\t</FlexboxItem>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t<FlexboxItem>\r\n\t\t\t\t\t\t\t\t<AddButton>\r\n\t\t\t\t\t\t\t\t\t<MyTextInput maxLength=\"150\" placeholder=\"Dodaj grupe\" color=\"#9C9083\" \r\n\t\t\t\t\t\t\t\t\t\tonKeyDown={addNewGroup}\r\n\t\t\t\t\t\t\t\t\t/>{' '}\r\n\t\t\t\t\t\t\t\t</AddButton>\r\n\t\t\t\t\t\t\t</FlexboxItem>\r\n\t\t\t\t\t\t</CreateGroupsLeft>\r\n\t\t\t\t\t\t<CreateGroupsDivider />\r\n\t\t\t\t\t\t<CreateGroupsRight>\r\n\t\t\t\t\t\t\t{state.userAdminGroupsView.size > 0 &&\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<div>Czonkowie grupy: \r\n\t\t\t\t\t\t\t\t\t\t<span style={{marginLeft: 5, textDecoration: 'underline'}}>{state.userAdminGroupsMembersView.name}</span>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<FlexboxItem>\r\n\t\t\t\t\t\t\t\t\t\t<RightButton>\r\n\t\t\t\t\t\t\t\t\t\t\t<MyTextInput maxLength=\"150\" placeholder=\"Podaj email\" color=\"#9C9083\" \r\n\t\t\t\t\t\t\t\t\t\t\t\tonKeyDown={addNewMember}\r\n\t\t\t\t\t\t\t\t\t\t\t/>{' '}\r\n\t\t\t\t\t\t\t\t\t\t</RightButton>\r\n\t\t\t\t\t\t\t\t\t</FlexboxItem>\r\n\r\n\t\t\t\t\t\t\t\t\t<UserAdminGroupsShowMembers \r\n\t\t\t\t\t\t\t\t\t\tgroupDetails={state.userAdminGroupsMembersView} \r\n\t\t\t\t\t\t\t\t\t\tfun={removeUserFromGroupTemp} \r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</CreateGroupsRight>\r\n\t\t\t\t\t</CreateGroups>\r\n\t\t\t\t\t<CreateGroupsBottomRow>\r\n\t\t\t\t\t\t<FlexboxItem>\r\n\t\t\t\t\t\t\t<BottomRowBack>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\ttext={'Cofnij'}\r\n\t\t\t\t\t\t\t\t\tcolor=\"#73909C\"\r\n\t\t\t\t\t\t\t\t\ttype=\"outlined\"\r\n\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\tcolor : '#73909C'\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tonClick={undoAdminViewChange}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</BottomRowBack>\r\n\t\t\t\t\t\t</FlexboxItem>\r\n\t\t\t\t\t\t<FlexboxItem>\r\n\t\t\t\t\t\t\t<BottomRowSetChanges>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\ttext={'Zatwierd zmiany'}\r\n\t\t\t\t\t\t\t\t\tcolor=\"#73909C\"\r\n\t\t\t\t\t\t\t\t\ttype=\"contained\"\r\n\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\tcolor : '#fff'\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tonClick={submitAdminViewChange}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</BottomRowSetChanges>\r\n\t\t\t\t\t\t</FlexboxItem>\r\n\t\t\t\t\t</CreateGroupsBottomRow>\r\n\t\t\t\t</Flexhelper>\r\n\t\t\t\t<Flexhelper>\r\n\t\t\t\t\t<CreateGroupsTop />\r\n\t\t\t\t\t<CreateGroups>\r\n\t\t\t\t\t\t<CreateGroupsLeft>\r\n\t\t\t\t\t\t\t<div>Twoje grupy</div>\r\n\t\t\t\t\t\t\t{/* <FlexboxItem>\r\n\t\t\t\t\t\t\t\t<LeftButtonZnajomi>\r\n\t\t\t\t\t\t\t\t\tZnajomi<Close />\r\n\t\t\t\t\t\t\t\t</LeftButtonZnajomi>\r\n\t\t\t\t\t\t\t</FlexboxItem> */}\r\n\r\n\t\t\t\t\t\t\t{state.userGroupsView.size > 0 &&\r\n\t\t\t\t\t\t\t\tArray.from(state.userGroupsView.keys()).map(key => {\r\n\t\t\t\t\t\t\t\t\tlet name = state.userGroupsView.get(key).name\r\n\t\t\t\t\t\t\t\t\treturn(\r\n\t\t\t\t\t\t\t\t\t\t<FlexboxItem key={key}\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => btnOnlyMemberViewClick(key)} \r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<LeftButton>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{name}<Close onClick={() => leftFromGroup(key)}/>\r\n\t\t\t\t\t\t\t\t\t\t\t</LeftButton>\r\n\t\t\t\t\t\t\t\t\t\t</FlexboxItem> \r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t</CreateGroupsLeft>\r\n\t\t\t\t\t\t<CreateGroupsDivider />\r\n\t\t\t\t\t\t<CreateGroupsRight>\r\n\t\t\t\t\t\t\t{Object.keys(state.userGroupsMembersView).length <= 0 &&\r\n\t\t\t\t\t\t\t\t<div>Nie naleysz do adnej grupy</div>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t{Object.keys(state.userGroupsMembersView).length > 0 &&\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<div>Czonkowie grupy: \r\n\t\t\t\t\t\t\t\t\t\t<span style={{marginLeft: 5, textDecoration: 'underline'}}>{state.userGroupsMembersView.name}</span>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<UserGroupsShowMembers \r\n\t\t\t\t\t\t\t\t\t\tgroupDetails={state.userGroupsMembersView}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</CreateGroupsRight>\r\n\t\t\t\t\t</CreateGroups>\r\n\t\t\t\t\t<CreateGroupsBottomRow>\r\n\t\t\t\t\t\t<FlexboxItem>\r\n\t\t\t\t\t\t\t<BottomRowBack>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\ttext={'Cofnij'}\r\n\t\t\t\t\t\t\t\t\tcolor=\"#73909C\"\r\n\t\t\t\t\t\t\t\t\ttype=\"outlined\"\r\n\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\tcolor : '#73909C'\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tonClick={undoUserGroupsChange}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</BottomRowBack>\r\n\t\t\t\t\t\t</FlexboxItem>\r\n\t\t\t\t\t\t<FlexboxItem>\r\n\t\t\t\t\t\t\t<BottomRowSetChanges>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\ttext={'Zatwierd zmiany'}\r\n\t\t\t\t\t\t\t\t\tcolor=\"#73909C\"\r\n\t\t\t\t\t\t\t\t\ttype=\"contained\"\r\n\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\tcolor : '#fff'\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tonClick={submitUserGroupsChange}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</BottomRowSetChanges>\r\n\t\t\t\t\t\t</FlexboxItem>\r\n\t\t\t\t\t</CreateGroupsBottomRow>\r\n\t\t\t\t</Flexhelper>\r\n\t\t\t</FlexboxContainer>\r\n\t\t</FlexboxContainerContainer>\r\n\t);\r\n}\r\nconst MyTextInput2 = styled.input`\r\n\ttext-decoration: none;\r\n\tborder: none;\r\n\tbackground: none;\r\n\toutline: none;\r\n\tcolor: #9c9083;\r\n\tfont-size: 16px;\r\n\twidth: 50%;\r\n\topacity: 1;\r\n`;\r\n\r\nconst MyTextInput = styled.input`\r\n\ttext-decoration: none;\r\n\tborder: none;\r\n\tbackground: none;\r\n\toutline: none;\r\n\tcolor: #9c9083;\r\n\tfont-size: 16px;\r\n`;\r\n\r\nconst Flexhelper=styled.div`\r\nmargin-bottom: 30px;\r\nflex-direction: row;\r\noverflow: auto;\r\nmax-height: 80vh;\r\nborder-radius: 15px;\r\n`\r\nconst CreateGroups = styled.div`\r\n\tdisplay: flex;\r\n\tbackground-color: #fffaf5;\r\n\tflex-direction: row;\r\n\tjustify-content: space-between;\r\n\talign-items: stretch;\r\n`;\r\nconst CreateGroupsTop = styled.div`\r\n    min-height:50px;\r\n    background-color: #FFFAF5;\r\n`\r\nconst CreateGroupsLeft = styled.div`\r\ndisplay:flex;\r\nflex-direction:column;\r\njustify-content:space-around;\r\ntext-align:center;\r\nwidth:100%;\r\ncolor:#9C9083;\r\n`\r\nconst LeftButton=styled.div`\r\n    //min-width:100px;\r\n    //width: 175px; \r\n    display: flex;\r\n//flex-direction: row;\r\njustify-content:space-between;\r\n    margin-top:16px;\r\n    min-height: 25px;\r\n    margin-left:50px;\r\n    margin-right:50px;\r\n    border: 3px solid #9C9083;\r\n    border-radius: 30px;\r\n    padding:14px;\r\n    //align-self:center;\r\n`\r\nconst AddButton=styled.div`\r\n    //min-width:100px;\r\n    //width: 175px; \r\n    display: flex;\r\n    //flex-direction: row;\r\n    justify-content:space-between;\r\n    margin-top:16px;\r\n    min-height: 25px;\r\n    margin-left:50px;\r\n    margin-right:50px;\r\n    border: 3px solid #9C9083;\r\n    border-radius: 30px;\r\n    padding:14px;\r\n    //align-self:center;\r\n`\r\nconst LeftButtonZnajomi=styled.div`\r\n    //min-width:100px;\r\n    display: flex;\r\nflex-direction: row;\r\nalign-content: center;\r\njustify-content:space-between;\r\n    text-align:center;\r\n    width: 175px; \r\n    margin-top:16px;\r\n    min-height: 25px;\r\n    margin-left:50px;\r\n    margin-right:50px;\r\n    padding:14px;\r\n    background-color: #9C9083;\r\n    border: 3px solid #9C9083;\r\n    color:white;\r\n    border-radius: 30px;\r\n    //align-self:center;\r\n`\r\nconst LeftButton1=styled.div`\r\n    //width: 200px;\r\n    //height: 50px;\r\n    //border: 2px solid #73909C;\r\n    background-color: #73909C;\r\n    color: #FFFFFF;\r\n    text-align: center;\r\n    font-size: 16px;\r\n    border-radius: 10px;\r\n    padding: 16px;\r\n    box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);\r\n    //width:100%;\r\n`\r\nconst CreateGroupsRight = styled.div`\r\ndisplay:flex;\r\n\r\n\tflex-direction: column;\r\n\tjustify-content: space-around;\r\n\twidth: 100%;\r\n\tcolor: #9c9083;\r\n\ttext-align: center;\r\n`;\r\nconst RightButton = styled.div`\r\n\t//min-width:100px;\r\n\tdisplay: flex;\r\n\tflex-direction: row;\r\n\talign-content: center;\r\n\tjustify-content: space-between;\r\n\ttext-align: center;\r\n\twidth: 175px;\r\n\tmargin-top: 16px;\r\n\tmin-height: 25px;\r\n\tmargin-left: 50px;\r\n\tmargin-right: 50px;\r\n\tpadding: 14px;\r\n\tborder: 3px solid #9c9083;\r\n\tborder-radius: 12px;\r\n\t//align-self:center;\r\n`;\r\nconst CreateGroupsDivider = styled.div`\r\nwidth: 2px;\r\nmin-height:100px;\r\n    background-color: black;\r\n`\r\nconst CreateGroupsBottomRow = styled.div`\r\n    min-width: 100px;\r\n    min-height:50px;\r\n    display: flex;\r\n    background-color: #FFFAF5;\r\n    justify-content: space-between;\r\n    \r\n`\r\n\r\n\r\nconst FlexboxItem=styled.div`\r\n\r\n    //background-color: #dfdfdf;\r\n`\r\nconst BottomRowBack=styled.div`\r\n    //min-width:100px;\r\n    width: 175px; \r\n    margin: 50px;\r\n    min-height: 25px;\r\n    margin-left:50px;\r\n    margin-right:50px;\r\n\r\n    //align-self:center;\r\n`\r\nconst BottomRowSetChanges=styled.div`\r\n    width: 175px; \r\n    margin: 50px;\r\n    min-height: 25px;\r\n    margin-left:50px;\r\n    margin-right:50px;\r\n\r\n    //align-self: center;\r\n`\r\n\r\nconst FlexboxMyGroups = styled.div`\r\n    display: flex;\r\n    background-color: #FFFAF5;\r\n    //justify-content: space-around;\r\n    //align-items: center;\r\n    //align-content: center;\r\n    flex-direction: row;\r\n`\r\nconst FlexboxDivider = styled.div`\r\n    display: flex;\r\n    //justify-content: space-around;\r\n    //align-items: center;\r\n    //align-content: center;\r\n    flex-direction: column;\r\n`\r\nconst FlexboxContainerContainer = styled.div`\r\n    display: flex;\r\n    //justify-content: space-around;\r\n    align-items: center;\r\n    //align-content: center;\r\n    flex-direction: column;\r\n`\r\nconst FlexboxContainer = styled.div`\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    justify-content:space-around;\r\n    align-items:stretch;\r\n\t\twidth: fit-content;\r\n    flex-direction: column;\r\n`\r\n\r\nconst Img=styled.img`\r\n`\r\n\r\nconst Box=styled.div`\r\n    border: 2px solid #73909C;\r\n    //min-height:50px;\r\n    margin: 10px;\r\n    font-family: 'Roboto', sans-serif;\r\n    color: #73909C;\r\n    font-size: 16px;\r\n    border-radius: 10px;\r\n    padding: 16px;\r\n`\r\nconst EmptyBox=styled.div`\r\n    min-height:50px;\r\n    min-width:417px;\r\n    margin: 10px;\r\n    display: flex;\r\n    flex-direction: row;\r\n    //text-align:center;\r\n    color: #73909C;\r\n`\r\n\r\nconst Buttonscontainer=styled(EmptyBox)`\r\n    flex-direction:row;\r\n    //margin: 10px;\r\n    justify-content: space-around;\r\n`\r\nconst MyInput = styled.input`\r\n    border: 2px solid #73909C;\r\n    //min-height:50px;\r\n    margin: 10px;\r\n    font-family: 'Roboto', sans-serif;\r\n    color: #73909C;\r\n    font-size: 16px;\r\n    border-radius: 10px;\r\n    padding: 16px;\r\n    background-color: transparent;\r\n    &:focus {\r\n        border-radius: 10px;\r\n        border-color: #73909C;\r\n        outline: none;\r\n    }\r\n    &:active {\r\n        border-radius: 10px;\r\n        border-color: #73909C;\r\n        outline: none;\r\n    }\r\n`","import React, {useEffect} from \"react\"\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route\r\n} from \"react-router-dom\"\r\nimport styled from 'styled-components'\r\nimport {NavBar} from './components'\r\nimport {Calendar} from './screens/Calendar/Calendar'\r\nimport Login from './screens/Login/login'\r\nimport {Home} from './screens'\r\nimport Settings from './screens/Settings/Settings'\r\nimport Groups from './screens/Groups/Groups'\r\nimport browserHistory from './history';\r\nimport {AuthProvider, AuthGuard, NotificationsProvider} from './utils'\r\n\r\nfunction App() {\r\n  return (\r\n    <AuthProvider>\r\n      <NotificationsProvider />\r\n      <Body>\r\n        <Router history={browserHistory}>\r\n          <AuthGuard>\r\n            <NavBar />\r\n            <Switch>\r\n              <Route path=\"/login/:path?\">\r\n                <Login></Login>\r\n              </Route>\r\n              <Route path=\"/calendar\">\r\n                <Calendar></Calendar>\r\n              </Route>\r\n              <Route path=\"/settings\">\r\n                <Settings />\r\n              </Route>\r\n              <Route path=\"/Groups\">\r\n                <Groups />\r\n              </Route>\r\n              <Route path=\"/\">\r\n                <Home />\r\n              </Route>\r\n            </Switch>\r\n          </AuthGuard>\r\n        </Router>\r\n      </Body>\r\n    </AuthProvider>\r\n  );\r\n}\r\n\r\nconst baseURL = window.location.hostname\r\nconst protocol = window.location.protocol\r\nconst port = window.location.port\r\nconst Body = styled.div`\r\n  min-width: 95vw;\r\n  min-height: 100vh;\r\n  padding: 0 120px 0 120px;\r\n  box-sizing: border-box;\r\n  background-image: url(\"${protocol}//${baseURL}:${port}/assets/background.png\");\r\n  background-size: cover;\r\n  background-position: center;\r\n  background-repeat: no-repeat;\r\n  display: flex;\r\n  flex-direction: column;\r\n`\r\n\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport firebase from 'firebase/app';\r\nimport {RecoilRoot} from 'recoil';\r\nimport {SnackbarProvider} from 'notistack'\r\n\r\nif ('serviceWorker' in navigator) {\r\n  navigator.serviceWorker.register('../firebase-messaging-sw.js')\r\n  .then(function(registration) {\r\n    console.log('Registration successful, scope is:', registration.scope);\r\n  }).catch(function(err) {\r\n    console.log('Service worker registration failed, error:', err);\r\n  });\r\n}\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyCJ380bCZ3ukDzkf8dV09B0BqMQPPaN3u4\",\r\n  authDomain: \"memohelp.firebaseapp.com\",\r\n  databaseURL: \"https://memohelp.firebaseio.com\",\r\n  projectId: \"memohelp\",\r\n  storageBucket: \"memohelp.appspot.com\",\r\n  messagingSenderId: \"882484536209\",\r\n  appId: \"1:882484536209:web:49acd2ff387b98c97c7030\",\r\n  measurementId: \"G-LDVD4K1EZJ\"\r\n};\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nReactDOM.render(\r\n  <RecoilRoot>\r\n    <React.StrictMode>\r\n      <SnackbarProvider>\r\n        <link rel=\"stylesheet\" href=\"https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap\" />\r\n        <App />\r\n      </SnackbarProvider>\r\n    </React.StrictMode>\r\n  </RecoilRoot>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Settings_container__3CWaX\",\"header\":\"Settings_header__12ONl\",\"settings\":\"Settings_settings__rH3zd\",\"settingsContentBox\":\"Settings_settingsContentBox__2IE7P\",\"settingsOption\":\"Settings_settingsOption__yS9kk\",\"warning\":\"Settings_warning__Z_vDd\",\"buttons\":\"Settings_buttons__1seXG\",\"htmlType\":\"Settings_htmlType__3Iev_\"};"],"sourceRoot":""}