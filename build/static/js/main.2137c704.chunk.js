(this["webpackJsonpmemo-help"]=this["webpackJsonpmemo-help"]||[]).push([[0],{180:function(e,n,t){},266:function(e,n,t){"use strict";t.r(n);var r=t(2),a=t(0),o=t.n(a),i=t(23),c=t.n(i),s=(t(180),t(9)),u=t(53),l=t(34),d=t(8),p=t(5),f=t(152),b=t.n(f),j=t(153),m=t.n(j),x=t(154),h=t.n(x),g=t(155),O=t.n(g),v=t(156),y=t.n(v),w=t(10);var k=t(15),C=t.n(k),A=t(12),G=t(20),z=o.a.createContext({loading:!0,isLoggedIn:!1,user:null}),M=function(){return Object(a.useContext)(z)};function P(e){var n=Object(a.useState)(!1),t=Object(p.a)(n,2),o=t[0],i=t[1],c=Object(a.useState)(!0),s=Object(p.a)(c,2),u=s[0],l=s[1],d=Object(a.useState)(null),f=Object(p.a)(d,2),b=f[0],j=f[1];Object(a.useEffect)((function(){var e=w.a.auth().onAuthStateChanged(function(){var e=Object(G.a)(C.a.mark((function e(n){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("authprovider",o,u,n),null==n){e.next=16;break}return e.prev=2,e.next=5,S(n.uid);case 5:t=e.sent,j(Object(A.a)(Object(A.a)({},n),t)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.error(e.t0),j(n);case 13:i(!0),e.next=18;break;case 16:i(!1),j(null);case 18:l(!1);case 19:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(n){return e.apply(this,arguments)}}());return function(){e()}}),[]);var m={isLoggedIn:o,loading:u,user:b};return Object(r.jsx)(z.Provider,{value:m,children:e.children})}var S=function(e){return new Promise((function(n,t){w.a.firestore().collection("Users").doc(e).get().then((function(e){e.exists?n(e.data()):t("Users doesn't exists in the firestore")})).catch((function(e){t(e)}))}))},T=function(e){var n=Object(l.g)(),t=Object(l.f)(),i=M(),c=i.isLoggedIn,s=i.loading,u=i.user;return Object(a.useEffect)((function(){console.log("authguard",c,s,u),n.pathname.toLowerCase().includes("login")||0!=c||t.replace("/login"),s||n.pathname.toLowerCase().includes("login")&&1==c&&t.replace("/")}),[n,c,u,s]),Object(r.jsx)(o.a.Fragment,{children:s?"Loading...":e.children})},D=function(){var e=M(),n=e.user,t=e.isLoggedIn;return Object(a.useEffect)((function(){t&&null!=n&&w.a.messaging().getToken({vapidKey:"BBznZsasCYYiWohfBSJ-grbU5wxiaX7c5sw7uiJ6_zaW9k0roG655FOdNNm0KmXvfdQwIoDdl6COMwXWUuAuUlg"}).then(function(){var e=Object(G.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=11;break}return e.prev=1,e.next=4,N(n.uid,t);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.log(e.t0);case 9:e.next=12;break;case 11:console.log("No registration token available. Request permission to generate one.");case 12:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(n){return e.apply(this,arguments)}}()).catch((function(e){console.log("An error occurred while retrieving token. ",e)}))}),[n,t]),Object(r.jsx)(o.a.Fragment,{})},N=function(e,n){return w.a.firestore().collection("Users").doc(e).set({token:n},{merge:!0})},U=t(26),V=t(29),_=t(35),E=t(25),F=function(){function e(){Object(V.a)(this,e)}return Object(_.a)(e,[{key:"SendReminderToUserCollection",value:function(){var e=this;return console.log(this.textContent),new Promise((function(n,t){w.a.firestore().collection("Users").doc(w.a.auth().currentUser.uid).collection("Reminders").add({text:e.textContent,date:e.date,frequency:e.frequency,weekDays:e.weekDays,type:e.type}).then((function(){return n()})).catch((function(){return t()}))}))}},{key:"SendReminderToGroupCollection",value:function(e){var n=this;return console.log("SendReminderToGroupCollection( ".concat(e," )")),new Promise((function(t,r){w.a.firestore().collection("Groups").doc(e).collection("Reminders").add({text:n.textContent,date:n.date,frequency:n.frequency,weekDays:n.weekDays,admin:w.a.auth().currentUser.uid,usersGroup:e}).then(function(){var r=Object(G.a)(C.a.mark((function r(a){var o;return C.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=a.id,r.next=3,w.a.firestore().collection("Groups").doc(e).get().then(function(){var t=Object(G.a)(C.a.mark((function t(r){var a,i,c,s,u;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r.exists){t.next=14;break}a=r.data().members,i=r.data().admin,c=[].concat(Object(U.a)(i),Object(U.a)(a)),console.log("Group reminder users",o,c),s=0;case 6:if(!(s<c.length)){t.next=14;break}return u=c[s],console.log(o,u),t.next=11,w.a.firestore().collection("Users").doc(u).collection("Reminders").doc(o).set({text:n.textContent,date:n.date,frequency:n.frequency,weekDays:n.weekDays,type:n.type,group:e,admin:w.a.auth().currentUser.uid}).then((function(){})).catch((function(e){return console.log(e)}));case 11:s++,t.next=6;break;case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 3:t();case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()).catch((function(){return r()}))}))}}]),e}();F.reminderTypes={default:"DEFAULT",cyclical:"CYCLICAL",special:"SPECIAL"};var L=Object(E.b)({key:"textContent",default:""}),R=Object(E.b)({key:"date",default:new Date}),I=Object(E.b)({key:"weekDays",default:[]}),W=Object(E.b)({key:"time",default:new Date}),B=Object(E.b)({key:"frequency",default:""}),Z=Object(E.b)({key:"reminderType",default:F.reminderTypes.default});function q(){return(q=Object(G.a)(C.a.mark((function e(){var n,t,r,a,o,i,c,s,u,l,d,p,f;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=new Map,null!==w.a.auth().currentUser){e.next=3;break}return e.abrupt("return",n);case 3:return t=w.a.auth().currentUser.uid,r=w.a.firestore().collection("Users").doc(t).collection("Groups").doc("Admins"),a=w.a.firestore().collection("Users").doc(t).collection("Groups").doc("Members"),e.prev=6,e.next=9,r.get();case 9:return o=e.sent,e.next=12,a.get();case 12:i=e.sent,o.exists&&(c=o.data().data),i.exists&&(s=i.data().data),u=[].concat(Object(U.a)(c),Object(U.a)(s)),l=0;case 17:if(!(l<u.length)){e.next=33;break}return d=u[l].trim(),n.set(d,{selected:!1,name:"",usersId:[]}),e.prev=20,e.next=23,w.a.firestore().collection("Groups").doc(d).get();case 23:(p=e.sent).exists&&(f=[].concat(Object(U.a)(p.data().admin),Object(U.a)(p.data().members)),n.get(d).usersId=f,n.get(d).name=p.data().name),e.next=30;break;case 27:e.prev=27,e.t0=e.catch(20),console.log(e.t0);case 30:l++,e.next=17;break;case 33:e.next=38;break;case 35:e.prev=35,e.t1=e.catch(6),console.log(e.t1);case 38:return e.abrupt("return",n);case 39:case"end":return e.stop()}}),e,null,[[6,35],[20,27]])})))).apply(this,arguments)}function Y(){var e=Object(s.a)(["\n  width: 100%;\n  padding: 30px 0 30px 0;\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  align-self: center;\n"]);return Y=function(){return e},e}function K(){var e=Object(s.a)(["\ncolor: "," ;\ntext-decoration: none;\ndisplay: flex;\nflex-direction: row;\nalign-content: center;\npadding-left: 15px;\n&:hover{color: #9C9083};\n"]);return K=function(){return e},e}var H=function(){w.a.auth().signOut().then((function(){})).catch((function(e){})),console.log("wylogowano (chyba)")};function J(){var e=M().isLoggedIn,n=Object(a.useState)(window.location.pathname),t=Object(p.a)(n,2),o=t[0],i=(t[1],Object(l.f)()),c=function(e){i.push(e)};return e?Object(r.jsxs)(Q,{children:[Object(r.jsxs)(X,{to:"/",active:""==o,onClick:function(){return c("")},children:["          ",Object(r.jsx)(b.a,{style:{paddingRight:5}}),"Home "]}),Object(r.jsxs)(X,{to:"/Calendar",active:"/Calendar"==o,onClick:function(){return c("/Calendar")},children:[" ",Object(r.jsx)(m.a,{style:{paddingRight:5}}),"Kalendarz"]}),Object(r.jsxs)(X,{to:"/Groups",active:"/Groups"==o,onClick:function(){return c("/Groups")},children:["   ",Object(r.jsx)(h.a,{style:{paddingRight:5}}),"Zarz\u0105dzaj grupami "]}),Object(r.jsxs)(X,{to:"/settings",active:"/settings"==o,onClick:function(){return c("/settings")},children:["  ",Object(r.jsx)(O.a,{style:{paddingRight:5}}),"Profil "]}),Object(r.jsxs)(X,{to:"/Login",onClick:H,children:["   ",Object(r.jsx)(y.a,{style:{paddingRight:5}}),"Wyloguj"]})]}):Object(r.jsx)(Q,{})}var X=Object(d.a)(u.b)(K(),(function(e){return 1===e.active?"#738F9C":"black"})),Q=d.a.div(Y()),$=t(316),ee=t(74);var ne=function(e){var n={borderColor:"outlined"===e.type?e.color:"transparent",backgroundColor:"contained"===e.type?e.color:"transparent"},t=Object(ee.a)((function(){return{class:Object(A.a)({borderRadius:"15px",height:"48px"},e.style)}}))();return Object(r.jsx)($.a,{startIcon:e.startIcon,variant:e.type,className:t.class,style:n,onClick:e.onClick,endIcon:e.endIcon,disabled:e.disabled,children:e.text})},te=t(44),re=t(69);function ae(){var e=Object(s.a)(["\n    text-align: center;\n    color: black;\n    font-size: 12px;\n    font-weight: bold;\n    margin-top: 0px;\n"]);return ae=function(){return e},e}function oe(){var e=Object(s.a)(["\n    text-align: center;\n    padding: 0;\n    margin:5px;\n    margin-left:5px;\n    margin-right:10px;\n    color: white;\n    font-weight: 500;\n    font-size: 12px;\n"]);return oe=function(){return e},e}function ie(){var e=Object(s.a)(["\n    color: white;\n    margin:0;\n    margin-left: 10px;\n    text-align: left;\n    padding: 0;\n    font-weight:500;\n    font-size:12px;\n"]);return ie=function(){return e},e}function ce(){var e=Object(s.a)(["\n    display: flex;\n    margin: 5px;\n    flex-grow: 0;\n    justify-content: left;\n    align-items: center;\n    background-color: #B593C9;\n    vertical-align: middle;\n    border-radius: 12px;\n"]);return ce=function(){return e},e}function se(){var e=Object(s.a)(["\n    display: flex;\n    flex-direction: column;\n    align-self: stretch;\n    background-color: white;\n    border-left: #9C9083 solid 1px;\n    border-top: #9C9083 solid 1px;\n\n    &:nth-child(1){border-top-left-radius: 12px;};\n    &:nth-child(7){border-top-right-radius: 12px;};\n    &:nth-child(36){border-bottom-left-radius: 12px;};\n    &:nth-child(42){border-bottom-right-radius: 12px;};\n"]);return se=function(){return e},e}function ue(){var e=Object(s.a)(["\n    flex-grow: 1;\n    position: relative;\n"]);return ue=function(){return e},e}function le(){var e=Object(s.a)(["\n    position: absolute;\n    top: 0; left: 0; right: 0; bottom: 0;\n    display: grid;\n    margin-bottom: 15px;\n    grid-template-rows: repeat(6, 1fr);\n    grid-template-columns: repeat(7, 1fr);\n    border-right: #9C9083 solid 1px;\n    border-bottom: #9C9083 solid 1px;\n    border-radius: 12px;\n    box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);\n\n"]);return le=function(){return e},e}function de(){var e=Object(s.a)(["\ndisplay: flex;\nflex-grow: 1;\nflex-direction: column;\n"]);return de=function(){return e},e}var pe=["pon","wto","\u015bro","czw","pi\u0105","sob","nie"],fe=["Stycze\u0144","Luty","Marzec","Kwiecie\u0144","Maj","Czerwiec","Lipiec","Sierpie\u0144","Wrzesie\u0144","Pa\u017adziernik","Listopad","Grudzie\u0144"],be=new Date,je=new Date(be.setDate(1)),me=new Date(je.setDate(je.getDate()-(je.getDay()-1))),xe=new Array;new Array;function he(){return(he=Object(G.a)(C.a.mark((function e(n,t){var r,a,o;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!=xe.length){e.next=7;break}return r=w.a.firestore(),a=r.collection("Users").doc(w.a.auth().currentUser.uid).collection("Reminders"),e.next=5,a.get();case 5:o=e.sent,a.empty?console.log("Reminders Collection is empty"):(xe=new Array,o.forEach((function(e){console.log(e.id,"=>",e.data());var n=new Date(1e3*e.data().date.seconds);console.log("Date: ",n),xe.push({date:n,day:n.getDate(),month:n.getMonth()+1,year:n.getFullYear(),time:n.getHours()+":"+n.getMinutes(),text:e.data().text,frequency:e.data().frequency,type:e.data().type,weekDays:e.data().weekDays})})));case 7:t(n+1),t(n);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ge(){var e=Object(a.useRef)(),n=Object(a.useState)(be.getMonth()),t=Object(p.a)(n,2),o=(t[0],t[1]),i=function(e){var n=e.deltaY>0?1:-1;return console.log(e.deltaY+" "+n),be.setDate(1),be.setMonth(be.getMonth()+n),o(be.getMonth()),be.setDate(1),console.log("month: ",be.getMonth()+1),!1};return Object(a.useEffect)((function(){return function(e,n){he.apply(this,arguments)}(be.getMonth(),(function(e){o(e)})),document.addEventListener("wheel",i,!0),function(){document.removeEventListener("wheel",i,!0)}}),[]),je=new Date(be.setDate(1)),me=new Date(je.setDate(je.getDate()-(je.getDay()-1))),Object(r.jsxs)(Ce,{ref:e,children:[Object(r.jsxs)("p",{style:{color:"black",fontSize:24,fontWeight:"Bold"},children:[fe[be.getMonth()]," ",be.getFullYear()]}),Object(r.jsx)(Ge,{children:Object(r.jsx)(Ae,{children:Object(r.jsx)(Oe,{})})})]})}var Oe=function(e){Object(te.a)(t,e);var n=Object(re.a)(t);function t(){return Object(V.a)(this,t),n.apply(this,arguments)}return Object(_.a)(t,[{key:"render",value:function(){for(var e=[],n=[],t=1;t<=42;t++){n[t]=me.getDate(),me.setDate(me.getDate()+1);for(var a=new Array,o=0;o<xe.length;o++)switch(xe[o].type){case"DEFAULT":me.getMonth()+1==xe[o].month&&n[t]==xe[o].day&&a.push(xe[o]);break;case"CYCLICAL":we(xe[o],a,me,t,n);break;case"SPECIAL":ye(xe[o],a,me)}e.push(Object(r.jsx)(ke,{i:t,dayNumber:n[t],reminds:a},t))}return e}}]),t}(o.a.Component),ve=new Array("mon","tue","wed","thu","fri","sat","sun");function ye(e,n,t){e.weekDays.includes(ve[t.getDay()-2])&&n.push(e)}function we(e,n,t,r,a){switch(e.frequency){case"everyDay":n.push(e);break;case"everyWeek":t.getDay()==e.date.getDay()+1&&n.push(e);break;case"everyMonth":a[r]==e.day&&n.push(e);break;case"everyYear":t.getMonth()+1==e.month&&a[r]==e.day&&n.push(e)}}function ke(e){var n=[];return e.reminds.forEach((function(e){n.push(Object(r.jsxs)(Me,{children:[Object(r.jsx)(Pe,{children:e.time}),Object(r.jsx)(Se,{children:e.text})]}))})),Object(r.jsxs)(ze,{children:[e.i<=7?Object(r.jsx)("p",{style:{textAlign:"center",color:"gray",fontSize:14,fontWeight:"Medium",marginTop:-3,marginBottom:1},children:pe[e.i-1]}):null,Object(r.jsx)(Te,{children:e.dayNumber}),n]})}var Ce=d.a.div(de()),Ae=d.a.div(le()),Ge=d.a.div(ue()),ze=d.a.div(se()),Me=d.a.div(ce()),Pe=d.a.p(ie()),Se=d.a.p(oe()),Te=d.a.p(ae()),De=t(318),Ne=t(325),Ue=t(37),Ve=t.n(Ue),_e=t(51),Ee=Object(_e.a)(),Fe=t(33);function Le(){var e=Object(s.a)(["\ntext-decoration: none;\ncolor:#738F9C; \ndisplay: flex;\nflex-direction: row;\n&:hover{color: #9C9083};\nfont-weight: medium;\nfont-size: 14px;\njustify-content:flex-end;\nmargin-right:12px;\n"]);return Le=function(){return e},e}function Re(){var e=Object(s.a)(["\ncolor: "," ;\ntext-decoration: none; \ndisplay: flex;\nflex-direction: row;\nalign-content: center;\n//padding-left: 15px;\n&:hover{color: #9C9083};\nfont-weight: bold;\nfont-size: 14px;\ntext-align:center;\nalign-items: center;\nmargin: 10px;\njustify-content:center;\n"]);return Re=function(){return e},e}function Ie(){var e=Object(s.a)(["\n\tobject-fit: scale-down;\n\theight: 34px;\n\twidth: 34px;\n"]);return Ie=function(){return e},e}function We(){var e=Object(s.a)(["\n    flex-direction:row;\n    justify-content: space-evenly;\n    flex-grow: 0;\n"]);return We=function(){return e},e}function Be(){var e=Object(s.a)(["\n\theight: 48px;\n\tflex-direction: row;\n\tdisplay: flex;\n\tbackground-color: #ffffff;\n\ttext-align: center;\n\tfont-size: 16px;\n\tborder-radius: 12px;\n\tcolor: black;\n\tbox-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);\n\talign-content: center;\n\talign-items: center;\n\tpadding-left: 20px;\n\tpadding-right: 40px;\n"]);return Be=function(){return e},e}function Ze(){var e=Object(s.a)(["\n\t//min-height:50px;\n\t//min-width:417px;\n\tmargin: 10px;\n\tdisplay: flex;\n\tflex-direction: row;\n\t//text-align:center;\n\tcolor: #73909c;\n"]);return Ze=function(){return e},e}function qe(){var e=Object(s.a)(["\n\tborder: 2px solid #73909c;\n\t//min-height:50px;\n\tmargin: 10px;\n\tfont-family: 'Roboto', sans-serif;\n\tcolor: #73909c;\n\tfont-size: 16px;\n\tborder-radius: 10px;\n\tpadding: 16px;\n\tbackground-color: transparent;\n\t&:focus {\n\t\tborder-radius: 10px;\n\t\tborder-color: #73909c;\n\t\toutline: none;\n\t}\n\t&:active {\n\t\tborder-radius: 10px;\n\t\tborder-color: #73909c;\n\t\toutline: none;\n\t}\n"]);return qe=function(){return e},e}function Ye(){var e=Object(s.a)(["\n\t//min-height: 300px;\n\tmin-width: 417px;\n\t//background-color: #dfdfdf;\n\tflex-direction: column;\n\tdisplay: flex;\n"]);return Ye=function(){return e},e}function Ke(){var e=Object(a.useState)(!1),n=Object(p.a)(e,2),t=n[0],o=n[1],i=Object(a.useState)(""),c=Object(p.a)(i,2),s=c[0],u=c[1],l=Object(a.useState)(""),d=Object(p.a)(l,2),f=d[0],b=d[1],j=Object(a.useState)(!1),m=Object(p.a)(j,2),x=m[0],h=m[1],g=Object(Fe.b)(),O=g.enqueueSnackbar,v=(g.closeSnackbar,new w.a.auth.GoogleAuthProvider);return Object(r.jsxs)(He,{children:[Object(r.jsx)(Je,{type:"email",id:"fname",name:"fname",placeholder:"e-mail",onChange:function(e){return u(e.target.value)}}),Object(r.jsx)(Je,{type:"password",id:"pname",name:"pname",placeholder:"has\u0142o",onChange:function(e){return b(e.target.value)}}),Object(r.jsx)(en,{to:"/login/recover",children:"Odzyskiwanie has\u0142a"}),Object(r.jsx)(Xe,{children:Object(r.jsx)(De.a,{control:Object(r.jsx)(Ne.a,{checked:t.checkedB,onChange:function(e){o(!t)},name:"checkedB",color:"#73909C"}),label:"Pami\u0119taj mnie"})}),Object(r.jsxs)(Qe,{children:[Object(r.jsx)(ne,{color:"#fff",type:"contained",style:{width:"48%",color:"black"},text:Object(r.jsxs)("span",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:["Zaloguj si\u0119 ",Object(r.jsx)("img",{src:"https://img.icons8.com/fluent/48/000000/google-logo.png"})]}),onClick:function(){h(!0),v.setCustomParameters({login_hint:"user@example.com"}),w.a.auth().signInWithPopup(v).then((function(e){e.credential,e.credential.accessToken;var n=e.user;console.log("zalogowano gmail (chyba)");var t=(n=w.a.auth().currentUser).email,r=n.displayName;w.a.firestore().collection("Users").doc(n.uid).set({email:t,userName:r,emailNotification:!1,pushNotification:!1,loggedByGoogle:!0}).then((function(){w.a.firestore().collection("Users").doc(n.uid).collection("Groups").doc("Admins").set({data:[]}),w.a.firestore().collection("Users").doc(n.uid).collection("Groups").doc("Members").set({data:[]}),h(!1)}))})).catch((function(e){e.code,e.message,e.email,e.credential;O("Wyst\u0105pi\u0142 b\u0142\u0105d",{variant:"error"}),h(!1)}))},disabled:x}),Object(r.jsx)(ne,{color:"#73909C",type:"contained",style:{width:"48%",color:"#fff"},text:"Zaloguj si\u0119",onClick:function(){if(h(!0),!Ve.a.isEmail(s)||!Ve.a.isLength(f,{min:6,max:30}))return O("B\u0142\u0119dne dane logowania",{variant:"error"}),console.log("B\u0142\u0105d walidacji"),h(!1),!1;t?w.a.auth().setPersistence(w.a.auth.Auth.Persistence.LOCAL).then((function(){w.a.auth().signInWithEmailAndPassword(s,f).then((function(){console.log("zalogowano"),h(!1)})).catch((function(e){var n=e.message;console.log("firebase auth:",n),O("B\u0142\u0119dne dane logowania",{variant:"error"}),h(!1)}))})):w.a.auth().setPersistence(w.a.auth.Auth.Persistence.SESSION).then((function(){w.a.auth().signInWithEmailAndPassword(s,f).then((function(){console.log("zalogowano"),h(!1)})).catch((function(e){var n=e.message;console.log("firebase auth:",n),O("B\u0142\u0119dne dane logowania",{variant:"error"}),h(!1)}))}))},disabled:x})]}),Object(r.jsx)($e,{to:"/login/reg",children:"Je\u015bli nie masz konta, stw\xf3rz je"})]})}var He=d.a.div(Ye()),Je=d.a.input(qe()),Xe=d.a.div(Ze()),Qe=(d.a.div(Be()),Object(d.a)(Xe)(We())),$e=(d.a.img(Ie()),Object(d.a)(u.b)(Re(),(function(e){return e.active?"#738F9C":"black"}))),en=Object(d.a)(u.b)(Le());function nn(){var e=Object(s.a)(["\ntext-decoration: none;\ncolor:#738F9C; \ndisplay: flex;\nflex-direction: row;\nalign-content: center;\n&:hover{color: #9C9083};\nfont-weight: medium;\nfont-size: 14px;\ntext-align:center;\nalign-items: center;\nmargin: 10px;\njustify-content:center;\nmargin-right:12px;\n"]);return nn=function(){return e},e}function tn(){var e=Object(s.a)(["\nflex-direction: row;\ndisplay: flex;\njustify-content: space-between;\n"]);return tn=function(){return e},e}function rn(){var e=Object(s.a)(["\n    margin: 10px;\n    font-family: 'Roboto', sans-serif;\n    color: #73909C;\n    font-size: 16px;\n"]);return rn=function(){return e},e}function an(){var e=Object(s.a)(["\n    flex-direction:row;\n    //display:flex;\n    //margin: 10px;\n    justify-content: space-evenly;\n"]);return an=function(){return e},e}function on(){var e=Object(s.a)(["\n    margin: 10px;\n    display: flex;\n    flex-direction: row;\n    //text-align:center;\n    color: #73909C;\n"]);return on=function(){return e},e}function cn(){var e=Object(s.a)(["\n    border: 2px solid #73909C;\n    //min-height:50px;\n    margin: 10px;\n    font-family: 'Roboto', sans-serif;\n    color: #73909C;\n    font-size: 16px;\n    border-radius: 10px;\n    padding: 16px;\n    background-color: transparent;\n    &:focus {\n        border-radius: 10px;\n        border-color: #73909C;\n        outline: none;\n    }\n    &:active {\n        border-radius: 10px;\n        border-color: #73909C;\n        outline: none;\n    }\n"]);return cn=function(){return e},e}function sn(){var e=Object(s.a)(["\n    min-width: 417px;\n    flex-direction: column;\n    display: flex;\n    color: #73909C;\n    font-size: 16px;\n"]);return sn=function(){return e},e}function un(e){var n=Object(a.useState)(""),t=Object(p.a)(n,2),o=t[0],i=t[1],c=Object(a.useState)(""),s=Object(p.a)(c,2),u=s[0],l=s[1],d=Object(a.useState)(""),f=Object(p.a)(d,2),b=f[0],j=f[1],m=Object(a.useState)(""),x=Object(p.a)(m,2),h=x[0],g=x[1],O=Object(a.useState)(!1),v=Object(p.a)(O,2),y=v[0],k=v[1],C=Object(a.useState)(!1),A=Object(p.a)(C,2),G=A[0],z=A[1],M=Object(Fe.b)(),P=M.enqueueSnackbar;M.closeSnackbar;return Object(r.jsxs)(ln,{children:[Object(r.jsxs)(jn,{children:[Object(r.jsx)(bn,{children:"Rejestracja:"}),Object(r.jsx)(mn,{to:"/login",children:"Powr\xf3t"})]}),Object(r.jsx)(dn,{type:"text",id:"nname",name:"nname",placeholder:"imi\u0119 i nazwisko",onChange:function(e){return g(e.target.value)}}),Object(r.jsx)(dn,{type:"email",id:"fname",name:"fname",placeholder:"e-mail",onChange:function(e){return i(e.target.value)}}),Object(r.jsx)(dn,{type:"password",id:"pname",name:"pname",placeholder:"has\u0142o",onChange:function(e){return l(e.target.value)}}),Object(r.jsx)(dn,{type:"password",id:"pname2",name:"pname2",placeholder:"powt\xf3rz has\u0142o",onChange:function(e){return j(e.target.value)}}),Object(r.jsx)(pn,{children:Object(r.jsx)(De.a,{control:Object(r.jsx)(Ne.a,{checked:y,onChange:function(e){k(!y)},name:"checkedB",color:"#73909C"}),label:"Akceptuj\u0119 regulamin serwisu"})}),Object(r.jsx)(fn,{children:Object(r.jsx)(ne,{color:"#73909C",type:"contained",style:{width:"60%",color:"#fff"},text:"Zarejestruj si\u0119",onClick:function(){if(z(!0),!(Ve.a.isEmail(o)?u!==b?(P("Has\u0142a r\xf3\u017cni\u0105 si\u0119",{variant:"error"}),0):Ve.a.isLength(u,{min:6,max:30})?Ve.a.isLength(h,{min:4,max:30})?y||(P("Wymagane jest zaakceptowanie regulaminu",{variant:"error"}),0):(P("Zbyt kr\xf3tka nazwa u\u017cytkownika",{variant:"error"}),0):(P("Has\u0142o musi zawiera\u0107 minimum 6 znak\xf3w",{variant:"error"}),0):(P("B\u0142\u0119dny adres email",{variant:"error"}),0)))return console.log("B\u0142\u0105d walidacji"),z(!1),!1;w.a.auth().createUserWithEmailAndPassword(o,u).then((function(e){var n=e.user;console.log(n);var t=o,r=h;console.log("moj email: ",t),console.log("moj nick: ",r),w.a.firestore().collection("Users").doc(n.uid).set({email:t,userName:r,emailNotification:!1,pushNotification:!1,loggedByGoogle:!1}).then((function(){w.a.firestore().collection("Users").doc(n.uid).collection("Groups").doc("Admins").set({data:[]}),w.a.firestore().collection("Users").doc(n.uid).collection("Groups").doc("Members").set({data:[]}),z(!1)}))})).catch((function(e){var n=e.message;console.log("firebase auth:",n),P("Wyst\u0105pi\u0142 b\u0142\u0105d",{variant:"error"}),z(!1)}))},disabled:G})})]})}var ln=d.a.div(sn()),dn=d.a.input(cn()),pn=d.a.div(on()),fn=Object(d.a)(pn)(an()),bn=d.a.div(rn()),jn=d.a.div(tn()),mn=Object(d.a)(u.b)(nn());function xn(){var e=Object(s.a)(["\ncolor:red;\nfont-size:14px;\nmargin-left:12px;\nmin-height:20px;\n"]);return xn=function(){return e},e}function hn(){var e=Object(s.a)(["\ntext-decoration: none;\ncolor:#738F9C; \ndisplay: flex;\nflex-direction: row;\nalign-content: center;\n//padding-left: 15px;\n&:hover{color: #9C9083};\nfont-weight: medium;\nfont-size: 14px;\ntext-align:center;\nalign-items: center;\nmargin: 10px;\njustify-content:center;\n//width:100%;\nmargin-right:12px;\n"]);return hn=function(){return e},e}function gn(){var e=Object(s.a)(["\nflex-direction: row;\ndisplay: flex;\njustify-content: space-between;\n"]);return gn=function(){return e},e}function On(){var e=Object(s.a)(["\n    margin: 10px;\n    font-family: 'Roboto', sans-serif;\n    color: #73909C;\n    font-size: 16px;\n"]);return On=function(){return e},e}function vn(){var e=Object(s.a)(["\n    flex-direction:row;\n    //display:flex;\n    //margin: 10px;\n    justify-content: space-evenly;\n"]);return vn=function(){return e},e}function yn(){var e=Object(s.a)(["\n    display: flex;\n    flex-direction: row;\n    //text-align:center;\n    color: #73909C;\n    font-weight: medium;\n    margin-top:10px;\n    margin-bottom:10px;\n"]);return yn=function(){return e},e}function wn(){var e=Object(s.a)(["\n    border: 2px solid #73909C;\n    //min-height:50px;\n    margin: 10px;\n    font-family: 'Roboto', sans-serif;\n    color: #73909C;\n    font-size: 16px;\n    border-radius: 10px;\n    padding: 16px;\n    background-color: transparent;\n    &:focus {\n        border-radius: 10px;\n        border-color: #73909C;\n        outline: none;\n    }\n    &:active {\n        border-radius: 10px;\n        border-color: #73909C;\n        outline: none;\n    }\n"]);return wn=function(){return e},e}function kn(){var e=Object(s.a)(["\n    //min-height: 300px;\n    min-width: 417px;\n    //background-color: #dfdfdf;\n    flex-direction: column;\n    display: flex;\n    color: #73909C;\n    font-size: 16px;\n"]);return kn=function(){return e},e}function Cn(){var e=Object(a.useState)(!1),n=Object(p.a)(e,2),t=n[0],o=n[1],i=Object(a.useState)(""),c=Object(p.a)(i,2),s=c[0],u=c[1],l=Object(a.useState)(!1),d=Object(p.a)(l,2),f=d[0],b=d[1],j=Object(a.useState)(!1),m=Object(p.a)(j,2),x=m[0],h=m[1],g=Object(Fe.b)(),O=g.enqueueSnackbar,v=(g.closeSnackbar,function(){h(!1),b(!0);var e=w.a.auth(),n=s;e.sendPasswordResetEmail(n).then((function(){O("Wiadomo\u015b\u0107 zosta\u0142a wys\u0142ana",{variant:"success"}),b(!1)})).catch((function(e){O("Wyst\u0105pi\u0142 b\u0142\u0105d",{variant:"error"}),h(!0),b(!1)}))});return t&&!x?Object(r.jsxs)(An,{children:[Object(r.jsxs)(Sn,{children:[Object(r.jsx)(zn,{}),Object(r.jsx)(Tn,{to:"/login",children:"Powr\xf3t"})]}),Object(r.jsx)(zn,{children:"Wiadomo\u015b\u0107 z linkiem przekierowuj\u0105cym zosta\u0142a wys\u0142ana."}),Object(r.jsx)(Mn,{children:Object(r.jsx)(ne,{color:"#73909C",type:"contained",style:{width:"75%",color:"#fff"},text:"Wy\u015blij wiadomo\u015b\u0107 ponownie",onClick:function(){v(),o(!0)},disabled:f})})]}):x?Object(r.jsxs)(An,{children:[Object(r.jsxs)(Sn,{children:[Object(r.jsx)(Pn,{children:"Odzyskiwanie has\u0142a:"}),Object(r.jsx)(Tn,{to:"/login",children:"Powr\xf3t"})]}),Object(r.jsx)(Gn,{type:"email",id:"fname",name:"fname",placeholder:"e-mail",onChange:function(e){return u(e.target.value)}}),Object(r.jsx)(Dn,{children:"Niepoprawny adres e-mail"}),Object(r.jsx)(Mn,{children:Object(r.jsx)(ne,{color:"#73909C",type:"contained",style:{width:"60%",color:"#fff"},text:"Wy\u015blij wiadomo\u015b\u0107",onClick:function(){v(),o(!0)},disabled:f})})]}):Object(r.jsxs)(An,{children:[Object(r.jsxs)(Sn,{children:[Object(r.jsx)(Pn,{children:"Odzyskiwanie has\u0142a:"}),Object(r.jsx)(Tn,{to:"/login",children:"Powr\xf3t"})]}),Object(r.jsx)(Gn,{type:"email",id:"fname",name:"fname",placeholder:"e-mail",onChange:function(e){return u(e.target.value)}}),Object(r.jsx)(Dn,{}),Object(r.jsx)(Mn,{children:Object(r.jsx)(ne,{color:"#73909C",type:"contained",style:{width:"60%",color:"#fff"},text:"Wy\u015blij wiadomo\u015b\u0107",onClick:function(){v(),o(!0)},disabled:f})})]})}var An=d.a.div(kn()),Gn=d.a.input(wn()),zn=d.a.div(yn()),Mn=Object(d.a)(zn)(vn()),Pn=d.a.div(On()),Sn=d.a.div(gn()),Tn=Object(d.a)(u.b)(hn()),Dn=d.a.div(xn());function Nn(){var e=Object(s.a)(["\n    border: 2px solid #73909C;\n    //min-height:50px;\n    margin: 10px;\n    font-family: 'Roboto', sans-serif;\n    color: #73909C;\n    font-size: 16px;\n    border-radius: 10px;\n    padding: 16px;\n"]);return Nn=function(){return e},e}function Un(){var e=Object(s.a)(["\n    //background-color: #dfdfdf;\n    //min-width: 50px;\n    font-size: 56px;\n    font-family: 'Cinzel', serif;\n    margin: auto;\n    width:50%;\n    text-align:center;\n"]);return Un=function(){return e},e}function Vn(){var e=Object(s.a)(["\n"]);return Vn=function(){return e},e}function _n(){var e=Object(s.a)(["\n    min-height: 200px;\n    //align-self: center;\n"]);return _n=function(){return e},e}function En(){var e=Object(s.a)(["\n    //min-width:100px;\n    min-height: 100px;\n    //align-self:center;\n"]);return En=function(){return e},e}function Fn(){var e=Object(s.a)(["\n    //width: 200px; \n    &:nth-child(1){\n        margin-right:200px;\n    }\n    &:nth-child(2){\n        margin-right:200px;\n    }\n    //border: 3px solid #333;\n    //background-color: #dfdfdf;\n    \n"]);return Fn=function(){return e},e}function Ln(){var e=Object(s.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    align-content: center;\n    \n"]);return Ln=function(){return e},e}function Rn(){var e=Object(s.a)(["\n    display: flex;\n    //justify-content: space-around;\n    //align-items: center;\n    //align-content: center;\n    flex-direction: column;\n"]);return Rn=function(){return e},e}function In(){return Object(r.jsxs)(Wn,{children:[Object(r.jsx)(Hn,{children:"Memo helper"}),Object(r.jsxs)(Bn,{children:[Object(r.jsx)(Zn,{children:Object(r.jsx)(qn,{children:Object(r.jsx)(Kn,{src:"/assets/loginIcon.png"})})}),Object(r.jsx)(Zn,{children:Object(r.jsx)(Yn,{children:Object(r.jsx)(Kn,{src:"/assets/hr.png"})})}),Object(r.jsx)(Zn,{children:Object(r.jsxs)(l.c,{children:[Object(r.jsx)(l.a,{exact:!0,path:"/login/reg",children:Object(r.jsx)(un,{})}),Object(r.jsx)(l.a,{exact:!0,path:"/login/recover",children:Object(r.jsx)(Cn,{})}),Object(r.jsx)(l.a,{path:"/login",children:Object(r.jsx)(Ke,{})})]})})]})]})}var Wn=d.a.div(Rn()),Bn=d.a.div(Ln()),Zn=d.a.div(Fn()),qn=d.a.div(En()),Yn=d.a.div(_n()),Kn=d.a.img(Vn()),Hn=d.a.div(Un()),Jn=(d.a.div(Nn()),t(109)),Xn=t.n(Jn),Qn=t(165),$n=t(123),et=t.n($n),nt=t(11),tt=t(163),rt=t(328);function at(){var e=Object(s.a)(["\n  padding-top: 10px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n"]);return at=function(){return e},e}function ot(){var e=Object(s.a)(["\n  background-color: #FFFAF5;\n  position: relative;\n  padding: 15px;\n  margin-top: 10px;\n  border-radius: 12px;\n  font-size: 14px;\n  color: rgba(0,0,0,.83);\n  box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);\n"]);return ot=function(){return e},e}function it(e){var n=Object(a.useState)(null),t=Object(p.a)(n,2),o=t[0],i=t[1],c=e.time.toLocaleString("pl-PL",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),s=function(){i(null)};return Object(r.jsxs)(ct,{children:[e.message,Object(r.jsxs)(st,{children:[Object(r.jsx)(Xn.a,{}),Object(r.jsx)("span",{style:{marginLeft:"7px"},children:c})]}),Object(r.jsxs)(ut,{children:[Object(r.jsx)(et.a,{onClick:function(e){i(e.currentTarget)}}),Object(r.jsx)(tt.a,{id:"simple-menu",anchorEl:o,keepMounted:!0,open:Boolean(o),onClose:s,children:Object(r.jsx)(rt.a,{onClick:function(){e.value.ref.delete(),s()},children:"Usu\u0144"})})]})]})}var ct=d.a.div(ot()),st=d.a.div(at()),ut=Object(nt.a)((function(e){return{root:{position:"absolute",top:0,right:0,color:"rgba(0,0,0,.83)"}}}))(Qn.a);function lt(){var e=Object(s.a)(["\n  position: absolute;\n  top: 45px; left: 0; right: 0; bottom: 0;\n  padding: 0px 15px 0 15px;\n  display: flex;\n  flex-direction: column;\n  align-content: stretch;\n  overflow-y: auto;\n\n  &::-webkit-scrollbar {\n    width: 10px;\n  }\n\n  &::-webkit-scrollbar-track {\n    box-shadow: inset 0 0 0px #9C9083;\n  }\n  &::-webkit-scrollbar-thumb {\n    background-color: #9C9083;\n    border-radius: 5px;\n  }\n"]);return lt=function(){return e},e}function dt(){var e=Object(s.a)(["\n  color: rgba(255,255,255,.83);\n  padding: 0;\n  margin: 0;\n  font-weight: 500;\n  font-size: 16;\n"]);return dt=function(){return e},e}function pt(){var e=Object(s.a)(["\n  position: absolute;\n  top: 0; left: 0;\n  padding: 10px 25px 12px 25px;\n  background-color: #73909C;\n  border-radius: 9px 0 12px 0;\n  box-sizing: border-box;\n"]);return pt=function(){return e},e}function ft(){var e=Object(s.a)(["\n  //grid-area: 1 / span 1;\n  //grid-row: span 4;\n  min-height: 400px;\n  border: #73909C solid 2px;\n  border-radius: 12px;\n  box-sizing: border-box;\n  position: relative;\n"]);return ft=function(){return e},e}function bt(){var e=Object(a.useState)(new Array),n=Object(p.a)(e,2),t=n[0],o=n[1],i=M().user;Object(a.useEffect)(Object(G.a)(C.a.mark((function e(){var n,t,r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=w.a.firestore().collection("Users").doc(i.uid).collection("Reminders"),t=n.limit(7).orderBy("date","asc"),r=t.onSnapshot((function(e){c(e)})),e.abrupt("return",(function(){r()}));case 4:case"end":return e.stop()}}),e)}))),[]);var c=function(e){var n=new Array;e.forEach((function(e){var t={id:e.id,text:e.data().text,date:new Date(1e3*e.data().date.seconds),frequency:e.data().frequency,weekDays:e.data().weekDays,type:e.data().type,ref:e.ref};n.push(Object(r.jsx)(it,{message:t.text,time:t.date,id:t.id,value:t}))})),console.log(n),o(n)};return Object(r.jsxs)(jt,{children:[Object(r.jsx)(mt,{children:Object(r.jsx)(xt,{children:"NAJBLI\u017bSZE POWIADOMIENIA"})}),Object(r.jsx)(ht,{children:t})]})}var jt=d.a.div(ft()),mt=d.a.div(pt()),xt=d.a.p(dt()),ht=d.a.div(lt());function gt(){var e=Object(s.a)(["\n  padding-top: 5px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-evenly;\n  width: 100%;\n"]);return gt=function(){return e},e}function Ot(){var e=Object(s.a)(["\n  padding-top: 5px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-between;\n"]);return Ot=function(){return e},e}function vt(){var e=Object(s.a)(["\n  background-color: #FFFAF5;\n  position: relative;\n  padding: 15px;\n  margin-top: 10px;\n  border-radius: 12px;\n  font-size: 14px;\n  color: rgba(0,0,0,.83);\n  box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);\n"]);return vt=function(){return e},e}function yt(e){var n=Object(Fe.b)(),t=n.enqueueSnackbar,a=(n.closeSnackbar,e.value);function o(){return i.apply(this,arguments)}function i(){return(i=Object(G.a)(C.a.mark((function e(){var n,t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.auth().currentUser.uid;case 2:n=e.sent,t=a.id,e.prev=4,w.a.firestore().collection("Users").doc(n).collection("GroupsInvitations").doc(t).delete(),w.a.firestore().collection("Groups").doc(t).update({invitations:w.a.firestore.FieldValue.arrayRemove(n)}),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(4),e.t0;case 12:case"end":return e.stop()}}),e,null,[[4,9]])})))).apply(this,arguments)}function c(){return(c=Object(G.a)(C.a.mark((function e(){var n,r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.auth().currentUser.uid;case 2:return n=e.sent,r=a.id,e.prev=4,e.next=7,o();case 7:w.a.firestore().collection("Groups").doc(r).update({members:w.a.firestore.FieldValue.arrayUnion(n)}),w.a.firestore().collection("Users").doc(n).collection("Groups").doc("Members").update({data:w.a.firestore.FieldValue.arrayUnion(r)}),t("Zaproszenie zota\u0142o zaakceptowane",{variant:"success"}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),t("Nie uda\u0142o si\u0119 zaakceptowa\u0107 zaproszenia: ".concat(e.t0),{variant:"error"});case 15:case"end":return e.stop()}}),e,null,[[4,12]])})))).apply(this,arguments)}function s(){return(s=Object(G.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o();case 3:t("Zaproszenie zota\u0142o usuni\u0119te",{variant:"success"}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),t("Nie uda\u0142o si\u0119 usun\u0105\u0107 zaproszenia: ".concat(e.t0),{variant:"error"});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return Object(r.jsxs)(wt,{children:[e.message,Object(r.jsxs)(kt,{children:[Object(r.jsx)("span",{style:{marginLeft:"7px"},children:a.msg}),Object(r.jsxs)(Ct,{children:[Object(r.jsx)(ne,{text:"Akceptuj",onClick:function(){return c.apply(this,arguments)}}),Object(r.jsx)(ne,{text:"Usu\u0144",onClick:function(){return s.apply(this,arguments)}})]})]})]})}var wt=d.a.div(vt()),kt=d.a.div(Ot()),Ct=d.a.div(gt());function At(){var e=Object(s.a)(["\n  position: absolute;\n  top: 45px; left: 0; right: 0; bottom: 0;\n  padding: 0px 15px 0 15px;\n  display: flex;\n  flex-direction: column;\n  align-content: stretch;\n  overflow-y: auto;\n\n  &::-webkit-scrollbar {\n    width: 10px;\n  }\n\n  &::-webkit-scrollbar-track {\n    box-shadow: inset 0 0 0px #9C9083;\n  }\n  &::-webkit-scrollbar-thumb {\n    background-color: #9C9083;\n    border-radius: 5px;\n  }\n"]);return At=function(){return e},e}function Gt(){var e=Object(s.a)(["\n  color: rgba(255,255,255,.83);\n  padding: 0;\n  margin: 0;\n  font-weight: 500;\n  font-size: 16;\n"]);return Gt=function(){return e},e}function zt(){var e=Object(s.a)(["\n  position: absolute;\n  top: 0; right: 0;\n  padding: 10px 25px 12px 25px;\n  background-color: #73909C;\n  border-radius: 0 9px 0 12px;\n  box-sizing: border-box;\n"]);return zt=function(){return e},e}function Mt(){var e=Object(s.a)(["\n  //grid-area: span 1;\n  //grid-row: span 4;\n  min-height: 400px;\n  border: #73909C solid 2px;\n  border-radius: 12px;\n  box-sizing: border-box;\n  position: relative;\n"]);return Mt=function(){return e},e}function Pt(){var e=Object(a.useState)(new Array),n=Object(p.a)(e,2),t=n[0],o=n[1];Object(a.useEffect)(Object(G.a)(C.a.mark((function e(){var n,t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===w.a.auth().currentUser){e.next=4;break}return n=w.a.firestore().collection("Users").doc(w.a.auth().currentUser.uid).collection("GroupsInvitations"),t=n.onSnapshot((function(e){i(e)})),e.abrupt("return",(function(){t()}));case 4:case"end":return e.stop()}}),e)}))),[]);var i=function(e){var n=new Array;e.docs.map((function(e){var t={id:e.id,msg:e.data().msg};n.push(Object(r.jsx)(yt,{value:t}))})),console.log(n),o(n)};return Object(r.jsxs)(St,{children:[Object(r.jsx)(Tt,{children:Object(r.jsx)(Dt,{children:"AKTYWNE ZAPROSZENIA"})}),Object(r.jsx)(Nt,{children:t})]})}var St=d.a.div(Mt()),Tt=d.a.div(zt()),Dt=d.a.p(Gt()),Nt=d.a.div(At()),Ut=t(111),Vt=t.n(Ut),_t=t(112),Et=t.n(_t),Ft=t(71),Lt=t.n(Ft),Rt=t(317);function It(){var e=Object(s.a)(["\n  color: #73909C;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  width: 100%\n"]);return It=function(){return e},e}function Wt(){var e=Object(s.a)(["\n  background-color: #FFFAF5;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 10px;\n  margin-top: 10px;\n  border-radius: 12px;\n  font-size: 14px;\n  color: rgba(0,0,0,.83);\n  box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);\n"]);return Wt=function(){return e},e}function Bt(){var e=Object(s.a)(["\n  min-width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n"]);return Bt=function(){return e},e}function Zt(){var e=Object(s.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: flex-start;\n  margin-top: 8px;\n  border-radius: 12px;\n  background-color: #9C9083;\n  width: 95%;\n  cursor: pointer;\n"]);return Zt=function(){return e},e}function qt(){var e=Object(s.a)(["\n  color: #FFFAF5;\n  font-size: 16px;\n  font-weight: 550;\n  user-select: none;\n"]);return qt=function(){return e},e}function Yt(e){var n=Object(a.useState)(new Array),t=Object(p.a)(n,2),o=t[0],i=t[1],c=Object(Fe.b)(),s=(c.enqueueSnackbar,c.closeSnackbar,M().user),u=function(e,n){w.a.firestore().collection("Users").doc(s.uid).collection("Lists").doc(e).update({expanded:n}).then((function(){})).catch((function(){}))},l=function(n){e.myMap.get(e.myArray[n].parentID).values[n].boxstate=!e.myMap.get(e.myArray[n].parentID).values[n].boxstate,i(Array.from(o)),e.setMyMap(new Map(Object(U.a)(e.myMap))),function(n){w.a.firestore().collection("Users").doc(s.uid).collection("Lists").doc(e.myArray[n].parentID).update({myList:e.myArray}).then((function(){})).catch((function(){}))}(n)};return Object(r.jsxs)(er,{children:[Object(r.jsxs)(nr,{children:[Object(r.jsx)("span",{children:e.title}),Object(r.jsx)(Jt,{onClick:function(n){e.listRef.delete(),console.log("Delete List")},children:" "}),!0===e.myExpanded&&Object(r.jsx)(Qt,{onClick:function(){return n=e.myID,e.myMap.get(n).expanded=!1,e.setMyMap(new Map(Object(U.a)(e.myMap))),console.log("Show less"),void u(n,!1);var n}}),!1===e.myExpanded&&Object(r.jsx)(Xt,{onClick:function(){return n=e.myID,e.myMap.get(n).expanded=!0,e.setMyMap(new Map(Object(U.a)(e.myMap))),console.log("Show more"),void u(n,!0);var n}})]}),Object(r.jsx)(Rt.a,{in:e.myExpanded,timeout:"auto",style:{minWidth:"100%",margin:0,padding:0},children:Object(r.jsx)($t,{children:e.myArray.map((function(e,n){return Object(r.jsxs)(Ht,{onClick:function(){return l(n)},children:[Object(r.jsx)(Ne.a,{checked:e.boxstate,style:{color:"#323232"}}),Object(r.jsx)(Kt,{children:e.title})]})}))})})]},e.id)}var Kt=d.a.span(qt()),Ht=d.a.div(Zt()),Jt=Object(nt.a)((function(e){return{root:{position:"absolute",top:0,right:20,color:"#73909C",cursor:"pointer"}}}))(Lt.a),Xt=Object(nt.a)((function(e){return{root:{position:"absolute",top:0,right:0,color:"#73909C",cursor:"pointer"}}}))(Vt.a),Qt=Object(nt.a)((function(e){return{root:{position:"absolute",top:0,right:0,color:"#73909C",cursor:"pointer"}}}))(Et.a),$t=d.a.div(Bt()),er=d.a.div(Wt()),nr=d.a.div(It()),tr=t(160),rr=t.n(tr);function ar(){var e=Object(s.a)([" \n  color: #73909C;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  width: 100%\n"]);return ar=function(){return e},e}function or(){var e=Object(s.a)(["\n  background-color: #FFFAF5;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 10px;\n  margin-top: 10px;\n  border-radius: 12px;\n  font-size: 14px;\n  color: rgba(0,0,0,.83);\n  box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);\n"]);return or=function(){return e},e}function ir(){var e=Object(s.a)(["\n  min-width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n"]);return ir=function(){return e},e}function cr(){var e=Object(s.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: flex-start;\n  margin-top: 8px;\n  border-radius: 12px;\n  background-color: #9C9083;\n  width: 95%;\n  cursor: pointer;\n"]);return cr=function(){return e},e}function sr(){var e=Object(s.a)(["\n  color: #FFFAF5;\n  font-size: 16px;\n  font-weight: 550;\n  user-select: none;\n"]);return sr=function(){return e},e}function ur(){var e=Object(s.a)(["\n  height: 90%;\n  width: 95%;\n  text-decoration:none;\n  border: none;\n  background:none;\n  outline:none;\n  justify-content: flex-start;\n  border-radius: 12px;\n  background-color: #9C9083;\n  color: #FFFAF5;\n  cursor: pointer;\n"]);return ur=function(){return e},e}function lr(){var e=Object(s.a)(["\nheight: 100%;\nwidth: 100%;\ntext-decoration:none;\nborder: none;\nbackground:none;\noutline:none;\ncolor:#9C9083;\nresize: vertical;\nfont-size:16px;\n"]);return lr=function(){return e},e}function dr(e){var n=Object(a.useState)(0),t=Object(p.a)(n,2),o=t[0],i=t[1],c=Object(a.useState)(new Array),s=Object(p.a)(c,2),u=s[0],l=s[1],d=Object(a.useState)(""),f=Object(p.a)(d,2),b=f[0],j=f[1],m=Object(a.useState)(""),x=Object(p.a)(m,2),h=x[0],g=x[1],O=Object(Fe.b)(),v=O.enqueueSnackbar,y=(O.closeSnackbar,M().user),k=Object(a.useState)(!1),C=Object(p.a)(k,2),A=C[0],G=C[1],z=function(e){console.log("Change checkbox 1"),G(!A)},P=function(){return 0!=u.length||(v("Zawarto\u015b\u0107 Listy nie mo\u017ce by\u0107 pusta",{variant:"error"}),!1)},S=function(){return""!=b||(v("Tytu\u0142 Listy nie mo\u017ce by\u0107 pusty",{variant:"error"}),!1)},T=function(){j("")},D=function(){g("")};return Object(r.jsx)(xr,{children:Object(r.jsxs)(mr,{children:[Object(r.jsx)(pr,{value:b,placeholder:"Dodaj tytu\u0142",color:"#9C9083",onChange:function(e){j(e.target.value)}}),u.map((function(e){return Object(r.jsxs)(jr,{onClick:z,children:[Object(r.jsx)(Ne.a,{checked:e.boxstate.checked,style:{color:"#323232"}}),Object(r.jsx)(br,{children:e.title})]})})),Object(r.jsx)(hr,{children:Object(r.jsx)(rr.a,{onClick:function(){P()&&S()&&w.a.firestore().collection("Users").doc(y.uid).collection("Lists").add({title:b,expanded:!1,myList:Object(U.a)(u)}).then((function(){v("Lista zosta\u0142a dodana",{variant:"success"}),T(),D(),l(new Array)})).catch((function(){v("Wyst\u0105pi\u0142 problem z dodaniem listy",{variant:"error"})}))}})}),Object(r.jsxs)(jr,{onClick:z,children:[Object(r.jsx)(Ne.a,{style:{color:"#323232"}}),Object(r.jsx)(fr,{value:h,placeholder:"Dodaj notatke",color:"#FFFAF5",onChange:function(e){g(e.target.value)},onKeyDown:function(e){if("Enter"==e.key){var n=h;console.log(n),u.push({id:o,title:n,boxstate:!1,parentID:0}),i(o+1),console.log(u),l(Array.from(u)),D()}}})]})]})},e.id)}var pr=d.a.textarea(lr()),fr=d.a.input(ur()),br=d.a.span(sr()),jr=d.a.div(cr()),mr=d.a.div(ir()),xr=d.a.div(or()),hr=(d.a.div(ar()),Object(nt.a)((function(e){return{root:{position:"absolute",top:10,right:15,color:"rgba(0,0,0,.83)"}}}))(Qn.a)),gr=(Object(nt.a)((function(e){return{root:{position:"absolute",right:15,color:"rgba(0,0,0,.83)"}}}))(Qn.a),t(91)),Or=t.n(gr);function vr(){var e=Object(s.a)(["\n  position: absolute;\n  top: 45px; left: 0; right: 0; bottom: 0;\n  padding: 0px 15px 0 15px;\n  display: flex;\n  flex-direction: column;\n  align-content: stretch;\n  overflow-y: auto;\n\n  &::-webkit-scrollbar {\n    width: 10px;\n  }\n\n  &::-webkit-scrollbar-track {\n    box-shadow: inset 0 0 0px #9C9083;\n  }\n  &::-webkit-scrollbar-thumb {\n    background-color: #9C9083;\n    border-radius: 5px;\n  }\n"]);return vr=function(){return e},e}function yr(){var e=Object(s.a)(["\n  position: absolute;\n  top: 0; right: 0;\n  padding: 8px 15px 8px 15px;\n  background-color: #73909C;\n  border-radius: 0 9px 0 12px;\n  box-sizing: border-box;\n  color: #FFFAF5;\n"]);return yr=function(){return e},e}function wr(){var e=Object(s.a)(["\n  //grid-Column: 3 / 4;\n  min-height: 400px;\n  border: #73909C solid 2px;\n  border-radius: 12px;\n  box-sizing: border-box;\n  position: relative;\n"]);return wr=function(){return e},e}function kr(e){var n=Object(a.useState)(new Array),t=Object(p.a)(n,2),o=(t[0],t[1],Object(a.useState)(0)),i=Object(p.a)(o,2),c=(i[0],i[1],Object(a.useState)(new Array)),s=Object(p.a)(c,2),u=(s[0],s[1],Object(a.useState)(" ")),l=Object(p.a)(u,2),d=(l[0],l[1],Object(a.useState)(new Map)),f=Object(p.a)(d,2),b=f[0],j=f[1],m=M().user;Object(a.useEffect)((function(){var e=w.a.firestore().collection("Users").doc(m.uid).collection("Lists").onSnapshot((function(e){b.clear(),j(b),e.empty||x(e)}));return function(){e()}}),[]);var x=function(e){e.forEach((function(e){var n={text:e.data().title,myList:e.data().myList,myExpanded:e.data().expanded,ref:e.ref};Array.from(n.myList).forEach((function(n){n.parentID=e.id})),b.set(e.id,{title:n.text,ref:n.ref,elementID:e.id,myExpanded:n.myExpanded,values:Array.from(n.myList)}),j(new Map(Object(U.a)(b)))}))};return Object(E.d)(wa)?null:Object(r.jsxs)(Cr,{children:[Object(r.jsx)(Ar,{children:Object(r.jsxs)("div",{children:[Object(r.jsx)(Or.a,{style:{marginRight:10,cursor:"pointer"},onClick:function(){console.log("Click add")}}),Object(r.jsx)(Lt.a,{style:{cursor:"pointer"},onClick:function(e){console.log("Click remove")}})]})}),Object(r.jsxs)(Gr,{children:[Object(r.jsx)(dr,{children:"dupa123"}),Array.from(b).map((function(e){var n=Object(p.a)(e,2),t=(n[0],n[1]);return Object(r.jsx)(Yt,{title:t.title,myArray:t.values,listRef:t.ref,myMap:b,myExpanded:t.myExpanded,myID:t.elementID,setMyMap:j})}))]})]})}var Cr=d.a.div(wr()),Ar=d.a.div(yr()),Gr=d.a.div(vr()),zr=t(95);function Mr(){var e=Object(s.a)(["\n\twidth: 100%;\n\theight: fit-content;\n\tbackground-color: #fffaf5;\n\tborder-radius: 12px;\n\tbox-sizing: border-box;\n\tposition: relative;\n\tpadding: 25px;\n\tfont-size: 14px;\n\tcolor: rgba(0, 0, 0, .83);\n\tbox-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);\n  margin-top: 10px;\n  margin-right: 15px;\n"]);return Mr=function(){return e},e}function Pr(e){return Object(r.jsxs)(Sr,{children:[Object(r.jsx)(zr.a,{variant:"body1",children:e.content}),Object(r.jsx)(Tr,{children:Object(r.jsx)(Lt.a,{onClick:function(){e.stickyRef.delete()}})})]})}var Sr=d.a.div(Mr()),Tr=Object(nt.a)((function(e){return{root:{position:"absolute",top:0,right:0,color:"rgba(0,0,0,.83)"}}}))(Qn.a);function Dr(){var e=Object(s.a)(["\n\twidth: 100%;\n\theight: fit-content;\n\tbackground-color: #fffaf5;\n\tborder-radius: 12px;\n\tbox-sizing: border-box;\n\tposition: relative;\n\tpadding: 25px;\n\tfont-size: 14px;\n\tcolor: rgba(0, 0, 0, .83);\n\tbox-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);\n  margin-top: 10px;\n  margin-right: 15px;\n"]);return Dr=function(){return e},e}function Nr(){var e=Object(s.a)(["\nheight: 100%;\nwidth: 100%;\ntext-decoration:none;\nborder: none;\nbackground:none;\noutline:none;\ncolor:#9C9083;\nresize: vertical;\nfont-size:16px;\n"]);return Nr=function(){return e},e}function Ur(e){var n=Object(a.useState)(""),t=Object(p.a)(n,2),o=t[0],i=t[1],c=Object(Fe.b)(),s=c.enqueueSnackbar,u=(c.closeSnackbar,M().user),l=function(){return""!=o||(s("Tre\u015b\u0107 przypomnienia nie mo\u017ce by\u0107 pusta",{variant:"error"}),!1)},d=function(){i("")};return Object(r.jsxs)(_r,{children:[Object(r.jsx)(Vr,{value:o,placeholder:"Dodaj notatke",color:"#9C9083",onChange:function(e){i(e.target.value)}}),Object(r.jsx)(Er,{children:Object(r.jsx)(Or.a,{onClick:function(){l()&&w.a.firestore().collection("Users").doc(u.uid).collection("StickyNotes").add({text:o}).then((function(){s("Notatka zosta\u0142a dodana",{variant:"success"}),d()})).catch((function(){s("Wyst\u0105pi\u0142 problem z dodaniem notatki",{variant:"error"})}))}})})]})}var Vr=d.a.textarea(Nr()),_r=d.a.div(Dr()),Er=Object(nt.a)((function(e){return{root:{position:"absolute",top:0,right:0,color:"rgba(0,0,0,.83)"}}}))(Qn.a);function Fr(e){var n=Object(a.useState)(new Array),t=Object(p.a)(n,2),i=t[0],c=t[1],s=M().user;Object(a.useEffect)((function(){var e=w.a.firestore().collection("Users").doc(s.uid).collection("StickyNotes").onSnapshot((function(e){u(e)}));return function(){e()}}),[]);var u=function(e){var n=new Array;e.forEach((function(e){var t={text:e.data().text,ref:e.ref};console.log(t),console.log(t.ref),n.push(Object(r.jsx)(Pr,{content:t.text,stickyRef:t.ref}))})),console.log(n),c(n)};return Object(r.jsxs)(o.a.Fragment,{children:[Object(r.jsx)(Ur,{title:"stworz notatke"}),i]})}var Lr=t(18),Rr=t(127),Ir=t(36),Wr=t(323),Br=t(321),Zr=t(161),qr=t.n(Zr),Yr=t(324),Kr=t(326),Hr=t(320),Jr=Object(nt.a)({root:{color:"#9C9083","&$checked":{color:"#9C9083"}},checked:{}})((function(e){return Object(r.jsx)(Yr.a,Object(A.a)({color:"default"},e))})),Xr=Object(nt.a)({root:{color:"#9C9083"}})((function(e){return Object(r.jsx)(De.a,Object(A.a)({},e))}));function Qr(){var e=Object(E.c)(B),n=Object(p.a)(e,2),t=n[0],o=n[1],i=Object(E.c)(Z),c=Object(p.a)(i,2),s=c[0],u=c[1];Object(a.useEffect)((function(){s!=F.reminderTypes.cyclical&&o(null)}),[s]);return Object(r.jsx)(Hr.a,{component:"fieldset",children:Object(r.jsxs)(Kr.a,{row:!0,"aria-label":"position",name:"position",defaultValue:"top",value:t,onClick:function(e){void 0!=e.target.value&&(t==e.target.value?(u(F.reminderTypes.default),o("")):(u(F.reminderTypes.cyclical),o(e.target.value)))},children:[Object(r.jsx)(Xr,{value:"everyDay",control:Object(r.jsx)(Jr,{}),label:"Codziennie",labelPlacement:"end"}),Object(r.jsx)(Xr,{value:"everyWeek",control:Object(r.jsx)(Jr,{}),label:"Co tydzie\u0144",labelPlacement:"end"}),Object(r.jsx)(Xr,{value:"everyMonth",control:Object(r.jsx)(Jr,{}),label:"Co miesi\u0105c",labelPlacement:"end"}),Object(r.jsx)(Xr,{value:"everyYear",control:Object(r.jsx)(Jr,{}),label:"Co rok",labelPlacement:"end"})]})})}var $r=Object(ee.a)((function(e){return{outlined:{borderColor:"#9C9083",color:"#9C9083"},contained:{color:"#FFFAF5",backgroundColor:"#9C9083","&:hover":{backgroundColor:"#8a7a69"}}}})),ea=Object(nt.a)((function(e){return{root:{borderRadius:21,height:42,marginRight:5,marginBottom:5}}}))($.a),na=[["mon","Poniedzia\u0142ek"],["tue","Wtorek"],["wed","\u015aroda"],["thu","Czwartek"],["fri","Pi\u0105tek"],["sat","Sobota"],["sun","Niedziela"]];function ta(){var e=$r(),n=Object(a.useState)(new Set),t=Object(p.a)(n,2),o=t[0],i=t[1],c=Object(E.c)(I),s=Object(p.a)(c,2),u=s[0],l=s[1],d=Object(E.c)(Z),f=Object(p.a)(d,2),b=f[0],j=f[1];Object(a.useEffect)((function(){b!=F.reminderTypes.special&&(i(new Set),l(new Array)),console.log("type",b)}),[b]),Object(a.useEffect)((function(){var e=new Set;u.forEach((function(n){e.add(n)})),i(new Set(e))}),[u]);var m=function(e){return o.has(e)?"contained":"outlined"};return Object(r.jsx)("div",{children:na.map((function(n){return Object(r.jsx)(ea,{variant:m(n[0]),className:e[m(n[0])],onClick:function(){return e=n[0],o.has(e)?o.delete(e):o.add(e),i(new Set(o)),l(Array.from(o)),void(o.size>0?j(F.reminderTypes.special):j(F.reminderTypes.default));var e},children:n[1]})}))})}var ra=Object(ee.a)((function(e){return{root:{cursor:"pointer"},container:{display:"flex",flexDirection:"row",justifyContent:"center",paddingTop:5}}}));function aa(e){var n=ra();return Object(r.jsx)("div",{onClick:e.onClick,className:n.container,children:0==e.expanded?Object(r.jsx)(Vt.a,{className:n.root}):Object(r.jsx)(Et.a,{className:n.root})})}function oa(){var e=Object(s.a)(["\n  padding-top: 10px;\n  justify-content: flex-start;\n"]);return oa=function(){return e},e}function ia(){var e=Object(s.a)(["\n\toutline: none;\n\tfont-size: 14px;\n\tcolor: rgba(0, 0, 0, .83);\n\twidth: 100%;\n\tborder: none;\n\tmargin-top: 10px;\n\tresize: none;\n\tfont-family: 'Roboto';\n\tbackground-color: #fffaf5;\n\tborder-bottom: '1px #73909C solid'\n"]);return ia=function(){return e},e}function ca(){var e=Object(s.a)(["\n\tdisplay: flex;\n\tflex-direction: row;\n\tpadding-top: 15px;\n"]);return ca=function(){return e},e}function sa(){var e=Object(s.a)(["\n\tbackground-color: #ccc;\n\tbackground-color: #fffaf5;\n\tposition: relative;\n\tpadding: 15px;\n\tborder-radius: 12px;\n\tfont-size: 14px;\n\tcolor: rgba(0, 0, 0, .83);\n\tbox-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);\n\tdisplay: flex;\n"]);return sa=function(){return e},e}function ua(){var e=Object(s.a)(["\n\t//grid-row: span 4;\n  min-height: 400px;\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-self: stretch;\n\tz-index: 1;\n"]);return ua=function(){return e},e}function la(){var e=Object(s.a)(["\n\tpadding: 15px;\n"]);return la=function(){return e},e}var da={mon:1,thi:2,wed:3,thu:4,fri:5,sat:6,sun:7},pa=Object(ee.a)((function(e){return{openedContainer:{gridColumn:"span 2"},noOpenedContainer:{gridColumn:"span 1"},firstColumn:{flex:1},collapsedSecondColumn:{flex:0,display:"none"},noCollapsedSecondColumn:{flex:1},errorTextInput:{border:"1px solid red",borderRadius:"10px"},successTextInput:{borderBottom:"2px #73909C solid"},opacity100:{opacity:1},opacity40:{opacity:.4}}}));function fa(){var e=pa(),n=Object(E.c)(R),t=Object(p.a)(n,2),o=t[0],i=t[1],c=Object(E.c)(W),s=Object(p.a)(c,2),u=s[0],l=s[1],d=Object(E.c)(wa),f=Object(p.a)(d,2),b=(f[0],f[1]),j=Object(E.c)(L),m=Object(p.a)(j,2),x=m[0],h=m[1],g=Object(E.c)(I),O=Object(p.a)(g,2),v=O[0],y=O[1],w=Object(E.c)(B),k=Object(p.a)(w,2),A=k[0],z=k[1],M=Object(E.c)(Z),P=Object(p.a)(M,2),S=P[0],T=P[1],D=Object(a.useState)(!1),N=Object(p.a)(D,2),U=N[0],V=N[1],_=Object(a.useState)(!0),Y=Object(p.a)(_,2),K=Y[0],H=Y[1],J=Object(Fe.b)(),X=J.enqueueSnackbar,Q=(J.closeSnackbar,Object(a.useState)(!0)),$=Object(p.a)(Q,2),ee=$[0],te=$[1],re=Object(a.useState)(!1),ae=Object(p.a)(re,2),oe=ae[0],ie=ae[1],ce=Object(a.useState)(new Map),se=Object(p.a)(ce,2),ue=se[0],le=se[1],de=Object(a.useState)(!0),pe=Object(p.a)(de,2),fe=pe[0],be=pe[1];Object(a.useEffect)((function(){!0===fe?function(){return q.apply(this,arguments)}().then(function(){var e=Object(G.a)(C.a.mark((function e(n){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:le(n),be(!1);case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()):console.log("STATE GROUP_DATA",ue)}));var je=new F;je.textContent=x;var me=Object(E.d)(R),xe=Object(E.d)(W);xe=Date.now()+(xe.getTime()-(new Date).setHours(0,0,0,0)),xe=new Date(xe),je.date=ee?me:xe,je.frequency=A,je.type=S;var he=Object(E.d)(I);je.weekDays=he;var ge=function(){return""!=x||(H(!1),X("Tre\u015b\u0107 przypomnienia nie mo\u017ce by\u0107 pusta",{variant:"error"}),!1)},Oe=function(){var e=new Date(o);new Date(u);return ee&&e.getTime()<Date.now()&&S!=F.reminderTypes.special?(X("Data nie mo\u017ce odnosi\u0107 si\u0119 do przesz\u0142o\u015bci",{variant:"error"}),!1):(ve(),!0)},ve=function(){if(S==F.reminderTypes.special){for(var e=new Date(o),n=0;n<v.length;n++)if(e.getDay()==da[v[n]])return void(e.getTime()<Date.now()&&(e.setDate(e.getDate()+7),je.date=ee?e:xe,i(e)));e.setDate(e.getDate()+1);for(var t=0;t<6;t++){if(void 0!=v.find((function(n){return e.getDay()==da[n]})))break;e.setDate(e.getDate()+1)}je.date=ee?e:xe,i(e)}};function ye(){return we.apply(this,arguments)}function we(){return(we=Object(G.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h(""),H(!0),y(new Array),z(null),T(F.reminderTypes.default);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.jsxs)(ja,{className:U?e.openedContainer:e.noOpenedContainer,children:[Object(r.jsxs)(ma,{children:[Object(r.jsxs)("div",{className:e.firstColumn,children:[Object(r.jsx)(zr.a,{variant:"subtitle2",children:"Utw\xf3rz przypomnienie"}),Object(r.jsx)(ha,{value:x,type:"text",className:K?e.successTextInput:e.errorTextInput,placeholder:"O czym Ci przypomnie\u0107?",onInput:function(e){console.log(x),h(e.target.value),e.target.style.height="30px",e.target.style.height=e.target.scrollHeight+"px"},onChange:function(e){h(e.target.value),H(!0)}}),Object(r.jsxs)(ga,{children:[Object(r.jsxs)("span",{style:{display:"flex",flexDirection:"row",alignItems:"center"},onClick:function(){return te(!0)},className:ee?e.opacity100:e.opacity40,children:[Object(r.jsx)(Xn.a,{style:{marginRight:5}}),Object(r.jsx)(Ir.a,{utils:Rr.a,children:S!=F.reminderTypes.special?Object(r.jsx)(Wr.a,{value:o,onChange:i,showTodayButton:!0,disablePast:!0,ampm:!1,color:"primary"}):Object(r.jsx)(Br.a,{ampm:!1,openTo:"minutes",views:["hours","minutes"],format:"hh:mm",value:o,onChange:i})})]}),Object(r.jsxs)("span",{style:{display:"flex",flexDirection:"row",alignItems:"center",width:100,marginLeft:15},className:ee?e.opacity40:e.opacity100,onClick:function(){return te(!1)},children:[Object(r.jsx)(qr.a,{style:{marginRight:5}}),Object(r.jsx)("span",{style:{marginRight:5},children:"za"}),Object(r.jsx)(Ir.a,{utils:Rr.a,children:Object(r.jsx)(Br.a,{ampm:!1,openTo:"minutes",views:["hours","minutes"],format:"hh:mm",value:u,onChange:l})})]})]}),Object(r.jsxs)(Rt.a,{in:U,timeout:"auto",children:[Object(r.jsx)(zr.a,{variant:"subtitle2",style:{marginTop:20},children:"Powtarzaj"}),Object(r.jsx)(Qr,{}),Object(r.jsx)(ta,{})]}),Object(r.jsx)(aa,{expanded:U,onClick:function(){V((function(e){return!e})),b((function(e){return!e})),U&&T(F.reminderTypes.default)}})]}),Object(r.jsx)("div",{className:U?e.noCollapsedSecondColumn:e.collapsedSecondColumn,children:Object(r.jsxs)(Rt.a,{in:U,timeout:"auto",children:["Wybierz grup\u0119:",Object(r.jsxs)(ba,{children:[ue.size>0&&Array.from(ue.keys()).map((function(e){return Object(r.jsx)(De.a,{control:Object(r.jsx)(Ne.a,{checked:ue.get(e).seleced,onChange:function(){ue.get(e).selected=!ue.get(e).selected,le(ue)},name:"checkedB",color:"primary"}),label:ue.get(e).name})})),ue.size<=0&&Object(r.jsx)("span",{children:" nie nale\u017cysz do \u017cadnych grup"})]})]})})]}),Object(r.jsxs)(xa,{children:[Object(r.jsxs)("div",{className:e.firstColumn,style:{display:"flex",flexDirection:"row"},children:[Object(r.jsx)(ne,{color:"#73909C",type:"outlined",text:"Wyczy\u015b\u0107",style:{marginRight:10,width:"100%",color:"#73909C"},onClick:ye}),Object(r.jsx)(ne,{color:"#73909C",type:"contained",style:{width:"100%",color:"#fff"},text:"Zapisz",onClick:function(){if(ge()&&Oe()){var e=!1;ie(!0);var n,t=Object(Lr.a)(ue.entries());try{var r=function(){var t=Object(p.a)(n.value,2),r=t[0],a=t[1];console.log("TRU",a),a.selected&&(je.SendReminderToGroupCollection(r).then((function(){X("Powiadomienie zosta\u0142o dodane dla grupy ".concat(a.name),{variant:"success"})})).catch((function(){X("Wyst\u0105pi\u0142 problem z dodaniem przypomnienia",{variant:"error"})})),e=!0)};for(t.s();!(n=t.n()).done;)r()}catch(a){t.e(a)}finally{t.f()}0==e?(je.SendReminderToUserCollection().then((function(){X("Powiadomienie zosta\u0142o dodane",{variant:"success"}),ye(),ie(!1)})).catch((function(){X("Wyst\u0105pi\u0142 problem z dodaniem przypomnienia",{variant:"error"}),ie(!1)})),console.log("Send to reminder")):(ye(),ie(!1),console.log("Send to groups reminder collections"))}},disabled:oe})]}),Object(r.jsx)("div",{className:U?e.noCollapsedSecondColumn:e.collapsedSecondColumn})]})]})}var ba=d.a.div(la()),ja=d.a.div(ua()),ma=d.a.div(sa()),xa=d.a.div(ca()),ha=d.a.textarea(ia()),ga=Object(d.a)(xa)(oa());function Oa(){var e=Object(s.a)(["\n  height: auto;\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(340px, 1fr));\n  grid-gap: 15px;\n  grid-auto-flow: dense;\n"]);return Oa=function(){return e},e}function va(){var e=Object(s.a)(["\n  width: 100%;\n  min-height: 100%;\n  position: relative;\n"]);return va=function(){return e},e}function ya(){return Object(r.jsx)(ka,{children:Object(r.jsxs)(Ca,{children:[Object(r.jsx)(bt,{}),Object(r.jsx)(fa,{}),Object(r.jsx)(kr,{}),Object(r.jsx)(Pt,{}),Object(r.jsx)(Fr,{})]})})}var wa=Object(E.b)({key:"ReminderFormOpenState",default:!1}),ka=d.a.div(va()),Ca=d.a.div(Oa()),Aa=t(17),Ga=t(40),za=t.n(Ga),Ma=t(322);function Pa(){var e=Object(s.a)(["\n\tborder: 2px solid #73909c;\n\t//min-height:50px;\n\tmargin: 10px;\n\tfont-family: 'Roboto', sans-serif;\n\tcolor: #73909c;\n\tfont-size: 12px;\n\tborder-radius: 10px;\n\tpadding: 12px;\n\tbackground-color: transparent;\n\t&:focus {\n\t\tborder-radius: 10px;\n\t\tborder-color: #73909c;\n\t\toutline: none;\n\t}\n\t&:active {\n\t\tborder-radius: 10px;\n\t\tborder-color: #73909c;\n\t\toutline: none;\n\t}\n"]);return Pa=function(){return e},e}var Sa=function(){var e=Object(a.useState)({emailWarning:!1,newPasswdWarning:!1,passwdWarning:!1,push:!0,email:!0}),n=Object(p.a)(e,2),t=n[0],o=n[1],i={name:"Powiadomienia",elements:[{id:"push",name:"Push",state:t.notifyPush},{id:"email",name:"Email",state:t.notifyEmail}]},c=Object(a.useState)(""),s=Object(p.a)(c,2),u=s[0],l=s[1],d=Object(a.useState)(""),f=Object(p.a)(d,2),b=f[0],j=f[1],m=Object(a.useState)(""),x=Object(p.a)(m,2),h=x[0],g=x[1],O=Object(Fe.b)(),v=O.enqueueSnackbar,y=(O.closeSnackbar,Object(a.useState)("")),k=Object(p.a)(y,2),C=k[0],G=k[1],z=M().user;return 1==z.loggedByGoogle?Object(r.jsx)("div",{className:za.a.container,children:Object(r.jsxs)("div",{className:za.a.content,children:[Object(r.jsx)("div",{className:za.a.header,children:Object(r.jsx)("div",{style:{fontSize:48},children:Object(r.jsx)("span",{children:z.userName})})}),Object(r.jsxs)("div",{className:za.a.settings,children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{style:{fontSize:20},children:Object(r.jsx)("span",{children:"Og\xf3lne"})}),Object(r.jsx)("div",{className:za.a.settingsContentBox,children:Object(r.jsx)(Ta,{type:"text",id:"nname",name:"nname",placeholder:"zmie\u0144 pseudonim",onChange:function(e){return G(e.target.value)}})})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{style:{fontSize:20,marginTop:12},children:Object(r.jsx)("span",{children:i.name})}),Object(r.jsx)("div",{className:za.a.settingsContentBox,children:i.elements.map((function(e){return Object(r.jsxs)("div",{className:za.a.settingsOption,children:[Object(r.jsx)("div",{style:{width:"25%"},children:Object(r.jsx)("label",{children:e.name})}),Object(r.jsx)("div",{className:za.a.generalUserValue,children:Object(r.jsx)(Ma.a,{id:e.id,checked:e.state,onChange:P,color:"primary",name:e.name,inputProps:{"aria-label":"secondary checkbox"}})})]},e.name)}))})]})]}),Object(r.jsxs)("div",{className:za.a.buttons,children:[Object(r.jsx)(ne,{text:"Zamknij konto",onClick:function(){w.a.auth().currentUser.delete().then((function(){})).catch((function(e){v("Wymagana autoryzacja - zaloguj si\u0119 ponownie, by usun\u0105\u0107 konto",{variant:"error"})}))},type:"outlined",color:"#73909C",style:{width:"35%",color:"#73909C"}}),Object(r.jsx)(ne,{text:"Zatwierd\u017a zmiany",onClick:function(){var e=C;Ve.a.isLength(e,{min:4,max:30})?w.a.firestore().collection("Users").doc(z.uid).set({userName:e},{merge:!0}).then((function(){v("Nazwa u\u017cytkownika zosta\u0142a zaktualizowana",{variant:"success"})})):v("Zbyt kr\xf3tka nazwa u\u017cytkownika",{variant:"error"})},type:"contained",color:"#73909C",style:{width:"60%",color:"#FFF"}})]})]})}):Object(r.jsx)("div",{className:za.a.container,children:Object(r.jsxs)("div",{className:za.a.content,children:[Object(r.jsx)("div",{className:za.a.header,children:Object(r.jsx)("div",{style:{fontSize:48},children:Object(r.jsx)("span",{children:z.userName})})}),Object(r.jsxs)("div",{className:za.a.settings,children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{style:{fontSize:20},children:Object(r.jsx)("span",{children:"Og\xf3lne"})}),Object(r.jsxs)("div",{className:za.a.settingsContentBox,children:[Object(r.jsx)(Ta,{type:"text",id:"nname",name:"nname",placeholder:"podaj nowy pseudonim",onChange:function(e){return G(e.target.value)}}),Object(r.jsx)(Ta,{type:"email",id:"fname",name:"fname",placeholder:"podaj nowy adres email",onChange:function(e){return l(e.target.value)}}),Object(r.jsx)(Ta,{type:"password",id:"pname2",name:"pname2",placeholder:"podaj nowe has\u0142o",onChange:function(e){return g(e.target.value)}}),Object(r.jsx)(Ta,{type:"password",id:"pname",name:"pname",placeholder:"podaj stare has\u0142o",onChange:function(e){return j(e.target.value)}})]})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{style:{fontSize:20,marginTop:12},children:Object(r.jsx)("span",{children:i.name})}),Object(r.jsx)("div",{className:za.a.settingsContentBox,children:i.elements.map((function(e){return Object(r.jsxs)("div",{className:za.a.settingsOption,children:[Object(r.jsx)("div",{style:{width:"25%"},children:Object(r.jsx)("label",{children:e.name})}),Object(r.jsx)("div",{className:za.a.generalUserValue,children:Object(r.jsx)(Ma.a,{id:e.id,checked:e.state,onChange:P,color:"primary",name:e.name,inputProps:{"aria-label":"secondary checkbox"}})})]},e.name)}))})]})]}),Object(r.jsxs)("div",{className:za.a.buttons,children:[Object(r.jsx)(ne,{text:"Zamknij konto",onClick:function(){var e=w.a.auth().currentUser,n=b,t=w.a.auth.EmailAuthProvider.credential(e.email,n);e.reauthenticateWithCredential(t).then((function(){console.log("dziala!"),e.delete().then((function(){console.log("bye bye")})).catch((function(e){console.log("error when removing user"),v("Wyst\u0105pi\u0142 b\u0142\u0105d",{variant:"error"})}))})).catch((function(e){console.log("blad"),v("Podaj poprawne has\u0142o",{variant:"error"})}))},type:"outlined",color:"#73909C",style:{width:"35%",color:"#73909C"}}),Object(r.jsx)(ne,{text:"Zatwierd\u017a zmiany",onClick:function(){var e=u,n=b,t=h,r=C,a=w.a.auth().currentUser,o=w.a.auth.EmailAuthProvider.credential(a.email,n),i=a.userName,c=a.email;e||n||t||r?(!e&&n&&t&&!r&&a.reauthenticateWithCredential(o).then((function(){console.log("dziala weryfikacja"),Ve.a.isLength(t,{min:6,max:30})?a.updatePassword(t).then((function(){console.log("haslo zaktualizowane"),v("Has\u0142o zosta\u0142o zaktualizowane",{variant:"success"})})).catch((function(e){console.log("blad zmiany hasla"),v("Wyst\u0105pi\u0142 b\u0142\u0105d",{variant:"error"})})):v("Nowe has\u0142o musi zawiera\u0107 minimum 6 znak\xf3w",{variant:"error"})})).catch((function(e){console.log("blad"),v("Podaj poprawne has\u0142o",{variant:"error"})})),e&&n&&!t&&!r&&a.reauthenticateWithCredential(o).then((function(){console.log("dziala weryfikacja"),Ve.a.isEmail(e)?a.updateEmail(e).then((function(){w.a.firestore().collection("Users").doc(a.uid).set({email:e,userName:i},{merge:!0}).then((function(){v("Adres email zosta\u0142 zaktualizowany",{variant:"success"})}))})).catch((function(e){v("Wyst\u0105pi\u0142 b\u0142\u0105d",{variant:"error"})})):v("B\u0142\u0119dny adres email",{variant:"error"})})).catch((function(e){console.log("blad"),v("Podaj poprawne has\u0142o",{variant:"error"})})),e&&n&&t&&!r&&a.reauthenticateWithCredential(o).then((function(){console.log("dziala weryfikacja"),Ve.a.isEmail(e)?Ve.a.isLength(t,{min:6,max:30})?a.updateEmail(e).then((function(){a.updatePassword(t).then((function(){console.log("haslo zaktualizowane"),w.a.firestore().collection("Users").doc(a.uid).set({email:e,userName:i},{merge:!0}).then((function(){v("Has\u0142o i email zosta\u0142y zaktualizowane",{variant:"success"})}))})).catch((function(e){console.log("blad zmiany hasla"),v("Wyst\u0105pi\u0142 b\u0142\u0105d przy zmianie has\u0142a",{variant:"error"})}))})).catch((function(e){v("Wyst\u0105pi\u0142 b\u0142\u0105d przy zmianie adresu email",{variant:"error"})})):v("Nowe has\u0142o musi zawiera\u0107 minimum 6 znak\xf3w",{variant:"error"}):v("B\u0142\u0119dny adres email",{variant:"error"})})).catch((function(e){console.log("blad"),v("Podaj poprawne has\u0142o",{variant:"error"})})),e&&n&&!t&&r&&a.reauthenticateWithCredential(o).then((function(){console.log("dziala weryfikacja"),Ve.a.isEmail(e)?Ve.a.isLength(r,{min:4,max:30})?a.updateEmail(e).then((function(){w.a.firestore().collection("Users").doc(a.uid).set({email:e,userName:r},{merge:!0}).then((function(){v("Adres email i nazwa zosta\u0142y zaktualizowane",{variant:"success"})}))})).catch((function(e){v("Wyst\u0105pi\u0142 b\u0142\u0105d",{variant:"error"})})):v("Zbyt kr\xf3tka nazwa u\u017cytkownika",{variant:"error"}):v("B\u0142\u0119dny adres email",{variant:"error"})})).catch((function(e){console.log("blad"),v("Podaj poprawne has\u0142o",{variant:"error"})})),e&&n&&t&&r&&a.reauthenticateWithCredential(o).then((function(){console.log("dziala weryfikacja"),Ve.a.isEmail(e)?Ve.a.isLength(t,{min:6,max:30})?Ve.a.isLength(r,{min:4,max:30})?a.updateEmail(e).then((function(){w.a.firestore().collection("Users").doc(a.uid).set({email:e,userName:r},{merge:!0}).then((function(){a.updatePassword(t).then((function(){console.log("haslo zaktualizowane"),v("Dane zosta\u0142y zaktualizowane",{variant:"success"})})).catch((function(e){console.log("blad zmiany hasla"),v("Wyst\u0105pi\u0142 b\u0142\u0105d przy zmianie has\u0142a",{variant:"error"})}))}))})).catch((function(e){v("Wyst\u0105pi\u0142 b\u0142\u0105d przy zmianie adresu email",{variant:"error"})})):v("Zbyt kr\xf3tka nazwa u\u017cytkownika",{variant:"error"}):v("Nowe has\u0142o musi zawiera\u0107 minimum 6 znak\xf3w",{variant:"error"}):v("B\u0142\u0119dny adres email",{variant:"error"})})).catch((function(e){console.log("blad"),v("Podaj poprawne has\u0142o",{variant:"error"})})),!(t||r||e)||n?(!e&&t&&r&&n&&a.reauthenticateWithCredential(o).then((function(){console.log("dziala weryfikacja"),Ve.a.isLength(t,{min:6,max:30})?Ve.a.isLength(r,{min:4,max:30})?a.updatePassword(t).then((function(){console.log("haslo zaktualizowane"),w.a.firestore().collection("Users").doc(a.uid).set({email:c,userName:r},{merge:!0}).then((function(){v("Dane zosta\u0142y zaktualizowane",{variant:"success"})}))})).catch((function(e){console.log("blad zmiany hasla"),v("Wyst\u0105pi\u0142 b\u0142\u0105d",{variant:"error"})})):v("Zbyt kr\xf3tka nazwa u\u017cytkownika",{variant:"error"}):v("Nowe has\u0142o musi zawiera\u0107 minimum 6 znak\xf3w",{variant:"error"})})).catch((function(e){console.log("blad"),v("Podaj poprawne has\u0142o",{variant:"error"})})),!e&&n&&!t&&r&&a.reauthenticateWithCredential(o).then((function(){console.log("dziala weryfikacja"),Ve.a.isLength(r,{min:4,max:30})?w.a.firestore().collection("Users").doc(a.uid).set({email:c,userName:r},{merge:!0}).then((function(){v("Nazwa u\u017cytkownika zosta\u0142a zaktualizowana",{variant:"success"})})):v("Zbyt kr\xf3tka nazwa u\u017cytkownika",{variant:"error"})})).catch((function(e){console.log("blad zmiany pseudonimu"),v("Wyst\u0105pi\u0142 b\u0142\u0105d",{variant:"error"})})).catch((function(e){console.log("blad"),v("Podaj poprawne has\u0142o",{variant:"error"})}))):v("Aby wprowadzi\u0107 zmiany musisz poda\u0107 has\u0142o",{variant:"error"})):console.log("puste pola")},type:"contained",color:"#73909C",style:{width:"60%",color:"#FFF"}})]})]})});function P(e){console.log("".concat(e.target.id," ").concat(e.target.checked)),o(Object(A.a)(Object(A.a)({},t),{},Object(Aa.a)({},e.target.id,e.target.checked)));var n=w.a.auth().currentUser;"email"==e.target.id&&(console.log("email notification"),w.a.firestore().collection("Users").doc(n.uid).set({emailNotification:e.target.checked},{merge:!0})),"push"==e.target.id&&(console.log("push notification"),w.a.firestore().collection("Users").doc(n.uid).set({pushNotification:e.target.checked},{merge:!0}))}},Ta=d.a.input(Pa()),Da=t(126),Na=t.n(Da);function Ua(e){return Va.apply(this,arguments)}function Va(){return(Va=Object(G.a)(C.a.mark((function e(n){var t,r,a,o,i,c,s,u,l,d,p,f,b;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Map,r="Members",n&&(r="Admins"),e.next=5,w.a.auth().currentUser.uid;case 5:return a=e.sent,o=w.a.firestore().collection("Users").doc(a).collection("Groups").doc(r),e.prev=7,e.next=10,o.get();case 10:if(!(i=e.sent).exists){e.next=61;break}c=0;case 13:if(!(c<i.data().data.length)){e.next=61;break}return s=i.data().data[c].trim(),e.prev=15,e.next=18,w.a.firestore().collection("Groups").doc(s).get();case 18:if(!(u=e.sent).exists){e.next=53;break}t.set(s,{id:s,name:u.data().name,users:n?new Map:[]}),l=0;case 22:if(!(l<u.data().members.length)){e.next=37;break}return d=u.data().members[l].trim(),e.prev=24,e.next=27,w.a.firestore().collection("Users").doc(d).get();case 27:(p=e.sent).exists&&(n?t.get(s).users.set(d,{id:d,userName:p.data().userName}):t.get(s).users.push({id:d,userName:p.data().userName})),e.next=34;break;case 31:e.prev=31,e.t0=e.catch(24),console.log(e.t0);case 34:l++,e.next=22;break;case 37:f=0;case 38:if(!(f<u.data().invitations.length)){e.next=53;break}return d=u.data().invitations[f].trim(),e.prev=40,e.next=43,w.a.firestore().collection("Users").doc(d).get();case 43:(b=e.sent).exists&&(n?t.get(s).users.set(d,{id:d,userName:b.data().userName,invitations:!0}):t.get(s).users.push({id:d,userName:b.data().userName,invitations:!0})),e.next=50;break;case 47:e.prev=47,e.t1=e.catch(40),console.log(e.t1);case 50:f++,e.next=38;break;case 53:e.next=58;break;case 55:e.prev=55,e.t2=e.catch(15),console.log(e.t2);case 58:c++,e.next=13;break;case 61:e.next=66;break;case 63:e.prev=63,e.t3=e.catch(7),console.log(e.t3);case 66:return e.abrupt("return",t);case 67:case"end":return e.stop()}}),e,null,[[7,63],[15,55],[24,31],[40,47]])})))).apply(this,arguments)}function _a(){return(_a=Object(G.a)(C.a.mark((function e(){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ua(!0);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ea(){return(Ea=Object(G.a)(C.a.mark((function e(){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ua(!1);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fa(e,n,t,r,a){return La.apply(this,arguments)}function La(){return(La=Object(G.a)(C.a.mark((function e(n,t,r,a,o){var i;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=new Map,!(n.size>0)){e.next=7;break}return e.t0=i,e.next=5,Wa(n);case 5:e.t1=e.sent,e.t0.set.call(e.t0,"NEW-GROUPS-USERS-ID",e.t1);case 7:if(!(r.size>0)){e.next=13;break}return e.t2=i,e.next=11,qa(r);case 11:e.t3=e.sent,e.t2.set.call(e.t2,"NEW-USERS-ID",e.t3);case 13:return t.size>0&&Za(t),a.size>0&&Ja(a),o.size>0&&Ra(o),e.abrupt("return",i);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ra(e){return Ia.apply(this,arguments)}function Ia(){return(Ia=Object(G.a)(C.a.mark((function e(n){var t,r,a,o;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Object(Lr.a)(n),e.prev=1,a=C.a.mark((function e(){var n,t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.value,"number"!==typeof(t=n[0])){e.next=4;break}return e.abrupt("return","continue");case 4:return o=w.a.firestore().collection("Groups").doc(t),e.next=7,o.get().then((function(e){if(e.exists){for(var n=0;n<e.data().admin.length;n++){var r=e.data().admin[n];w.a.firestore().collection("Users").doc(r).collection("Groups").doc("Admins").update({data:w.a.firestore.FieldValue.arrayRemove(t)}).catch((function(e){console.error("Error removing document: ",e)}))}for(var a=0;a<e.data().members.length;a++){var o=e.data().members[a];w.a.firestore().collection("Users").doc(o).collection("Groups").doc("Members").update({data:w.a.firestore.FieldValue.arrayRemove(t)}).catch((function(e){console.error("Error removing document: ",e)}))}for(var i=0;i<e.data().invitations.length;i++){var c=e.data().invitations[i];w.a.firestore().collection("Users").doc(c).collection("GroupsInvitations").doc(t).delete().catch((function(e){console.error("Error removing document: ",e)}))}}})).catch((function(e){console.error("Error adding document: ",e)}));case 7:o.delete();case 8:case"end":return e.stop()}}),e)})),t.s();case 4:if((r=t.n()).done){e.next=11;break}return e.delegateYield(a(),"t0",6);case 6:if("continue"!==e.t0){e.next=9;break}return e.abrupt("continue",9);case 9:e.next=4;break;case 11:e.next=16;break;case 13:e.prev=13,e.t1=e.catch(1),t.e(e.t1);case 16:return e.prev=16,t.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[1,13,16,19]])})))).apply(this,arguments)}function Wa(e){return Ba.apply(this,arguments)}function Ba(){return(Ba=Object(G.a)(C.a.mark((function e(n){var t,r,a,o,i,c,s,u;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.auth().currentUser.uid;case 2:t=e.sent,r=new Map,a=Object(Lr.a)(n),e.prev=5,i=C.a.mark((function e(){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.value,c=n[0],s=n[1].name,u=w.a.firestore().collection("Users").doc(t).collection("Groups").doc("Admins"),e.next=6,w.a.firestore().collection("Groups").add({name:n[1].name,members:[],invitations:[],admin:[t]}).then(function(){var e=Object(G.a)(C.a.mark((function e(t){var a,o,i,l,d,p,f;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.id,r.set(c,{id:t.id,users:new Map}),console.log("Document written with ID: ",a),u.update({data:w.a.firestore.FieldValue.arrayUnion(a)}).catch((function(e){console.error("Error removing document: ",e)})),o=Object(Lr.a)(n[1].users),e.prev=5,o.s();case 7:if((i=o.n()).done){e.next=17;break}return l=i.value,d=l[1].id,p=l[1].email,e.next=13,Ka(a,s,p);case 13:f=e.sent,r.get(c).users.set(d,f);case 15:e.next=7;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(5),o.e(e.t0);case 22:return e.prev=22,o.f(),e.finish(22);case 25:case"end":return e.stop()}}),e,null,[[5,19,22,25]])})));return function(n){return e.apply(this,arguments)}}()).catch((function(e){console.error("Error adding document: ",e)}));case 6:case"end":return e.stop()}}),e)})),a.s();case 8:if((o=a.n()).done){e.next=12;break}return e.delegateYield(i(),"t0",10);case 10:e.next=8;break;case 12:e.next=17;break;case 14:e.prev=14,e.t1=e.catch(5),a.e(e.t1);case 17:return e.prev=17,a.f(),e.finish(17);case 20:return e.abrupt("return",r);case 21:case"end":return e.stop()}}),e,null,[[5,14,17,20]])})))).apply(this,arguments)}var Za=function(e){var n,t=Object(Lr.a)(e);try{for(t.s();!(n=t.n()).done;){var r=n.value;w.a.firestore().collection("Groups").doc(r[1].id).update({name:r[1].name}).catch((function(e){console.error(e)}))}}catch(a){t.e(a)}finally{t.f()}};function qa(e){return Ya.apply(this,arguments)}function Ya(){return(Ya=Object(G.a)(C.a.mark((function e(n){var t,r,a,o,i,c,s,u,l,d,p,f;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(n),t=new Map,r=Object(Lr.a)(n),e.prev=3,r.s();case 5:if((a=r.n()).done){e.next=35;break}if(o=a.value,"number"!==typeof(i=o[0])){e.next=10;break}return e.abrupt("continue",33);case 10:t.set(i,{users:new Map}),c=o[1].name,s=Object(Lr.a)(o[1].users),e.prev=13,s.s();case 15:if((u=s.n()).done){e.next=25;break}return l=u.value,d=l.id,p=l.email,e.next=21,Ka(i,c,p);case 21:f=e.sent,t.get(i).users.set(d,f);case 23:e.next=15;break;case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(13),s.e(e.t0);case 30:return e.prev=30,s.f(),e.finish(30);case 33:e.next=5;break;case 35:e.next=40;break;case 37:e.prev=37,e.t1=e.catch(3),r.e(e.t1);case 40:return e.prev=40,r.f(),e.finish(40);case 43:return e.abrupt("return",t);case 44:case"end":return e.stop()}}),e,null,[[3,37,40,43],[13,27,30,33]])})))).apply(this,arguments)}function Ka(e,n,t){return Ha.apply(this,arguments)}function Ha(){return(Ha=Object(G.a)(C.a.mark((function e(n,t,r){var a,o,i;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={email:r},e.next=3,w.a.auth().currentUser.uid;case 3:return o=e.sent,e.next=6,w.a.firestore().collection("Users").doc(o).get().then((function(e){return e.exists?e.data().userName:"NO_FOUND_NAME"}));case 6:return i=e.sent,e.next=9,w.a.firestore().collection("Users").where("email","==",r).get().then((function(e){e.forEach((function(e){var r={id:n,msg:"".concat(i," zaprosi\u0142 si\u0119 do grupy ").concat(t)};try{w.a.firestore().collection("Users").doc(e.id).collection("GroupsInvitations").doc(n).set(r),w.a.firestore().collection("Groups").doc(n).update({invitations:w.a.firestore.FieldValue.arrayUnion(e.id)}),a={id:e.id,userName:e.data().userName}}catch(o){console.log(o)}}))})).catch((function(e){console.log("Error getting documents (user id from email): ",e)}));case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ja=function(e){console.log(e);var n,t=Object(Lr.a)(e);try{for(t.s();!(n=t.n()).done;){var r,a=n.value,o=a[0],i=Object(Lr.a)(a[1].users);try{for(i.s();!(r=i.n()).done;){var c=r.value;try{w.a.firestore().collection("Groups").doc(o).update({members:w.a.firestore.FieldValue.arrayRemove(c)}),w.a.firestore().collection("Users").doc(c).collection("Groups").doc("Members").update({data:w.a.firestore.FieldValue.arrayRemove(o)})}catch(s){console.log(s)}}}catch(u){i.e(u)}finally{i.f()}}}catch(u){t.e(u)}finally{t.f()}};function Xa(e){return Qa.apply(this,arguments)}function Qa(){return(Qa=Object(G.a)(C.a.mark((function e(n){var t,r,a,o;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.auth().currentUser.uid;case 2:if(t=e.sent,n.length>0)for(r=w.a.firestore().collection("Users").doc(t).collection("Groups").doc("Members"),a=0;a<n.length;a++){o=n[a].id;try{w.a.firestore().collection("Groups").doc(o).update({members:w.a.firestore.FieldValue.arrayRemove(t)}),r.update({data:w.a.firestore.FieldValue.arrayRemove(o)})}catch(i){console.log(i)}}case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $a(){var e=Object(s.a)(["\n    border: 2px solid #73909C;\n    //min-height:50px;\n    margin: 10px;\n    font-family: 'Roboto', sans-serif;\n    color: #73909C;\n    font-size: 16px;\n    border-radius: 10px;\n    padding: 16px;\n    background-color: transparent;\n    &:focus {\n        border-radius: 10px;\n        border-color: #73909C;\n        outline: none;\n    }\n    &:active {\n        border-radius: 10px;\n        border-color: #73909C;\n        outline: none;\n    }\n"]);return $a=function(){return e},e}function eo(){var e=Object(s.a)(["\n    flex-direction:row;\n    //margin: 10px;\n    justify-content: space-around;\n"]);return eo=function(){return e},e}function no(){var e=Object(s.a)(["\n    min-height:50px;\n    min-width:417px;\n    margin: 10px;\n    display: flex;\n    flex-direction: row;\n    //text-align:center;\n    color: #73909C;\n"]);return no=function(){return e},e}function to(){var e=Object(s.a)(["\n    border: 2px solid #73909C;\n    //min-height:50px;\n    margin: 10px;\n    font-family: 'Roboto', sans-serif;\n    color: #73909C;\n    font-size: 16px;\n    border-radius: 10px;\n    padding: 16px;\n"]);return to=function(){return e},e}function ro(){var e=Object(s.a)(["\n"]);return ro=function(){return e},e}function ao(){var e=Object(s.a)(["\n    display: flex;\n    flex-wrap: wrap;\n    justify-content:space-around;\n    align-items:stretch;\n\t\twidth: fit-content;\n    flex-direction: column;\n"]);return ao=function(){return e},e}function oo(){var e=Object(s.a)(["\n    display: flex;\n    //justify-content: space-around;\n    align-items: center;\n    //align-content: center;\n    flex-direction: column;\n"]);return oo=function(){return e},e}function io(){var e=Object(s.a)(["\n    display: flex;\n    //justify-content: space-around;\n    //align-items: center;\n    //align-content: center;\n    flex-direction: column;\n"]);return io=function(){return e},e}function co(){var e=Object(s.a)(["\n    display: flex;\n    background-color: #FFFAF5;\n    //justify-content: space-around;\n    //align-items: center;\n    //align-content: center;\n    flex-direction: row;\n"]);return co=function(){return e},e}function so(){var e=Object(s.a)(["\n    width: 175px; \n    margin: 50px;\n    min-height: 25px;\n    margin-left:50px;\n    margin-right:50px;\n\n    //align-self: center;\n"]);return so=function(){return e},e}function uo(){var e=Object(s.a)(["\n    //min-width:100px;\n    width: 175px; \n    margin: 50px;\n    min-height: 25px;\n    margin-left:50px;\n    margin-right:50px;\n\n    //align-self:center;\n"]);return uo=function(){return e},e}function lo(){var e=Object(s.a)(["\n\n    //background-color: #dfdfdf;\n"]);return lo=function(){return e},e}function po(){var e=Object(s.a)(["\n    min-width: 100px;\n    min-height:50px;\n    display: flex;\n    background-color: #FFFAF5;\n    justify-content: space-between;\n    \n"]);return po=function(){return e},e}function fo(){var e=Object(s.a)(["\nwidth: 2px;\nmin-height:100px;\n    background-color: black;\n"]);return fo=function(){return e},e}function bo(){var e=Object(s.a)(["\n\t//min-width:100px;\n\tdisplay: flex;\n\tflex-direction: row;\n\talign-content: center;\n\tjustify-content: space-between;\n\ttext-align: center;\n\twidth: 175px;\n\tmargin-top: 16px;\n\tmin-height: 25px;\n\tmargin-left: 50px;\n\tmargin-right: 50px;\n\tpadding: 14px;\n\tborder: 3px solid #9c9083;\n\tborder-radius: 12px;\n\t//align-self:center;\n"]);return bo=function(){return e},e}function jo(){var e=Object(s.a)(["\ndisplay:flex;\n\n\tflex-direction: column;\n\tjustify-content: space-around;\n\twidth: 100%;\n\tcolor: #9c9083;\n\ttext-align: center;\n"]);return jo=function(){return e},e}function mo(){var e=Object(s.a)(["\n    //width: 200px;\n    //height: 50px;\n    //border: 2px solid #73909C;\n    background-color: #73909C;\n    color: #FFFFFF;\n    text-align: center;\n    font-size: 16px;\n    border-radius: 10px;\n    padding: 16px;\n    box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);\n    //width:100%;\n"]);return mo=function(){return e},e}function xo(){var e=Object(s.a)(["\n    //min-width:100px;\n    display: flex;\nflex-direction: row;\nalign-content: center;\njustify-content:space-between;\n    text-align:center;\n    width: 175px; \n    margin-top:16px;\n    min-height: 25px;\n    margin-left:50px;\n    margin-right:50px;\n    padding:14px;\n    background-color: #9C9083;\n    border: 3px solid #9C9083;\n    color:white;\n    border-radius: 30px;\n    //align-self:center;\n"]);return xo=function(){return e},e}function ho(){var e=Object(s.a)(["\n    //min-width:100px;\n    //width: 175px; \n    display: flex;\n    //flex-direction: row;\n    justify-content:space-between;\n    margin-top:16px;\n    min-height: 25px;\n    margin-left:50px;\n    margin-right:50px;\n    border: 3px solid #9C9083;\n    border-radius: 30px;\n    padding:14px;\n    //align-self:center;\n"]);return ho=function(){return e},e}function go(){var e=Object(s.a)(["\n    //min-width:100px;\n    //width: 175px; \n    display: flex;\n//flex-direction: row;\njustify-content:space-between;\n    margin-top:16px;\n    min-height: 25px;\n    margin-left:50px;\n    margin-right:50px;\n    border: 3px solid #9C9083;\n    border-radius: 30px;\n    padding:14px;\n    //align-self:center;\n"]);return go=function(){return e},e}function Oo(){var e=Object(s.a)(["\ndisplay:flex;\nflex-direction:column;\njustify-content:space-around;\ntext-align:center;\nwidth:100%;\ncolor:#9C9083;\n"]);return Oo=function(){return e},e}function vo(){var e=Object(s.a)(["\n    min-height:50px;\n    background-color: #FFFAF5;\n"]);return vo=function(){return e},e}function yo(){var e=Object(s.a)(["\n\tdisplay: flex;\n\tbackground-color: #fffaf5;\n\tflex-direction: row;\n\tjustify-content: space-between;\n\talign-items: stretch;\n"]);return yo=function(){return e},e}function wo(){var e=Object(s.a)(["\nmargin-bottom: 30px;\nflex-direction: row;\noverflow: auto;\nmax-height: 80vh;\nborder-radius: 15px;\n"]);return wo=function(){return e},e}function ko(){var e=Object(s.a)(["\n\ttext-decoration: none;\n\tborder: none;\n\tbackground: none;\n\toutline: none;\n\tcolor: #9c9083;\n\tfont-size: 16px;\n"]);return ko=function(){return e},e}function Co(){var e=Object(s.a)(["\n\ttext-decoration: none;\n\tborder: none;\n\tbackground: none;\n\toutline: none;\n\tcolor: #9c9083;\n\tfont-size: 16px;\n\twidth: 50%;\n\topacity: 1;\n"]);return Co=function(){return e},e}function Ao(e){if(0===e.groupDetails.size)return Object(r.jsx)("span",{});var n=e.groupDetails.id;return Object(r.jsx)("div",{children:Array.from(e.groupDetails.users.keys()).map((function(t){var a,o=e.groupDetails.users.get(t).id,i=e.groupDetails.users.get(t).email,c=e.groupDetails.users.get(t).userName,s=e.groupDetails.users.get(t).invitations;return a=void 0===c?i:!0===s?"? "+c:c,Object(r.jsx)(Io,{children:Object(r.jsxs)(Fo,{id:o,children:[a,Object(r.jsx)(Na.a,{onClick:function(){return e.fun(n,o)}})]})},o)}))})}function Go(e){return Object(r.jsx)("div",{children:e.groupDetails.users.map((function(e){var n;return console.log(e),n=!0===e.invitations?"? "+e.userName:e.userName,Object(r.jsx)(Io,{children:Object(r.jsx)(Fo,{children:n})},"".concat(e.id))}))})}function zo(){var e=Object(Fe.b)(),n=e.enqueueSnackbar,t=(e.closeSnackbar,Object(a.useState)({checkedA:!0,checkedB:!0,checkedF:!0,checkedG:!0,load:!1,userAdminGroupsView:new Map,userGroupsView:new Map,userAdminGroupsMembersView:new Map,userGroupsMembersView:[],TMP_AdminGroupsUndoList:[],TMP_AdminDeleteGroups:new Map,TMP_LeftFromGroups:[],TMP_AdminGroupsNew:new Map,TMP_AdminGroupsEditInfo:new Map,TMP_AdminGroupsAddMembers:new Map,TMP_AdminGroupsRemoveMembers:new Map})),o=Object(p.a)(t,2),i=o[0],c=o[1];Object(a.useEffect)((function(){!1===i.load&&function(){return _a.apply(this,arguments)}().then((function(e){(function(){return Ea.apply(this,arguments)})().then((function(n){c(Object(A.a)(Object(A.a)({},i),{},{userAdminGroupsView:e,userGroupsView:n,userAdminGroupsMembersView:Array.from(e.keys()).length>0?e.get(Array.from(e.keys())[0]):new Map,userGroupsMembersView:Array.from(n.keys()).length>0?n.get(Array.from(n.keys())[0]):{},load:!0}))}))}))}));var s=function(e){!1!==i.userAdminGroupsView.has(e)&&(Array.from(i.userAdminGroupsView.keys()).length>0?c(Object(A.a)(Object(A.a)({},i),{},{userAdminGroupsMembersView:i.userAdminGroupsView.get(e)})):c(Object(A.a)(Object(A.a)({},i),{},{userAdminGroupsMembersView:[]})))};function u(){return(u=Object(G.a)(C.a.mark((function e(){var t,r,a,o,s,u,l,d,f,b,j,m,x,h,g,O,v,y,w,k,G,z,M,P,S;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fa(i.TMP_AdminGroupsNew,i.TMP_AdminGroupsEditInfo,i.TMP_AdminGroupsAddMembers,i.TMP_AdminGroupsRemoveMembers,i.TMP_AdminDeleteGroups);case 2:if((t=e.sent).size>0){if(console.log("UPDATES",t),t.has("NEW-GROUPS-USERS-ID")){console.log("NEW-GROUPS-USERS-ID",t.get("NEW-GROUPS-USERS-ID")),r=Object(Lr.a)(t.get("NEW-GROUPS-USERS-ID").entries());try{for(r.s();!(a=r.n()).done;){o=Object(p.a)(a.value,2),s=o[0],u=o[1],l=s,d=u.id,f=i.userAdminGroupsView.get(l).name,i.userAdminGroupsView.set(d,{id:d,name:f,users:new Map}),i.userAdminGroupsView.delete(l),console.log("If email, err",u.users),b=Object(Lr.a)(u.users.entries());try{for(b.s();!(j=b.n()).done;)m=Object(p.a)(j.value,2),x=m[0],h=m[1],console.log(x,h),void 0===h.userName?n("Podany email ".concat(h.email," nie istnieje"),{variant:"error"}):i.userAdminGroupsView.get(d).users.set(h.id,{id:h.id,userName:h.userName,invitations:!0})}catch(C){b.e(C)}finally{b.f()}}}catch(C){r.e(C)}finally{r.f()}}if(t.has("NEW-USERS-ID")){console.log("NEW-USERS-ID",t.get("NEW-USERS-ID")),g=Object(Lr.a)(t.get("NEW-USERS-ID").entries());try{for(g.s();!(O=g.n()).done;){v=Object(p.a)(O.value,2),y=v[0],w=v[1],k=y,console.log("If email, err",w.users),G=Object(Lr.a)(w.users.entries());try{for(G.s();!(z=G.n()).done;)M=Object(p.a)(z.value,2),P=M[0],S=M[1],console.log(P,S),void 0===S.userName?n("Podany email ".concat(S.email," nie istnieje"),{variant:"error"}):i.userAdminGroupsView.get(k).users.set(S.id,{id:S.id,userName:S.userName,invitations:!0}),i.userAdminGroupsView.get(k).users.delete(P)}catch(C){G.e(C)}finally{G.f()}}}catch(C){g.e(C)}finally{g.f()}}Array.from(i.userAdminGroupsView.keys()).length>0?i.userAdminGroupsMembersView=i.userAdminGroupsView.get(Array.from(i.userAdminGroupsView.keys())[0]):i.userAdminGroupsMembersView=new Map}i.TMP_AdminGroupsNew=new Map,i.TMP_AdminGroupsEditInfo=new Map,i.TMP_AdminGroupsAddMembers=new Map,i.TMP_AdminGroupsRemoveMembers=new Map,i.TMP_AdminDeleteGroups=new Map,c(Object(A.a)(Object(A.a)({},i),{},{userAdminGroupsView:i.userAdminGroupsView,userAdminGroupsMembersView:i.userAdminGroupsMembersView,TMP_AdminGroupsEditInfo:i.TMP_AdminGroupsEditInfo,TMP_AdminGroupsAddMembers:i.TMP_AdminGroupsAddMembers,TMP_AdminGroupsRemoveMembers:i.TMP_AdminGroupsRemoveMembers,TMP_AdminGroupsUndoList:[],TMP_AdminGroupsNew:i.TMP_AdminGroupsNew,TMP_AdminDeleteGroups:i.TMP_AdminDeleteGroups})),n("Operacja zosta\u0142a wykonana",{variant:"success"});case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(){return(l=Object(G.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xa(i.TMP_LeftFromGroups);case 2:n("Operacja zosta\u0142a wykonana pomy\u015blnie",{variant:"success"}),c(Object(A.a)(Object(A.a)({},i),{},{TMP_LeftFromGroups:[]}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.jsx)(Zo,{children:Object(r.jsxs)(qo,{children:[Object(r.jsxs)(So,{children:[Object(r.jsx)(Do,{}),Object(r.jsxs)(To,{children:[Object(r.jsxs)(No,{children:[Object(r.jsx)("div",{children:"Zarz\u0105dzaj swoimi grupami"}),i.userAdminGroupsView.size>0&&Array.from(i.userAdminGroupsView.keys()).map((function(e){if("Friends"!==e){var n=i.userAdminGroupsView.get(e).name;return Object(r.jsx)(Io,{onClick:function(){return s(e)},children:Object(r.jsxs)(Uo,{children:[Object(r.jsx)(Mo,{maxLength:"20",placeholder:n,color:"#9C9083",onKeyDown:function(n){return function(e,n){if("Enter"===e.key&&""!==e.target.value){var t=i.userAdminGroupsView.get(n).name;i.TMP_AdminGroupsUndoList.push({undo:function(){i.TMP_AdminGroupsEditInfo.delete(n),i.userAdminGroupsView.get(n).name=t,c(Object(A.a)(Object(A.a)({},i),{},{userAdminGroupsView:i.userAdminGroupsView,TMP_AdminGroupsEditInfo:i.TMP_AdminGroupsEditInfo})),console.log("Undo: edit group ".concat(n))}}),i.userAdminGroupsView.get(n).name=e.target.value,i.TMP_AdminGroupsEditInfo.set(n,i.userAdminGroupsView.get(n)),c(Object(A.a)(Object(A.a)({},i),{},{userAdminGroupsView:i.userAdminGroupsView,TMP_AdminGroupsEditInfo:i.TMP_AdminGroupsEditInfo}))}}(n,e)}}),Object(r.jsx)(Lt.a,{onClick:function(){return function(e){var n=i.userAdminGroupsView.get(e);i.TMP_AdminGroupsUndoList.push({undo:function(){i.TMP_AdminDeleteGroups.delete(e),i.userAdminGroupsView.set(e,n),c(Object(A.a)(Object(A.a)({},i),{},{userAdminGroupsView:i.userAdminGroupsView,TMP_AdminDeleteGroups:i.TMP_AdminDeleteGroups})),console.log("Undo: delete group ".concat(e))}}),i.TMP_AdminDeleteGroups.set(e,n),i.userAdminGroupsView.delete(e),c(Object(A.a)(Object(A.a)({},i),{},{userAdminGroupsView:i.userAdminGroupsView,TMP_AdminDeleteGroups:i.TMP_AdminDeleteGroups}))}(e)}})]})},e)}return Object(r.jsx)(Io,{onClick:function(){return s(e)},children:Object(r.jsx)(_o,{children:"Znajomi"})},e)})),Object(r.jsx)(Io,{children:Object(r.jsxs)(Vo,{children:[Object(r.jsx)(Po,{maxLength:"150",placeholder:"Dodaj grupe",color:"#9C9083",onKeyDown:function(e){if("Enter"===e.key&&""!=e.target.value){var n={id:Math.random(),name:e.target.value,users:new Map};i.userAdminGroupsView.set(n.id,n),i.TMP_AdminGroupsNew.set(n.id,n),i.TMP_AdminGroupsUndoList.push({undo:function(){i.TMP_AdminGroupsNew.delete(n.id),i.userAdminGroupsView.delete(n.id),c(Object(A.a)(Object(A.a)({},i),{},{TMP_AdminGroupsNew:i.TMP_AdminGroupsNew,userAdminGroupsView:i.userAdminGroupsView})),console.log("Undo: crete new group ".concat(n.id))}}),c(Object(A.a)(Object(A.a)({},i),{},{userAdminGroupsView:i.userAdminGroupsView,TMP_AdminGroupsUndoList:i.TMP_AdminGroupsUndoList,TMP_AdminGroupsNew:i.TMP_AdminGroupsNew})),s(n.id),e.target.value=""}}})," "]})})]}),Object(r.jsx)(Lo,{}),Object(r.jsx)(Eo,{children:i.userAdminGroupsView.size>0&&Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{children:["Cz\u0142onkowie grupy:",Object(r.jsx)("span",{style:{marginLeft:5,textDecoration:"underline"},children:i.userAdminGroupsMembersView.name})]}),Object(r.jsx)(Io,{children:Object(r.jsxs)(Fo,{children:[Object(r.jsx)(Po,{maxLength:"150",placeholder:"Podaj email",color:"#9C9083",onKeyDown:function(e){if(0!==i.userAdminGroupsMembersView.length&&"Enter"===e.key&&""!==e.target.value){var n=i.userAdminGroupsMembersView.id,t={id:Math.random(),email:e.target.value};if(e.target.value="",i.TMP_AdminGroupsUndoList.push({undo:function(){i.TMP_AdminGroupsAddMembers.get(n).users.pop(),0===i.TMP_AdminGroupsAddMembers.get(n).users.length&&i.TMP_AdminGroupsAddMembers.delete(n),i.userAdminGroupsView.get(n).users.delete(t.id),c(Object(A.a)(Object(A.a)({},i),{},{TMP_AdminGroupsAddMembers:i.TMP_AdminGroupsAddMembers,userAdminGroupsView:i.userAdminGroupsView})),console.log("Undo: add new member ".concat(t.id," to group: ").concat(n))}}),i.userAdminGroupsView.get(n).users.set(t.id,t),i.TMP_AdminGroupsAddMembers.has(n))i.TMP_AdminGroupsAddMembers.get(n).users.push(t);else{var r=i.userAdminGroupsMembersView.name;i.TMP_AdminGroupsAddMembers.set(n,{name:r,users:[t]})}i.userAdminGroupsMembersView=i.userAdminGroupsView.get(n),c(Object(A.a)(Object(A.a)({},i),{},{userAdminGroupsView:i.userAdminGroupsView,TMP_AdminGroupsAddMembers:i.TMP_AdminGroupsAddMembers,userAdminGroupsMembersView:i.userAdminGroupsMembersView}))}}})," "]})}),Object(r.jsx)(Ao,{groupDetails:i.userAdminGroupsMembersView,fun:function(e,n){console.log("removeUserFromGroupTemp = (".concat(e,", ").concat(n,")"));var t=i.userAdminGroupsView.get(e).users.get(n);i.TMP_AdminGroupsUndoList.push({undo:function(){i.TMP_AdminGroupsRemoveMembers.get(e).users.pop(),0===i.TMP_AdminGroupsRemoveMembers.get(e).users.length&&i.TMP_AdminGroupsRemoveMembers.delete(e),i.userAdminGroupsView.get(e).users.set(t.id,t),c(Object(A.a)(Object(A.a)({},i),{},{userAdminGroupsView:i.userAdminGroupsView,TMP_AdminGroupsRemoveMembers:i.TMP_AdminGroupsRemoveMembers})),console.log("Undo: remove user ".concat(n," from group ").concat(e))}}),i.TMP_AdminGroupsRemoveMembers.has(e)?i.TMP_AdminGroupsRemoveMembers.get(e).users.push(n):i.TMP_AdminGroupsRemoveMembers.set(e,{users:[n]}),i.userAdminGroupsMembersView=i.userAdminGroupsView.get(e),c(Object(A.a)(Object(A.a)({},i),{},{userAdminGroupsView:i.userAdminGroupsView.get(e).users.delete(n)})),c(Object(A.a)(Object(A.a)({},i),{},{userAdminGroupsMembersView:i.userAdminGroupsMembersView})),c(Object(A.a)(Object(A.a)({},i),{},{TMP_AdminGroupsRemoveMembers:i.TMP_AdminGroupsRemoveMembers}))}})]})})]}),Object(r.jsxs)(Ro,{children:[Object(r.jsx)(Io,{children:Object(r.jsx)(Wo,{children:Object(r.jsx)(ne,{text:"Cofnij",color:"#73909C",type:"outlined",style:{color:"#73909C"},onClick:function(){if(i.TMP_AdminGroupsUndoList.length>0){var e=i.TMP_AdminGroupsUndoList.pop();c(Object(A.a)(Object(A.a)({},i),{},{TMP_AdminGroupsUndoList:i.TMP_AdminGroupsUndoList})),e.undo()}}})})}),Object(r.jsx)(Io,{children:Object(r.jsx)(Bo,{children:Object(r.jsx)(ne,{text:"Zatwierd\u017a zmiany",color:"#73909C",type:"contained",style:{color:"#fff"},onClick:function(){return u.apply(this,arguments)}})})})]})]}),Object(r.jsxs)(So,{children:[Object(r.jsx)(Do,{}),Object(r.jsxs)(To,{children:[Object(r.jsxs)(No,{children:[Object(r.jsx)("div",{children:"Twoje grupy"}),i.userGroupsView.size>0&&Array.from(i.userGroupsView.keys()).map((function(e){var n=i.userGroupsView.get(e).name;return Object(r.jsx)(Io,{onClick:function(){return n=e,void(!1!==i.userGroupsView.has(n)&&(Array.from(i.userGroupsView.keys()).length?c(Object(A.a)(Object(A.a)({},i),{},{userGroupsMembersView:i.userGroupsView.get(n)})):c(Object(A.a)(Object(A.a)({},i),{},{userGroupsMembersView:[]}))));var n},children:Object(r.jsxs)(Uo,{children:[n,Object(r.jsx)(Na.a,{onClick:function(){return function(e){var n=i.userGroupsView.get(e);i.TMP_LeftFromGroups.push(n),c(Object(A.a)(Object(A.a)({},i),{},{TMP_LeftFromGroups:i.TMP_LeftFromGroups})),i.userGroupsView.delete(e),Array.from(i.userGroupsView.keys()).length>0?c(Object(A.a)(Object(A.a)({},i),{},{userGroupsView:i.userGroupsView,userGroupsMembersView:i.userGroupsView.get(Array.from(i.userGroupsView.keys())[0])})):c(Object(A.a)(Object(A.a)({},i),{},{userGroupsView:[],userGroupsMembersView:[]}))}(e)}})]})},e)}))]}),Object(r.jsx)(Lo,{}),Object(r.jsxs)(Eo,{children:[Object.keys(i.userGroupsMembersView).length<=0&&Object(r.jsx)("div",{children:"Nie nale\u017cysz do \u017cadnej grupy"}),Object.keys(i.userGroupsMembersView).length>0&&Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{children:["Cz\u0142onkowie grupy:",Object(r.jsx)("span",{style:{marginLeft:5,textDecoration:"underline"},children:i.userGroupsMembersView.name})]}),Object(r.jsx)(Go,{groupDetails:i.userGroupsMembersView})]})]})]}),Object(r.jsxs)(Ro,{children:[Object(r.jsx)(Io,{children:Object(r.jsx)(Wo,{children:Object(r.jsx)(ne,{text:"Cofnij",color:"#73909C",type:"outlined",style:{color:"#73909C"},onClick:function(){if(i.TMP_LeftFromGroups.length>0){var e=i.TMP_LeftFromGroups.pop();c(Object(A.a)(Object(A.a)({},i),{},{TMP_LeftFromGroups:i.TMP_LeftFromGroups})),i.userGroupsView.set(e.id,e),c(Object(A.a)(Object(A.a)({},i),{},{userGroupsView:new Map(Object(U.a)(i.userGroupsView.entries()).sort())}))}}})})}),Object(r.jsx)(Io,{children:Object(r.jsx)(Bo,{children:Object(r.jsx)(ne,{text:"Zatwierd\u017a zmiany",color:"#73909C",type:"contained",style:{color:"#fff"},onClick:function(){return l.apply(this,arguments)}})})})]})]})]})})}var Mo=d.a.input(Co()),Po=d.a.input(ko()),So=d.a.div(wo()),To=d.a.div(yo()),Do=d.a.div(vo()),No=d.a.div(Oo()),Uo=d.a.div(go()),Vo=d.a.div(ho()),_o=d.a.div(xo()),Eo=(d.a.div(mo()),d.a.div(jo())),Fo=d.a.div(bo()),Lo=d.a.div(fo()),Ro=d.a.div(po()),Io=d.a.div(lo()),Wo=d.a.div(uo()),Bo=d.a.div(so()),Zo=(d.a.div(co()),d.a.div(io()),d.a.div(oo())),qo=d.a.div(ao()),Yo=(d.a.img(ro()),d.a.div(to()),d.a.div(no()));Object(d.a)(Yo)(eo()),d.a.input($a());function Ko(){var e=Object(s.a)(['\n  min-width: 95vw;\n  min-height: 100vh;\n  padding: 0 120px 0 120px;\n  box-sizing: border-box;\n  background-image: url("',"//",":",'/assets/background.png");\n  background-size: cover;\n  background-position: center;\n  background-repeat: no-repeat;\n  display: flex;\n  flex-direction: column;\n']);return Ko=function(){return e},e}var Ho=window.location.hostname,Jo=window.location.protocol,Xo=window.location.port,Qo=d.a.div(Ko(),Jo,Ho,Xo),$o=function(){return Object(r.jsxs)(P,{children:[Object(r.jsx)(D,{}),Object(r.jsx)(Qo,{children:Object(r.jsx)(u.a,{history:Ee,children:Object(r.jsxs)(T,{children:[Object(r.jsx)(J,{}),Object(r.jsxs)(l.c,{children:[Object(r.jsx)(l.a,{path:"/login/:path?",children:Object(r.jsx)(In,{})}),Object(r.jsx)(l.a,{path:"/calendar",children:Object(r.jsx)(ge,{})}),Object(r.jsx)(l.a,{path:"/settings",children:Object(r.jsx)(Sa,{})}),Object(r.jsx)(l.a,{path:"/Groups",children:Object(r.jsx)(zo,{})}),Object(r.jsx)(l.a,{path:"/",children:Object(r.jsx)(ya,{})})]})]})})})]})},ei=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,329)).then((function(n){var t=n.getCLS,r=n.getFID,a=n.getFCP,o=n.getLCP,i=n.getTTFB;t(e),r(e),a(e),o(e),i(e)}))},ni=t(162);"serviceWorker"in navigator&&navigator.serviceWorker.register("../firebase-messaging-sw.js").then((function(e){console.log("Registration successful, scope is:",e.scope)})).catch((function(e){console.log("Service worker registration failed, error:",e)}));ni.a.initializeApp({apiKey:"AIzaSyCJ380bCZ3ukDzkf8dV09B0BqMQPPaN3u4",authDomain:"memohelp.firebaseapp.com",databaseURL:"https://memohelp.firebaseio.com",projectId:"memohelp",storageBucket:"memohelp.appspot.com",messagingSenderId:"882484536209",appId:"1:882484536209:web:49acd2ff387b98c97c7030",measurementId:"G-LDVD4K1EZJ"}),c.a.render(Object(r.jsx)(E.a,{children:Object(r.jsx)(o.a.StrictMode,{children:Object(r.jsxs)(Fe.a,{children:[Object(r.jsx)("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"}),Object(r.jsx)($o,{})]})})}),document.getElementById("root")),ei()},40:function(e,n,t){e.exports={container:"Settings_container__3CWaX",header:"Settings_header__12ONl",settings:"Settings_settings__rH3zd",settingsContentBox:"Settings_settingsContentBox__2IE7P",settingsOption:"Settings_settingsOption__yS9kk",warning:"Settings_warning__Z_vDd",buttons:"Settings_buttons__1seXG",htmlType:"Settings_htmlType__3Iev_"}}},[[266,1,2]]]);
//# sourceMappingURL=main.2137c704.chunk.js.map